var h=(t,r,n)=>new Promise((a,l)=>{var s=i=>{try{c(n.next(i))}catch(d){l(d)}},o=i=>{try{c(n.throw(i))}catch(d){l(d)}},c=i=>i.done?a(i.value):Promise.resolve(i.value).then(s,o);c((n=n.apply(t,r)).next())});import{v as e,u as T,_,l as w,p as I,n as C}from"./main.50abc935.js";import{a as $}from"./alert-circle.4df9b043.js";import{u as v}from"./useEmitter.cb46a42f.js";import{S,c as k}from"./check-svgrepo-com.3d930d88.js";import{a as R}from"./arrow-right.c9e4ddf7.js";import{I as V}from"./index.de0fdd57.js";import{e as D}from"./popper.esm.d8371509.js";const E=e.defineComponent({name:"DocumentIndicatorsTableAlert",props:{icon:{type:Boolean,required:!1}},setup(){const t=T(),r=e.ref(t.params.region),n=e.computed(()=>{switch(r.value){case"USA":return"\u043C\u043B\u043D. \u0434\u043E\u043B\u043B. \u0421\u0428\u0410";case"RUS":return"\u043C\u043B\u043D. \u0440\u0443\u0431."}});return{alertIcon:$,region:r,getRegion:n}}});const B={class:"tableAlert flexRowCenter"},x=["src"];function P(t,r,n,a,l,s){return e.openBlock(),e.createElementBlock("div",B,[t.icon?(e.openBlock(),e.createElementBlock("img",{key:0,alt:"\u0423\u0432\u0435\u0434\u043E\u043C\u043B\u0435\u043D\u0438\u0435",src:t.alertIcon},null,8,x)):e.createCommentVNode("",!0),e.createElementVNode("p",{class:e.normalizeClass({ml0:!t.icon})},e.toDisplayString(t.$t("tableTexts.alertText"))+" "+e.toDisplayString(t.getRegion),3)])}const de=_(E,[["render",P],["__scopeId","data-v-d20531f5"]]),N=e.defineComponent({name:"DocumentIndicatorsTableProps",emits:["onChangeParam","onChangeDocumentTableReport"],setup(t,{emit:r}){const n=v(),a=w(),l=e.ref(""),s=c=>h(this,null,function*(){try{l.value!==c&&(a.commit("documentStore/changeCurrentTableProp",c),r("onChangeParam",c),r("onChangeDocumentTableReport",c),l.value=c,n.emit("onChangeDocumentTableProp"))}catch(i){console.error(i)}finally{console.log("Finally")}}),o=e.computed(()=>a.getters["documentStore/getCurrentTableProp"]);return e.onUnmounted(()=>{n.off("onChangeDocumentTableProp")}),{getProp:o,changeParam:s}}}),q={class:"period"};function L(t,r,n,a,l,s){return e.openBlock(),e.createElementBlock("div",q,[e.createElementVNode("span",{class:e.normalizeClass({picked:t.getProp==="year"}),onClick:r[0]||(r[0]=o=>t.changeParam("year"))},e.toDisplayString(t.$t("companyIndicators.tableProps.year.name")),3),e.createElementVNode("span",{class:e.normalizeClass({picked:t.getProp==="quarter"}),onClick:r[1]||(r[1]=o=>t.changeParam("quarter"))},e.toDisplayString(t.$t("companyIndicators.tableProps.quarter.name")),3)])}const me=_(N,[["render",L]]),A=e.defineComponent({name:"DocumentIndicatorsTableUtils",components:{Switcher:S,InputDropdown:V},props:{isUtils:{type:Boolean,default:!1}},setup(t,{emit:r}){I();const n=v(),a=w();T();const l=e.ref(Math.random()),s=e.ref(t.isUtils),o=e.computed(()=>a.getters["documentStore/getIndicatorsChartCategories"]),c=e.computed(()=>a.getters["documentStore/getEmitentData"]),i=e.ref(!0),d=()=>{a.commit("documentStore/clearViewedComparisonIndicators"),a.commit("documentStore/clearCurrentComparison"),a.commit("documentStore/resetSwitcherMiddleIndicators"),a.commit("documentStore/resetViewedComparisonPercentIndicators"),l.value=Math.random()},p=f=>{switch(f){case"left":{n.emit("scrollIndicatorsTableToLeft");break}case"right":{n.emit("scrollIndicatorsTableToRight");break}}};return e.onMounted(()=>h(this,null,function*(){})),{arrow:R,onScrollTableTo:p,resetComparisonState:d,renderComponent:i,category:o,prop:c,key:l,isShowUtils:s,i18n:C}}});const U={class:"utils flexRowCenter"},F={class:"arrows flexRowCenter"},W=["src"],H=["src"];function M(t,r,n,a,l,s){return e.openBlock(),e.createElementBlock("div",U,[e.createElementVNode("div",F,[e.createElementVNode("img",{alt:"< scroll to left",src:t.arrow,onClick:r[0]||(r[0]=o=>t.onScrollTableTo("left"))},null,8,W),e.createElementVNode("img",{alt:"scroll to right >",class:"arrow-right",src:t.arrow,onClick:r[1]||(r[1]=o=>t.onScrollTableTo("right"))},null,8,H)])])}const pe=_(A,[["render",M],["__scopeId","data-v-7c703e21"]]),j=e.defineComponent({name:"DocumentIndicatorsTableRow",emits:["onChangeChartDataView"],props:{item:{type:Object,required:!0},id:{type:String,required:!0},isReportPage:{type:Boolean,default:!1},annotation:{type:String,default:">"}},components:{Popper:D},setup(t,{emit:r}){const n=e.ref(null),a=v(),l=e.ref([]),s=e.ref(0),o=e.ref(0),c=e.ref(t.annotation),i=e.computed(()=>t.item),d=()=>{l.value=document.querySelectorAll(".__balance-row .rowValue.flexRowCenter.tableValue"),s.value=document.querySelector(".__balance-row .tableValueItem").offsetWidth,l.value.forEach(m=>{m.style.left=0})},p=()=>{l.value=[],s.value=0,o.value=0},f=()=>{o.value!==0&&(o.value-=s.value,l.value.forEach(m=>{m.style.left=`-${o.value}px`}))},y=()=>{const m=document.querySelector(".__balance-row .rowValue.flexRowCenter.tableValue").scrollWidth;o.value>=m-950||(o.value+=s.value,l.value.forEach(u=>{u.style.left=`-${o.value}px`}))},g=m=>{const u=Number(m);return Number.isInteger(u)?u:Number(u.toFixed(2))},b=e.computed(()=>Object.values(t.item.data).reverse());return a.on("scrollIndicatorsTableToLeft",()=>{f()}),a.on("scrollIndicatorsTableToRight",()=>{y()}),a.on("onChangeDocumentTableProp",()=>{p(),d()}),e.onMounted(()=>{d()}),e.onUnmounted(()=>{a.off("scrollIndicatorsTableToLeft"),a.off("scrollIndicatorsTableToRight"),p()}),{root:n,alertIcon:$,changingIcon:k,getItem:i,getReverseData:b,makeNumFormat:g,annotation:c,i18n:C}}});const O={ref:"root",class:"__balance-row tableRow flexRowCenter tableContent"},z={class:"rowIndex flexRowCenterTable tableValue tableRowName",style:{"max-width":"220px"}},Q={style:{width:"220px",display:"flex"}},Y={style:{"max-width":"155px",display:"inline-block"}},G={class:"rowValue flexRowCenter tableValue",style:{position:"relative"}};function J(t,r,n,a,l,s){return e.openBlock(),e.createElementBlock("div",O,[e.createElementVNode("div",z,[e.createElementVNode("p",Q,[e.createElementVNode("span",Y,e.toDisplayString(t.getItem.name)+" \xA0 ",1)])]),e.createElementVNode("div",G,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(t.getReverseData,(o,c)=>(e.openBlock(),e.createElementBlock("p",{key:c,class:"tableValueItem"},e.toDisplayString(t.makeNumFormat(o).toLocaleString()),1))),128))])],512)}const fe=_(j,[["render",J],["__scopeId","data-v-0dd73c59"]]),K=e.defineComponent({name:"DocumentIndicatorsTableHeader",props:{data:{type:Object,required:!0},categories:{type:Object,required:!0},quarters:{type:Array,required:!0},namespaceWrapper:{type:String,default:""},type:{type:String,default:""}},setup(t){console.log(t);const r=e.ref(null),n=v(),a=e.computed(()=>t.type),l=e.ref(""),s=e.ref(0),o=e.ref(0),c=e.computed(()=>Object.values(t.categories).reverse()),i=e.computed(()=>Array.from(t.quarters).reverse()),d=()=>{o.value!==0&&(o.value-=s.value,l.value.style.left=`-${o.value}px`)},p=()=>{const u=document.querySelector(".__balance-head .rowValue").scrollWidth;o.value>=u-950||(o.value+=s.value,l.value.style.left=`-${o.value}px`)},f=()=>{const u=document.querySelector(".__balance-head .tableValue");u.scrollLeft=100,u.scrollRight=200},y=u=>{console.log(u)},g=()=>{l.value=document.querySelector(".__balance-head .rowValue"),s.value=document.querySelector(".__balance-head .tableValueItem").scrollWidth,document.querySelector(".__balance-head .rowValue").style.left=0},b=()=>{s.value=0,o.value=0};return n.on("scrollIndicatorsTableToLeft",()=>{d()}),n.on("scrollIndicatorsTableToRight",()=>{p()}),n.on("onChangeDocumentTableProp",()=>{b(),g()}),e.onMounted(()=>{g()}),e.onUnmounted(()=>{n.off("scrollIndicatorsTableToLeft"),n.off("scrollIndicatorsTableToRight"),b()}),{root:r,getReverseCategories:c,getReverseQuarters:i,scrollToRight:p,scrollToLeft:d,scrollHorizontal:f,mouseDownTable:u=>{},scrollHandle:y,typeData:a}}});const X={ref:"root",class:"__balance-head tableRow flexRowCenter tableRowHeader"},Z={class:"rowIndex flexRowCenter tableValue tableRowName",style:{"max-width":"220px"}},ee={style:{width:"220px"}},te={class:"rowValue flexRowCenter tableValue valueCols",style:{position:"relative"}};function oe(t,r,n,a,l,s){const o=e.resolveComponent("vue-custom-scrollbar");return e.openBlock(),e.createBlock(o,{class:"scroll-area",settings:t.settings,onPsScrollY:t.scrollHandle},{default:e.withCtx(()=>[e.createElementVNode("div",X,[e.createElementVNode("div",Z,[e.createElementVNode("p",ee,e.toDisplayString(t.$t("tableTexts.index")),1)]),e.createElementVNode("div",te,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(t.getReverseCategories,(c,i)=>(e.openBlock(),e.createElementBlock("p",{key:i,class:"tableValueItem"},[t.getReverseQuarters?(e.openBlock(),e.createElementBlock(e.Fragment,{key:0},[e.createTextVNode(e.toDisplayString(c)+" "+e.toDisplayString(t.getReverseQuarters[i]),1)],64)):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createTextVNode(e.toDisplayString(c),1)],64))]))),128))])],512)]),_:1},8,["settings","onPsScrollY"])}const _e=_(K,[["render",oe],["__scopeId","data-v-cb47a6eb"]]);export{_e as D,fe as a,pe as b,me as c,de as d};
//# sourceMappingURL=index.18d4bb87.js.map
