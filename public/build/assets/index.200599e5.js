var Wt=Object.defineProperty,Gt=Object.defineProperties;var Kt=Object.getOwnPropertyDescriptors;var It=Object.getOwnPropertySymbols;var Zt=Object.prototype.hasOwnProperty,qt=Object.prototype.propertyIsEnumerable;var Nt=(y,a,L)=>a in y?Wt(y,a,{enumerable:!0,configurable:!0,writable:!0,value:L}):y[a]=L,at=(y,a)=>{for(var L in a||(a={}))Zt.call(a,L)&&Nt(y,L,a[L]);if(It)for(var L of It(a))qt.call(a,L)&&Nt(y,L,a[L]);return y},ct=(y,a)=>Gt(y,Kt(a));var U=(y,a,L)=>new Promise((u,f)=>{var w=S=>{try{O(L.next(S))}catch(h){f(h)}},C=S=>{try{O(L.throw(S))}catch(h){f(h)}},O=S=>S.done?u(S.value):Promise.resolve(S.value).then(w,C);O((L=L.apply(y,a)).next())});import{v as d,_ as J,k as jt,p as rt,A as Jt,L as ht}from"./main.50abc935.js";import{I as Qt}from"./index.de0fdd57.js";import{h as K}from"./highcharts.e06d80e4.js";import{S as xt}from"./stock.2a7d0cca.js";import{u as ut,e as nt}from"./useEmitter.cb46a42f.js";import{u as gt}from"./index.ea6da743.js";import{T as te}from"./index.358e587e.js";import{u as ee}from"./useSSR.5ef275e1.js";import"./useVModel.13ad703e.js";const ie=d.defineComponent({name:"TechnicalAnalysisPageClearBtn",emits:["onClick"],setup(y,{emit:a}){return{onClick:()=>{a("onClick")}}}});const oe=y=>(d.pushScopeId("data-v-c66a6902"),y=y(),d.popScopeId(),y),ne=oe(()=>d.createElementVNode("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M25.5 13.5C25.5 20.1274 20.1274 25.5 13.5 25.5C6.87258 25.5 1.5 20.1274 1.5 13.5C1.5 6.87258 6.87258 1.5 13.5 1.5C20.1274 1.5 25.5 6.87258 25.5 13.5ZM27 13.5C27 20.9558 20.9558 27 13.5 27C6.04416 27 0 20.9558 0 13.5C0 6.04416 6.04416 0 13.5 0C20.9558 0 27 6.04416 27 13.5ZM18.9697 20.0303L13.5 14.5607L8.03033 20.0303L6.96967 18.9697L12.4393 13.5L6.96967 8.03033L8.03033 6.96967L13.5 12.4393L18.9697 6.96967L20.0303 8.03033L14.5607 13.5L20.0303 18.9697L18.9697 20.0303Z",fill:"#797979"},null,-1)),se=[ne];function re(y,a,L,u,f,w){return d.openBlock(),d.createElementBlock("svg",{class:"clearBtn",onClick:a[0]||(a[0]=(...C)=>y.onClick&&y.onClick(...C)),width:"27",height:"27",viewBox:"0 0 27 27",fill:"none",xmlns:"http://www.w3.org/2000/svg"},se)}const Ft=J(ie,[["render",re],["__scopeId","data-v-c66a6902"]]),$t=jt("userStore",{state:()=>({userInfo:{}}),getters:{getId(y){return Number(y.userInfo.USER_ID)}},actions:{setCurrentUser(y=!1){return U(this,null,function*(){const L=yield rt().getUser(y);if(L.status===Jt.success)try{Object.assign(this.userInfo,L.data),y&&(this.userInfo.USER_ID=7307)}catch(u){console.error("setCurrentUser error"),console.error(u)}})}}}),tt=jt("technicalAnalysis",{state:()=>({selectedPreset:"",userId:7307,topAxisHeight:500,defaultAdditionalAxisHeight:70,countAxis:1,nextAxisId:2,annotations:[],isNeedUpdateChart:!1,isDisablePage:!1,allAssets:[],allAssetsBackup:[],selectedAssets:[],basicAsset:{ID:"",NAME:""},allIndicators:[],allIndicatorsBackup:[],selectedIndicators:[],existIndicators:[],saveList:[],selectedChartName:null,selectedAssetsDetails:[],chartMainYAxis:[],isRequestSelectedAssetsDetails:!1,currentRange:"max",currentType:"line",selectedAnnotationsColors:{stroke:"rgba(51,199,32,0.8)",fill:"rgba(30,204,30,0.2)"},fontOptions:{size:14},isAnnotationSelected:!1,isDarkMode:!1,isNeedUpdateBasicAsset:!1,selectedChartMode:"ohlc",lineChart:{mainSeries:[],categories:[]},candleChart:{mainSeries:[]}}),getters:{getDefaultChart:y=>{for(let a=0;a<y.saveList.length-1;a++)if(y.saveList[a].label==="\u041F\u043E-\u0443\u043C\u043E\u043B\u0447\u0430\u043D\u0438\u044E")return y.saveList[a]},getNextAxisId:y=>`axis-${y.nextAxisId}`,getCurrentChartHeight:y=>y.topAxisHeight+y.defaultAdditionalAxisHeight*y.countAxis},actions:{toggleDarkMode(){this.isDarkMode=!this.isDarkMode},changeSelectedAnnotationsColors(y,a){const{r:L,g:u,b:f,a:w}=a.rgba,C=`rgba(${L},${u},${f},${w})`;y==="stroke"?this.selectedAnnotationsColors.stroke=C:y==="fill"&&(this.selectedAnnotationsColors.fill=C)},initColors(y){this.selectedAnnotationsColors.stroke=y.stroke,this.selectedAnnotationsColors.fill=y.fill},resetColors(){this.selectedAnnotationsColors.stroke="rgba(51,199,32,0.8)",this.selectedAnnotationsColors.fill="rgba(30,204,30,0.2)"},addExistIndicator(y){this.existIndicators.push(y)},increaseNextAxisId(){this.nextAxisId+=1},increaseCountAxis(){this.countAxis+=1},decreaseCountAxis(){this.countAxis-=1},changeIsDisablePage(y){this.isDisablePage=y},changeCurrentRange(y){this.currentRange=y},changeCurrentType(y){this.currentType=y},changeSelectedAssets(y){return U(this,null,function*(){try{this.isSelectedAsset(y)?(this.deleteSelectedAsset(y),this.basicAsset.ID===y.ID&&this.selectedAssets.length>0&&Object.assign(this.basicAsset,this.selectedAssets[0])):(this.selectedAssets.push(y),this.basicAsset.ID===""&&Object.assign(this.basicAsset,y)),yield this.savePreset()}catch(a){console.error("changeSelectedAssets"),console.error(a)}})},changeSelectedIndicators(y){return U(this,null,function*(){this.isSelectedIndicator(y)?this.deleteSelectedIndicator(y):this.selectedIndicators.push(y),yield this.savePreset()})},deleteSelectedAsset(y){let a=-1;for(const[L,u]of this.selectedAssets.entries())if(u.ID===y.ID){a=L;break}a!==-1&&(this.selectedAssets.splice(a,1),this.selectedAssetsDetails.splice(a,1),this.chartMainYAxis.splice(a,1),this.isNeedUpdateChart=!0,this.selectedAssets.length>0?Object.assign(this.basicAsset,this.selectedAssets[0]):y.ID===this.basicAsset.ID&&(this.basicAsset={ID:"",NAME:""}))},deleteSelectedIndicator(y){const a=this.selectedIndicators.indexOf(y);a!==-1&&this.selectedIndicators.splice(a,1)},redrawChart(){this.isNeedUpdateChart=!0,this.isDisablePage=!0},resetSelectedAssets(){this.selectedAssets=[],this.basicAsset={ID:"",NAME:""},this.isNeedUpdateChart=!0},resetSelectedIndicators(){this.selectedIndicators=[],this.isNeedUpdateChart=!0},isSelectedAsset(y){try{if(!this.selectedAssets.length)return!1;for(const a of this.selectedAssets){if(!a.ID)return!1;if(a.ID===y.ID)return!0}return!1}catch(a){return console.error("techStore isSelectedAsset"),console.error(a),!1}},isSelectedIndicator(y){try{if(!this.selectedIndicators.length)return!1;for(const a of this.selectedIndicators){if(!a.ID)return!1;if(a.ID===y.ID)return!0}return!1}catch(a){return console.error("techStore isSelectedIndicator"),console.error(a),!1}},selectBasicAsset(y){this.basicAsset.ID!==y.ID&&Object.assign(this.basicAsset,y)},setSaveList(){return U(this,null,function*(){const y=$t();this.saveList=[];const L=yield rt().getSaveListExt(y.getId);try{if(!Array.isArray(L.data))return;L.data.forEach(u=>{this.saveList.push({label:u.UF_SAVENAME,id:u.UF_TEMPLATE_ID})})}catch(u){console.error("setSaveList error"),console.error(u)}})},initAssets(){return U(this,null,function*(){try{const y=new Date().getTime(),a="assetsToCompare";if(this.allAssets=[],localStorage.getItem(a)){const O=JSON.parse(localStorage.getItem(a));if(y-O.date<864e5){this.allAssets=O.allAssets;return}localStorage.removeItem(a)}const L=rt(),u=yield L.getActionList(),f=yield L.getActionListUsa();let w=[],C=[];u.data&&(w=Object.values(u.data)),f.data&&(C=Object.values(f.data)),this.allAssets=[...w,...C],localStorage.setItem(a,JSON.stringify({date:y,allAssets:this.allAssets}))}catch(y){console.error("techAn store"),console.error(y)}})},initIndicators(){return U(this,null,function*(){try{this.allIndicators=[];const a=yield rt().getIndicatorsList("full");Array.isArray(a.data)&&(this.allIndicators=[...a.data])}catch(y){console.error("techAn store initIndicators"),console.error(y)}})},initSelectedAssetsDetails(){return U(this,null,function*(){try{this.isRequestSelectedAssetsDetails=!0;const y=rt();if(!this.selectedAssets.length)return;for(const a of this.selectedAssets)if(!this.selectedAssetsDetails.find(u=>u.ID===a.ID)){const u=yield y.getDetailInfo(`${a.ISIN}_${a.REGION}`,"min","ISIN");u.data&&this.selectedAssetsDetails.push(u.data)}this.isRequestSelectedAssetsDetails=!1}catch(y){console.error("techStore initSelectedAssetsDetails"),console.error(y)}})},initChart(){try{this.isNeedUpdateChart=!1,Array.isArray(this.chartMainYAxis)&&this.selectedAssetsDetails.forEach((y,a)=>{let L=!1;if(this.chartMainYAxis.length>0){for(const u of this.chartMainYAxis)if(u.id===y.ID){L=!0;break}}L||(this.chartMainYAxis.push({type:"ohlc",name:y.NAME,id:y.ID,yAxis:0,data:[]}),this.candleChart.mainSeries.push({type:"candlestick",yAxis:0,name:y.NAME,id:y.ID,data:[]}),this.lineChart.mainSeries.push({type:"line",yAxis:0,name:y.NAME,id:y.ID,data:[]}),Object.values(y.MOEX_ACTION_DATA).forEach(u=>{const f=new Date(u.UF_DATE).getTime();this.chartMainYAxis[a].data.push({x:f,y:Number(u.UF_CLOSE),high:Number(u.UF_HIGH),low:Number(u.UF_LOW),close:Number(u.UF_CLOSE),open:Number(u.UF_OPEN)}),this.candleChart.mainSeries[a].data.push([f,Number(u.UF_OPEN),Number(u.UF_HIGH),Number(u.UF_LOW),Number(u.UF_CLOSE)]),this.lineChart.mainSeries[a].data.push(Number(u.UF_CLOSE)),this.lineChart.categories.push(f)}))}),this.isNeedUpdateChart=!0}catch(y){console.error("techAn initChart"),console.error(y)}},savePreset(){return U(this,null,function*(){try{if(!this.selectedPreset)return;const y=rt();let a=[];if(localStorage.customStockToolsChart){const u=JSON.parse(localStorage.customStockToolsChart);u.presetName===this.selectedPreset&&(a=u.annotations)}const L={selectedAssets:this.selectedAssets,selectedIndicators:this.selectedIndicators,basicAsset:this.basicAsset,annotations:a};yield y.setGraphData(this.userId,this.selectedPreset,{data:at({},L)})}catch(y){console.error("savePreset pinia"),console.error(y)}})},loadPreset(y=""){return U(this,null,function*(){try{const a=rt();y.label!==this.selectedPreset&&(yield this.savePreset(),this.selectedPreset=y),this.isDisablePage=!0,this.selectedPreset=y.label;const L=yield a.getGraphData(this.userId,this.selectedPreset);if(this.basicAsset={ID:"",NAME:""},this.selectedAssets=[],this.selectedIndicators=[],this.annotations=[],L.data.data){const u=JSON.parse(L.data.data);this.basicAsset=u.basicAsset,this.selectedAssets=[...u.selectedAssets],yield this.initSelectedAssetsDetails(),this.initChart(),this.selectedIndicators=[...u.selectedIndicators],this.annotations=[...u.annotations]}this.isDisablePage=!1}catch(a){console.error("loadPreset pinia"),console.error(a),this.isDisablePage=!1}})},resetPreset(){return U(this,null,function*(){try{this.selectedPreset&&(this.isDisablePage=!0,this.basicAsset={ID:"",NAME:""},this.selectedAssets=[],this.selectedIndicators=[],this.selectedAssetsDetails=[],this.annotations=[],yield this.savePreset(),this.isNeedUpdateChart=!0,this.isDisablePage=!1)}catch(y){console.error("resetPreset pinia"),console.error(y)}})},createNewPreset(y){return U(this,null,function*(){try{y&&(this.isDisablePage=!0,this.selectedPreset=y,yield this.savePreset(),yield this.setSaveList(),this.isDisablePage=!1)}catch(a){console.error("createNewPost pinia"),console.error(a)}})},deletePreset(){return U(this,null,function*(){try{this.selectedPreset!==""&&(this.isDisablePage=!0,yield rt().deleteGraphData(this.userId,this.selectedPreset),this.basicAsset={ID:"",NAME:""},this.selectedAssets=[],this.selectedIndicators=[],this.selectedAssetsDetails=[],this.annotations=[],this.selectedPreset="",yield this.setSaveList(),this.isNeedUpdateChart=!0)}catch(y){console.error("deletePreset pinia"),console.error(y)}finally{this.isDisablePage=!1}})},addAnnotationToggle(){this.isAnnotationSelected=!this.isAnnotationSelected,this.isAnnotationSelected?document.body.style.cursor="crosshair":document.body.style.cursor="default"},updateAddAnnotation(){this.isAnnotationSelected&&this.addAnnotationToggle()},inputAssetSearch(y){const a=y.toLowerCase();if(a===""){this.allAssets=[],this.allAssets=[...this.allAssetsBackup],this.allAssetsBackup=[];return}this.allAssetsBackup.length===0&&(this.allAssetsBackup=[...this.allAssets]),this.allAssets=[],this.allAssets=this.allAssetsBackup.filter(L=>{if(L.NAME.toLowerCase().includes(a))return L})},inputIndicatorSearch(y){const a=y.toLowerCase();if(a===""){this.allIndicators=[],this.allIndicators=[...this.allIndicatorsBackup],this.allIndicatorsBackup=[];return}this.allIndicatorsBackup.length===0&&(this.allIndicatorsBackup=[...this.allIndicators]),this.allIndicators=[],this.allIndicators=this.allIndicatorsBackup.filter(L=>{if(L.NAME.toLowerCase().includes(a))return L})}}}),ae=d.defineComponent({name:"TechnicalAnalysisPageHeader",components:{TechnicalAnalysisPageClearBtn:Ft,InputDropdown:Qt},setup(){rt();const y=tt(),a=d.computed(()=>y.saveList),L=d.ref(null),u=d.ref(!1),f=d.ref(void 0),w=d.ref(""),C=()=>{},O=()=>U(this,null,function*(){confirm("\u0412\u044B \u0443\u0432\u0435\u0440\u0435\u043D\u044B \u0447\u0442\u043E \u0445\u043E\u0442\u0438\u0442\u0435 \u043E\u0447\u0438\u0441\u0442\u0438\u0442\u044C \u0448\u0430\u0431\u043B\u043E\u043D?")&&(yield y.resetPreset())}),S=()=>U(this,null,function*(){confirm("\u0412\u044B \u0443\u0432\u0435\u0440\u0435\u043D\u044B \u0447\u0442\u043E \u0445\u043E\u0442\u0438\u0442\u0435 \u0443\u0434\u0430\u043B\u0438\u0442\u044C \u0448\u0430\u0431\u043B\u043E\u043D?")&&(yield y.deletePreset(),L.value={label:"",id:String(Math.random())})}),h=()=>U(this,null,function*(){w.value!==""&&(yield y.createNewPreset(w.value),w.value="",L.value={label:y.selectedPreset,id:String(Math.random())})}),s=()=>U(this,null,function*(){u.value||(f.value=setInterval(()=>U(this,null,function*(){yield y.savePreset()}),1e4))});return d.onBeforeUnmount(()=>U(this,null,function*(){f.value&&clearInterval(f.value),yield y.savePreset()})),d.onBeforeMount(()=>{L.value=y.getDefaultChart}),d.watch(()=>L.value,()=>U(this,null,function*(){yield y.loadPreset(L.value),yield s()})),{onClickSelect:C,onClickReset:O,createNewPreset:h,selectedChartName:L,getSaveList:a,newPresetName:w,deletePreset:S,getSelectedPreset:d.computed(()=>y.selectedPreset)}}});const yt=y=>(d.pushScopeId("data-v-2b6c9855"),y=y(),d.popScopeId(),y),le={class:"technicalAnalysisHeader"},ce={class:"technicalAnalysisHeader__container"},pe=yt(()=>d.createElementVNode("h1",{class:"technicalAnalysisHeader__title"},"\u0422\u0435\u0445\u043D\u0438\u0447\u0435\u0441\u043A\u0438\u0439 \u0430\u043D\u0430\u043B\u0438\u0437",-1)),he={class:"technicalAnalysisHeader__wrap-field"},ue=yt(()=>d.createElementVNode("span",null,"\u041E\u0447\u0438\u0441\u0442\u0438\u0442\u044C \u0448\u0430\u0431\u043B\u043E\u043D",-1)),de=yt(()=>d.createElementVNode("label",{for:"newTemplateName"},"\u041D\u043E\u0432\u044B\u0439 \u0448\u0430\u0431\u043B\u043E\u043D",-1)),fe=yt(()=>d.createElementVNode("button",null,"\u0421\u043E\u0437\u0434\u0430\u0442\u044C",-1));function ge(y,a,L,u,f,w){const C=d.resolveComponent("InputDropdown"),O=d.resolveComponent("TechnicalAnalysisPageClearBtn");return d.openBlock(),d.createElementBlock("div",le,[d.createElementVNode("div",ce,[pe,d.createElementVNode("div",he,[d.createVNode(C,{selected:y.selectedChartName,"onUpdate:selected":a[0]||(a[0]=S=>y.selectedChartName=S),class:"radarBonds__dropdown",items:y.getSaveList,placeholder:"\u041D\u0435 \u0432\u044B\u0431\u0440\u0430\u043D",title:"\u0428\u0430\u0431\u043B\u043E\u043D \u0433\u0440\u0430\u0444\u0438\u043A\u0430:"},null,8,["selected","items"]),y.getSelectedPreset?(d.openBlock(),d.createElementBlock("div",{key:0,class:"technicalAnalysisHeader__wrapClear",onClick:a[1]||(a[1]=(...S)=>y.onClickReset&&y.onClickReset(...S))},[ue,d.createVNode(O)])):d.createCommentVNode("",!0)]),d.createElementVNode("form",{class:"technicalAnalysisHeader__new-template",onSubmit:a[3]||(a[3]=d.withModifiers((...S)=>y.createNewPreset&&y.createNewPreset(...S),["prevent"]))},[de,d.withDirectives(d.createElementVNode("input",{id:"newTemplateName","onUpdate:modelValue":a[2]||(a[2]=S=>y.newPresetName=S),placeholder:"\u041D\u0430\u0437\u0432\u0430\u043D\u0438\u0435",type:"text"},null,512),[[d.vModelText,y.newPresetName]]),fe],32),y.getSelectedPreset!=="\u041F\u043E-\u0443\u043C\u043E\u043B\u0447\u0430\u043D\u0438\u044E"?(d.openBlock(),d.createElementBlock("button",{key:0,class:"technicalAnalysisHeader__delete-preset",onClick:a[4]||(a[4]=(...S)=>y.deletePreset&&y.deletePreset(...S))}," \u0423\u0434\u0430\u043B\u0438\u0442\u044C \u0448\u0430\u0431\u043B\u043E\u043D ")):d.createCommentVNode("",!0)])])}const ye=J(ae,[["render",ge],["__scopeId","data-v-2b6c9855"]]),ve=d.defineComponent({name:"TechnicalAnalysisPageSelectField",emits:["onSelect"],props:{title:{type:String,required:!0},selected:{required:!0},showCorner:{type:Boolean,default:!1}},setup(y,{emit:a}){return{onClickSelect:()=>{a("onSelect")}}}});const me=y=>(d.pushScopeId("data-v-cb88f208"),y=y(),d.popScopeId(),y),xe={class:"selectField"},Ae={class:"selectField__title"},Ce={key:2},ke=me(()=>d.createElementVNode("svg",{fill:"none",height:"8",viewBox:"0 0 14 8",width:"14",xmlns:"http://www.w3.org/2000/svg"},[d.createElementVNode("path",{d:"M1 1L7 7L13 1",stroke:"#2A8634"})],-1)),_e=[ke];function Pe(y,a,L,u,f,w){return d.openBlock(),d.createElementBlock("div",xe,[d.createElementVNode("div",Ae,d.toDisplayString(y.title),1),d.createElementVNode("div",{class:"selectField__selected",onClick:a[0]||(a[0]=(...C)=>y.onClickSelect&&y.onClickSelect(...C))},[typeof y.selected=="string"?(d.openBlock(),d.createElementBlock(d.Fragment,{key:0},[d.createTextVNode(d.toDisplayString(y.selected),1)],64)):typeof y.selected=="object"?(d.openBlock(),d.createElementBlock(d.Fragment,{key:1},[d.createTextVNode(d.toDisplayString(y.selected.NAME),1)],64)):d.createCommentVNode("",!0),y.showCorner?(d.openBlock(),d.createElementBlock("span",Ce,_e)):d.createCommentVNode("",!0)])])}const Se=J(ve,[["render",Pe],["__scopeId","data-v-cb88f208"]]),we=d.defineComponent({name:"TechnicalAnalysisPageToCompareModal",components:{Loader:ht},emits:["onClose"],setup(y,{emit:a}){const L=tt(),u=d.ref(!1),f=d.ref(""),w=()=>{L.inputAssetSearch(""),a("onClose")},C=s=>U(this,null,function*(){yield L.changeSelectedAssets(s)}),O=s=>L.isSelectedAsset(s),S=()=>{L.inputAssetSearch(f.value)},h=()=>U(this,null,function*(){L.allAssets.length>0||(yield L.initAssets()),u.value=!0});return d.onMounted(()=>U(this,null,function*(){yield h()})),{onClickClose:w,onChangeSelect:C,isSelectedAsset:O,onInputSearch:S,getAllAssets:d.computed(()=>L.allAssets),isInit:u,searchModel:f}}});const dt=y=>(d.pushScopeId("data-v-fc770d62"),y=y(),d.popScopeId(),y),Oe={class:"toCompareModal"},be={class:"toCompareModal__container"},Ee={class:"toCompareModal__header"},Me=dt(()=>d.createElementVNode("div",{class:"toCompareModal__title"},"\u0410\u043A\u0442\u0438\u0432\u044B \u043A \u0441\u0440\u0430\u0432\u043D\u0435\u043D\u0438\u044E",-1)),De=dt(()=>d.createElementVNode("path",{d:"M7.5 7.5L12 12M16.5 16.5L12 12M12 12L16.5 7.5M12 12L7.5 16.5",stroke:"black"},null,-1)),Te=[De],Le={class:"toCompareModal__search"},Be={key:0,class:"toCompareModal__wrap"},Ie={key:0,class:"toCompareModal__items toCompareModal__container"},Ne=["onClick"],Ve=dt(()=>d.createElementVNode("circle",{cx:"17",cy:"17",fill:"#FEC006",r:"13"},null,-1)),je=dt(()=>d.createElementVNode("path",{"clip-rule":"evenodd",d:"M16.381 17.9727V23.8095H17.381V17.9727H23.8095V16.9727H17.381V10.1904L16.381 10.1904V16.9727H10.1904V17.9727H16.381Z",fill:"white","fill-rule":"evenodd"},null,-1)),Fe=[Ve,je],$e=["onClick"],Re=dt(()=>d.createElementVNode("path",{"clip-rule":"evenodd",d:"M28.6358 17C28.6358 23.4263 23.4263 28.6358 17 28.6358C10.5737 28.6358 5.3642 23.4263 5.3642 17C5.3642 10.5737 10.5737 5.3642 17 5.3642C23.4263 5.3642 28.6358 10.5737 28.6358 17ZM30 17C30 24.1797 24.1797 30 17 30C9.8203 30 4 24.1797 4 17C4 9.8203 9.8203 4 17 4C24.1797 4 30 9.8203 30 17ZM10.9335 17.8666H23.0669V16.5024H10.9335V17.8666Z",fill:"#797979","fill-rule":"evenodd"},null,-1)),Ye=[Re];function Ue(y,a,L,u,f,w){const C=d.resolveComponent("Loader");return d.openBlock(),d.createElementBlock(d.Fragment,null,[d.createElementVNode("div",{class:"overlay",onClick:a[0]||(a[0]=(...O)=>y.onClickClose&&y.onClickClose(...O))}),d.createElementVNode("div",Oe,[d.createElementVNode("div",be,[d.createElementVNode("div",Ee,[Me,(d.openBlock(),d.createElementBlock("svg",{fill:"none",height:"24",viewBox:"0 0 24 24",width:"24",xmlns:"http://www.w3.org/2000/svg",onClick:a[1]||(a[1]=(...O)=>y.onClickClose&&y.onClickClose(...O))},Te))]),d.createElementVNode("div",Le,[d.withDirectives(d.createElementVNode("input",{"onUpdate:modelValue":a[2]||(a[2]=O=>y.searchModel=O),placeholder:"\u041F\u043E\u0438\u0441\u043A",type:"text",onInput:a[3]||(a[3]=(...O)=>y.onInputSearch&&y.onInputSearch(...O))},null,544),[[d.vModelText,y.searchModel]])])]),y.isInit?(d.openBlock(),d.createElementBlock("div",Be,[y.getAllAssets.length>0?(d.openBlock(),d.createElementBlock("div",Ie,[(d.openBlock(!0),d.createElementBlock(d.Fragment,null,d.renderList(y.getAllAssets,O=>(d.openBlock(),d.createElementBlock("div",{key:O.ID,class:"toCompareModal__item"},[d.createTextVNode(d.toDisplayString(O.NAME)+" ",1),y.isSelectedAsset(O)===!1?(d.openBlock(),d.createElementBlock("svg",{key:0,fill:"none",height:"34",viewBox:"0 0 34 34",width:"34",xmlns:"http://www.w3.org/2000/svg",onClick:S=>y.onChangeSelect(O)},Fe,8,Ne)):(d.openBlock(),d.createElementBlock("svg",{key:1,fill:"none",height:"34",viewBox:"0 0 34 34",width:"34",xmlns:"http://www.w3.org/2000/svg",onClick:S=>y.onChangeSelect(O)},Ye,8,$e))]))),128))])):d.createCommentVNode("",!0),y.getAllAssets.length>0?(d.openBlock(),d.createElementBlock("div",{key:1,class:"toCompareModal__toCompareBtn",onClick:a[4]||(a[4]=(...O)=>y.onClickClose&&y.onClickClose(...O))}," \u0414\u043E\u0431\u0430\u0432\u0438\u0442\u044C \u043A \u0441\u0440\u0430\u0432\u043D\u0435\u043D\u0438\u044E ")):d.createCommentVNode("",!0)])):(d.openBlock(),d.createBlock(C,{key:1}))])],64)}const He=J(we,[["render",Ue],["__scopeId","data-v-fc770d62"]]),ze=d.defineComponent({name:"TechnicalAnalysisPageIndicatorsModal",components:{Loader:ht},emits:["onClose"],setup(y,{emit:a}){const L=tt(),u=d.ref(!1),f=d.ref(""),w=()=>{L.inputIndicatorSearch(""),a("onClose")},C=s=>U(this,null,function*(){yield L.changeSelectedIndicators(s)}),O=s=>L.isSelectedIndicator(s),S=()=>{L.inputIndicatorSearch(f.value)},h=()=>U(this,null,function*(){L.allIndicators.length>0||(yield L.initIndicators()),u.value=!0});return d.onMounted(()=>U(this,null,function*(){yield h()})),{onClickClose:w,onChangeSelect:C,isSelectedIndicator:O,onInputSearch:S,getAllIndicators:d.computed(()=>L.allIndicators),isInit:u,searchModel:f}}});const ft=y=>(d.pushScopeId("data-v-88103bee"),y=y(),d.popScopeId(),y),Xe={class:"toCompareModal"},We={class:"toCompareModal__container"},Ge={class:"toCompareModal__header"},Ke=ft(()=>d.createElementVNode("div",{class:"toCompareModal__title"},"\u0421\u043F\u0438\u0441\u043E\u043A \u0438\u043D\u0434\u0438\u043A\u0430\u0442\u043E\u0440\u043E\u0432",-1)),Ze=ft(()=>d.createElementVNode("path",{d:"M7.5 7.5L12 12M16.5 16.5L12 12M12 12L16.5 7.5M12 12L7.5 16.5",stroke:"black"},null,-1)),qe=[Ze],Je={class:"toCompareModal__search"},Qe={key:0,class:"toCompareModal__wrap"},ti={key:0,class:"toCompareModal__items toCompareModal__container"},ei=["onClick"],ii=ft(()=>d.createElementVNode("circle",{cx:"17",cy:"17",fill:"#FEC006",r:"13"},null,-1)),oi=ft(()=>d.createElementVNode("path",{"clip-rule":"evenodd",d:"M16.381 17.9727V23.8095H17.381V17.9727H23.8095V16.9727H17.381V10.1904L16.381 10.1904V16.9727H10.1904V17.9727H16.381Z",fill:"white","fill-rule":"evenodd"},null,-1)),ni=[ii,oi],si=["onClick"],ri=ft(()=>d.createElementVNode("path",{"clip-rule":"evenodd",d:"M28.6358 17C28.6358 23.4263 23.4263 28.6358 17 28.6358C10.5737 28.6358 5.3642 23.4263 5.3642 17C5.3642 10.5737 10.5737 5.3642 17 5.3642C23.4263 5.3642 28.6358 10.5737 28.6358 17ZM30 17C30 24.1797 24.1797 30 17 30C9.8203 30 4 24.1797 4 17C4 9.8203 9.8203 4 17 4C24.1797 4 30 9.8203 30 17ZM10.9335 17.8666H23.0669V16.5024H10.9335V17.8666Z",fill:"#797979","fill-rule":"evenodd"},null,-1)),ai=[ri];function li(y,a,L,u,f,w){const C=d.resolveComponent("Loader");return d.openBlock(),d.createElementBlock(d.Fragment,null,[d.createElementVNode("div",{class:"overlay",onClick:a[0]||(a[0]=(...O)=>y.onClickClose&&y.onClickClose(...O))}),d.createElementVNode("div",Xe,[d.createElementVNode("div",We,[d.createElementVNode("div",Ge,[Ke,(d.openBlock(),d.createElementBlock("svg",{fill:"none",height:"24",viewBox:"0 0 24 24",width:"24",xmlns:"http://www.w3.org/2000/svg",onClick:a[1]||(a[1]=(...O)=>y.onClickClose&&y.onClickClose(...O))},qe))]),d.createElementVNode("div",Je,[d.withDirectives(d.createElementVNode("input",{"onUpdate:modelValue":a[2]||(a[2]=O=>y.searchModel=O),placeholder:"\u041F\u043E\u0438\u0441\u043A",type:"text",onInput:a[3]||(a[3]=(...O)=>y.onInputSearch&&y.onInputSearch(...O))},null,544),[[d.vModelText,y.searchModel]])])]),y.isInit?(d.openBlock(),d.createElementBlock("div",Qe,[y.getAllIndicators.length>0?(d.openBlock(),d.createElementBlock("div",ti,[(d.openBlock(!0),d.createElementBlock(d.Fragment,null,d.renderList(y.getAllIndicators,O=>(d.openBlock(),d.createElementBlock("div",{key:O.ID,class:"toCompareModal__item"},[d.createTextVNode(d.toDisplayString(O.NAME)+" ",1),y.isSelectedIndicator(O)===!1?(d.openBlock(),d.createElementBlock("svg",{key:0,fill:"none",height:"34",viewBox:"0 0 34 34",width:"34",xmlns:"http://www.w3.org/2000/svg",onClick:S=>y.onChangeSelect(O)},ni,8,ei)):(d.openBlock(),d.createElementBlock("svg",{key:1,fill:"none",height:"34",viewBox:"0 0 34 34",width:"34",xmlns:"http://www.w3.org/2000/svg",onClick:S=>y.onChangeSelect(O)},ai,8,si))]))),128))])):d.createCommentVNode("",!0),y.getAllIndicators.length>0?(d.openBlock(),d.createElementBlock("div",{key:1,class:"toCompareModal__toCompareBtn",onClick:a[4]||(a[4]=(...O)=>y.onClickClose&&y.onClickClose(...O))}," \u0414\u043E\u0431\u0430\u0432\u0438\u0442\u044C \u043A \u0441\u0440\u0430\u0432\u043D\u0435\u043D\u0438\u044E ")):d.createCommentVNode("",!0)])):(d.openBlock(),d.createBlock(C,{key:1}))])],64)}const ci=J(ze,[["render",li],["__scopeId","data-v-88103bee"]]),pi=d.defineComponent({name:"TechnicalAnalysisPageTools",components:{TechnicalAnalysisPageIndicatorsModal:ci,TechnicalAnalysisPageToCompareModal:He,TechnicalAnalysisPageClearBtn:Ft,TechnicalAnalysisPageSelectField:Se},setup(){const y=tt(),a=d.ref(!1),L=d.ref(!1),u=d.ref(!1),f=t=>{if(a.value){a.value=!1;return}y.selectBasicAsset(t),y.$patch({isNeedUpdateBasicAsset:!0})},w=()=>{y.resetSelectedAssets(),y.redrawChart()},C=()=>{y.resetSelectedIndicators(),y.redrawChart()},O=t=>{y.deleteSelectedIndicator(t),y.redrawChart()},S=()=>U(this,null,function*(){u.value=!u.value,document.body.classList.toggle("stop-scrolling-analysis"),u.value||(y.changeIsDisablePage(!0),yield y.initSelectedAssetsDetails(),y.initChart(),y.changeIsDisablePage(!1))}),h=()=>{L.value=!L.value,document.body.classList.toggle("stop-scrolling-analysis"),L.value||y.redrawChart()},s=t=>U(this,null,function*(){a.value=!0,y.deleteSelectedAsset(t),yield y.savePreset()}),o=()=>{u.value&&S(),L.value&&h()};return d.onUnmounted(()=>{o()}),{onClickResetBaseAsset:w,onToggleToCompareModal:S,onToggleIndicatorsModal:h,onClickDeleteCompareItem:s,onClickResetIndicators:C,onClickDeleteIndicatorItem:O,selectBaseAsset:f,getSelectedAssets:d.computed(()=>y.selectedAssets),getSelectedIndicators:d.computed(()=>y.selectedIndicators),getBasicAsset:d.computed(()=>y.basicAsset),isShowCompareModal:u,isShowIndicatorsModal:L}}});const vt=y=>(d.pushScopeId("data-v-b32fe272"),y=y(),d.popScopeId(),y),hi={class:"tools"},ui={class:"tools__top"},di={class:"tools__baseAsset"},fi={class:"tools__toCompare"},gi={key:0,class:"tools__itemsGrid tools__itemsGrid--compareItems"},yi=["onClick"],vi=["onClick"],mi=vt(()=>d.createElementVNode("path",{"clip-rule":"evenodd",d:"M11.8536 12.5607L16 16.7071L16.7071 16L12.5607 11.8536L16.7071 7.70711L16 7L11.8536 11.1464L7.70711 7L7 7.70711L11.1464 11.8536L7 16L7.70711 16.7071L11.8536 12.5607Z",fill:"white","fill-rule":"evenodd"},null,-1)),xi=[mi],Ai=vt(()=>d.createElementVNode("span",null,"\u0421\u0431\u0440\u043E\u0441\u0438\u0442\u044C \u0430\u043A\u0442\u0438\u0432\u044B",-1)),Ci={class:"tools__addIndicator"},ki={key:2,class:"tools__itemsGrid tools__itemsGrid--indicatorsItems"},_i={class:"tools__itemContainer"},Pi=["onClick"],Si=vt(()=>d.createElementVNode("path",{"clip-rule":"evenodd",d:"M11.8536 12.5607L16 16.7071L16.7071 16L12.5607 11.8536L16.7071 7.70711L16 7L11.8536 11.1464L7.70711 7L7 7.70711L11.1464 11.8536L7 16L7.70711 16.7071L11.8536 12.5607Z",fill:"white","fill-rule":"evenodd"},null,-1)),wi=[Si],Oi=vt(()=>d.createElementVNode("span",null,"\u0421\u0431\u0440\u043E\u0441\u0438\u0442\u044C \u0438\u043D\u0434\u0438\u043A\u0430\u0442\u043E\u0440\u044B",-1));function bi(y,a,L,u,f,w){const C=d.resolveComponent("TechnicalAnalysisPageSelectField"),O=d.resolveComponent("TechnicalAnalysisPageClearBtn"),S=d.resolveComponent("TechnicalAnalysisPageToCompareModal"),h=d.resolveComponent("TechnicalAnalysisPageIndicatorsModal");return d.openBlock(),d.createElementBlock(d.Fragment,null,[d.createElementVNode("div",hi,[d.createElementVNode("div",ui,[d.createElementVNode("div",di,[d.createVNode(C,{selected:y.getBasicAsset,title:"\u0411\u0430\u0437\u043E\u0432\u044B\u0439 \u0430\u043A\u0442\u0438\u0432:"},null,8,["selected"]),y.getSelectedAssets.length>0?(d.openBlock(),d.createBlock(O,{key:0,class:"tools__clearBtn tools__clearBtn--baseAssetMobile",onClick:y.onClickResetBaseAsset},null,8,["onClick"])):d.createCommentVNode("",!0)]),d.createElementVNode("div",fi,[d.createVNode(C,{selected:"\u0412\u044B\u0431\u0440\u0430\u0442\u044C \u0430\u043A\u0442\u0438\u0432",title:"\u0410\u043A\u0442\u0438\u0432\u044B \u043A \u0441\u0440\u0430\u0432\u043D\u0435\u043D\u0438\u044E:",onOnSelect:y.onToggleToCompareModal},null,8,["onOnSelect"])])]),y.getSelectedAssets.length>0?(d.openBlock(),d.createElementBlock("div",gi,[(d.openBlock(!0),d.createElementBlock(d.Fragment,null,d.renderList(y.getSelectedAssets,s=>(d.openBlock(),d.createElementBlock("div",{key:s.ID,class:"tools__item",onClick:o=>y.selectBaseAsset(s)},[d.createElementVNode("div",{class:d.normalizeClass(["tools__itemContainer",{"tools__itemContainer--selected":s.ID===y.getBasicAsset.ID}])},[d.createTextVNode(d.toDisplayString(s.NAME)+" ",1),(d.openBlock(),d.createElementBlock("svg",{fill:"none",height:"24",viewBox:"0 0 24 24",width:"24",xmlns:"http://www.w3.org/2000/svg",onClick:o=>y.onClickDeleteCompareItem(s)},xi,8,vi))],2)],8,yi))),128))])):d.createCommentVNode("",!0),y.getSelectedAssets.length>0?(d.openBlock(),d.createElementBlock("div",{key:1,class:"tools__resetActivesDesktop",onClick:a[0]||(a[0]=(...s)=>y.onClickResetBaseAsset&&y.onClickResetBaseAsset(...s))},[Ai,d.createVNode(O)])):d.createCommentVNode("",!0),d.createElementVNode("div",Ci,[d.createVNode(C,{selected:"\u0412\u044B\u0431\u0440\u0430\u0442\u044C \u0438\u043D\u0434\u0438\u043A\u0430\u0442\u043E\u0440",title:"\u0414\u043E\u0431\u0430\u0432\u0438\u0442\u044C \u0438\u043D\u0434\u0438\u043A\u0430\u0442\u043E\u0440",onOnSelect:y.onToggleIndicatorsModal},null,8,["onOnSelect"]),y.getSelectedIndicators.length>0?(d.openBlock(),d.createBlock(O,{key:0,class:"tools__clearBtn tools__clearBtn--baseAssetMobile",onClick:y.onClickResetIndicators},null,8,["onClick"])):d.createCommentVNode("",!0)]),y.getSelectedIndicators.length>0?(d.openBlock(),d.createElementBlock("div",ki,[(d.openBlock(!0),d.createElementBlock(d.Fragment,null,d.renderList(y.getSelectedIndicators,s=>(d.openBlock(),d.createElementBlock("div",{key:s.ID,class:"tools__item"},[d.createElementVNode("div",_i,[d.createTextVNode(d.toDisplayString(s.NAME)+" ",1),(d.openBlock(),d.createElementBlock("svg",{fill:"none",height:"24",viewBox:"0 0 24 24",width:"24",xmlns:"http://www.w3.org/2000/svg",onClick:o=>y.onClickDeleteIndicatorItem(s)},wi,8,Pi))])]))),128))])):d.createCommentVNode("",!0),y.getSelectedIndicators.length>0?(d.openBlock(),d.createElementBlock("div",{key:3,class:"tools__resetIndicatorsDesktop",onClick:a[1]||(a[1]=(...s)=>y.onClickResetIndicators&&y.onClickResetIndicators(...s))},[Oi,d.createVNode(O)])):d.createCommentVNode("",!0)]),y.isShowCompareModal?(d.openBlock(),d.createBlock(S,{key:0,onOnClose:y.onToggleToCompareModal},null,8,["onOnClose"])):d.createCommentVNode("",!0),y.isShowIndicatorsModal?(d.openBlock(),d.createBlock(h,{key:1,onOnClose:y.onToggleIndicatorsModal},null,8,["onOnClose"])):d.createCommentVNode("",!0)],64)}const Ei=J(pi,[["render",bi],["__scopeId","data-v-b32fe272"]]),Mi=d.defineComponent({name:"TechnicalAnalysisPageHelpItem",props:{title:{type:String,required:!0},icon:{type:String,default:""},link:{type:String,default:"#"}}});const Di=["href"],Ti={key:0,class:"helpItem__icon"},Li=["src","alt"],Bi={class:"helpItem__title"};function Ii(y,a,L,u,f,w){return d.openBlock(),d.createElementBlock("a",{class:"helpItem",href:y.link},[y.icon?(d.openBlock(),d.createElementBlock("div",Ti,[d.createElementVNode("img",{src:y.icon,alt:y.title},null,8,Li)])):d.createCommentVNode("",!0),d.createElementVNode("div",Bi,d.toDisplayString(y.title),1)],8,Di)}const Ni=J(Mi,[["render",Ii],["__scopeId","data-v-ea141143"]]),Vi="/109.68.213.103/build/assets/iconService.c5e37235.svg",ji="/109.68.213.103/build/assets/iconAnalysis.6c0bcdf7.svg",Fi=d.defineComponent({name:"TechnicalAnalysisPageHelp",components:{TechnicalAnalysisPageHelpItem:Ni},setup(){return{iconService:Vi,iconAnalysis:ji}}}),$i={class:"help"};function Ri(y,a,L,u,f,w){const C=d.resolveComponent("TechnicalAnalysisPageHelpItem");return d.openBlock(),d.createElementBlock("div",$i,[d.createVNode(C,{icon:y.iconService,title:"\u041A\u0430\u043A \u043F\u043E\u043B\u044C\u0437\u043E\u0432\u0430\u0442\u044C\u0441\u044F \u0441\u0435\u0440\u0432\u0438\u0441\u043E\u043C?"},null,8,["icon"]),d.createVNode(C,{icon:y.iconAnalysis,title:"\u041A\u0430\u043A \u043F\u043E\u043B\u044C\u0437\u043E\u0432\u0430\u0442\u044C\u0441\u044F \u0442\u0435\u0445\u0430\u043D\u0430\u043B\u0438\u0437\u043E\u043C?"},null,8,["icon"])])}const Yi=J(Fi,[["render",Ri]]),Ui=d.defineComponent({name:"TechnicalAnalysisPageSettings",components:{TechnicalAnalysisPageHelp:Yi,TechnicalAnalysisPageTools:Ei}});const Hi={class:"technicalAnalysisSettings"},zi={class:"technicalAnalysisSettings__container"};function Xi(y,a,L,u,f,w){const C=d.resolveComponent("TechnicalAnalysisPageTools"),O=d.resolveComponent("TechnicalAnalysisPageHelp");return d.openBlock(),d.createElementBlock("div",Hi,[d.createElementVNode("div",zi,[d.createVNode(C),d.createVNode(O)])])}const Wi=J(Ui,[["render",Xi],["__scopeId","data-v-90b16218"]]);var Rt={exports:{}};(function(y){(function(a){y.exports?(a.default=a,y.exports=a):a(typeof Highcharts!="undefined"?Highcharts:void 0)})(function(a){function L(u,f,w,C){u.hasOwnProperty(f)||(u[f]=C.apply(null,w))}a=a?a._modules:{},L(a,"Extensions/DragPanes.js",[a["Core/Globals.js"],a["Core/Axis/Axis.js"],a["Core/Axis/AxisDefaults.js"],a["Core/Pointer.js"],a["Core/Utilities.js"]],function(u,f,w,C,O){var S=u.hasTouch,h=O.addEvent,s=O.clamp,o=O.isNumber,t=O.merge,e=O.objectEach,i=O.relativeLength;O=O.wrap;var n=function(){function l(p){this.options=this.lastPos=this.controlLine=this.axis=void 0,this.init(p)}return l.prototype.init=function(p,r){this.axis=p,this.options=p.options.resize,this.render(),r||this.addMouseEvents()},l.prototype.render=function(){var p=this.axis,r=p.chart,c=this.options,A=c.x||0,v=c.y,g=s(p.top+p.height+v,r.plotTop,r.plotTop+r.plotHeight),P={};r.styledMode||(P={cursor:c.cursor,stroke:c.lineColor,"stroke-width":c.lineWidth,dashstyle:c.lineDashStyle}),this.lastPos=g-v,this.controlLine||(this.controlLine=r.renderer.path().addClass("highcharts-axis-resizer")),this.controlLine.add(p.axisGroup),c=r.styledMode?this.controlLine.strokeWidth():c.lineWidth,P.d=r.renderer.crispLine([["M",p.left+A,g],["L",p.left+p.width+A,g]],c),this.controlLine.attr(P)},l.prototype.addMouseEvents=function(){var p=this,r=p.controlLine.element,c=p.axis.chart.container,A=[],v,g,P;p.mouseMoveHandler=v=function(x){p.onMouseMove(x)},p.mouseUpHandler=g=function(x){p.onMouseUp(x)},p.mouseDownHandler=P=function(x){p.onMouseDown(x)},A.push(h(c,"mousemove",v),h(c.ownerDocument,"mouseup",g),h(r,"mousedown",P)),S&&A.push(h(c,"touchmove",v),h(c.ownerDocument,"touchend",g),h(r,"touchstart",P)),p.eventsToUnbind=A},l.prototype.onMouseMove=function(p){p.touches&&p.touches[0].pageX===0||!this.grabbed||(this.hasDragged=!0,this.updateAxes(this.axis.chart.pointer.normalize(p).chartY-this.options.y))},l.prototype.onMouseUp=function(p){this.hasDragged&&this.updateAxes(this.axis.chart.pointer.normalize(p).chartY-this.options.y),this.grabbed=this.hasDragged=this.axis.chart.activeResizer=null},l.prototype.onMouseDown=function(p){this.axis.chart.pointer.reset(!1,0),this.grabbed=this.axis.chart.activeResizer=!0},l.prototype.updateAxes=function(p){var r=this,c=r.axis.chart,A=r.options.controlledAxis,v=A.next.length===0?[c.yAxis.indexOf(r.axis)+1]:A.next;A=[r.axis].concat(A.prev);var g=[],P=!1,x=c.plotTop,k=c.plotHeight,m=x+k;p=s(p,x,m);var _=p-r.lastPos;1>_*_||([A,v].forEach(function(M,D){M.forEach(function(E,b){var T=(E=o(E)?c.yAxis[E]:D||b?c.get(E):E)&&E.options;if(T&&T.id!=="navigator-y-axis"){b=E.top;var B=Math.round(i(T.minLength,k)),I=Math.round(i(T.maxLength,k));D?(_=p-r.lastPos,T=Math.round(s(E.len-_,B,I)),b=E.top+_,b+T>m&&(I=m-T-b,p+=I,b+=I),b<x&&(b=x,b+T>m&&(T=k)),T===B&&(P=!0),g.push({axis:E,options:{top:100*(b-x)/k+"%",height:100*T/k+"%"}})):(T=Math.round(s(p-b,B,I)),T===I&&(P=!0),p=b+T,g.push({axis:E,options:{height:100*T/k+"%"}}))}})}),P||(g.forEach(function(M){M.axis.update(M.options,!1)}),c.redraw(!1)))},l.prototype.destroy=function(){var p=this;delete p.axis.resizer,this.eventsToUnbind&&this.eventsToUnbind.forEach(function(r){r()}),p.controlLine.destroy(),e(p,function(r,c){p[c]=null})},l.resizerOptions={minLength:"10%",maxLength:"100%",resize:{controlledAxis:{next:[],prev:[]},enabled:!1,cursor:"ns-resize",lineColor:"#cccccc",lineDashStyle:"Solid",lineWidth:4,x:0,y:0}},l}();return f.keepProps.push("resizer"),h(f,"afterRender",function(){var l=this.resizer,p=this.options.resize;p&&(p=p.enabled!==!1,l?p?l.init(this,!0):l.destroy():p&&(this.resizer=new n(this)))}),h(f,"destroy",function(l){!l.keepEvents&&this.resizer&&this.resizer.destroy()}),O(C.prototype,"runPointActions",function(l){this.chart.activeResizer||l.apply(this,Array.prototype.slice.call(arguments,1))}),O(C.prototype,"drag",function(l){this.chart.activeResizer||l.apply(this,Array.prototype.slice.call(arguments,1))}),t(!0,w.defaultYAxisOptions,n.resizerOptions),u.AxisResizer=n,u.AxisResizer}),L(a,"masters/modules/drag-panes.src.js",[],function(){})})})(Rt);const At=Rt.exports;var Yt={exports:{}};(function(y){(function(a){y.exports?(a.default=a,y.exports=a):a(typeof Highcharts!="undefined"?Highcharts:void 0)})(function(a){function L(u,f,w,C){u.hasOwnProperty(f)||(u[f]=C.apply(null,w))}a=a?a._modules:{},L(a,"Extensions/Annotations/Mixins/EventEmitterMixin.js",[a["Core/Globals.js"],a["Core/Utilities.js"]],function(u,f){var w=f.addEvent,C=f.fireEvent,O=f.objectEach,S=f.pick,h=f.removeEvent;return{addEvents:function(){var s=this,o=function(e){w(e,u.isTouchDevice?"touchstart":"mousedown",function(i){s.onMouseDown(i)},{passive:!1})};if(o(this.graphic.element),(s.labels||[]).forEach(function(e){e.options.useHTML&&e.graphic.text&&o(e.graphic.text.element)}),O(s.options.events,function(e,i){var n=function(l){i==="click"&&s.cancelClick||e.call(s,s.chart.pointer.normalize(l),s.target)};(s.nonDOMEvents||[]).indexOf(i)===-1?s.graphic.on(i,n):w(s,i,n,{passive:!1})}),s.options.draggable&&(w(s,"drag",s.onDrag),!s.graphic.renderer.styledMode)){var t={cursor:{x:"ew-resize",y:"ns-resize",xy:"move"}[s.options.draggable]};s.graphic.css(t),(s.labels||[]).forEach(function(e){e.options.useHTML&&e.graphic.text&&e.graphic.text.css(t)})}s.isUpdating||C(s,"add")},removeDocEvents:function(){this.removeDrag&&(this.removeDrag=this.removeDrag()),this.removeMouseUp&&(this.removeMouseUp=this.removeMouseUp())},onMouseDown:function(s){var o=this,t=o.chart.pointer;if(s.preventDefault&&s.preventDefault(),s.button!==2){s=t.normalize(s);var e=s.chartX,i=s.chartY;o.cancelClick=!1,o.chart.hasDraggedAnnotation=!0,o.removeDrag=w(u.doc,u.isTouchDevice?"touchmove":"mousemove",function(n){o.hasDragged=!0,n=t.normalize(n),n.prevChartX=e,n.prevChartY=i,C(o,"drag",n),e=n.chartX,i=n.chartY},u.isTouchDevice?{passive:!1}:void 0),o.removeMouseUp=w(u.doc,u.isTouchDevice?"touchend":"mouseup",function(n){var l=S(o.target&&o.target.annotation,o.target);l&&(l.cancelClick=o.hasDragged),o.cancelClick=o.hasDragged,o.hasDragged=!1,o.chart.hasDraggedAnnotation=!1,C(S(l,o),"afterUpdate"),o.onMouseUp(n)},u.isTouchDevice?{passive:!1}:void 0)}},onMouseUp:function(s){var o=this.chart;s=this.target||this;var t=o.options.annotations;o=o.annotations.indexOf(s),this.removeDocEvents(),t[o]=s.options},onDrag:function(s){if(this.chart.isInsidePlot(s.chartX-this.chart.plotLeft,s.chartY-this.chart.plotTop,{visiblePlotOnly:!0})){var o=this.mouseMoveToTranslation(s);this.options.draggable==="x"&&(o.y=0),this.options.draggable==="y"&&(o.x=0),this.points.length?this.translate(o.x,o.y):(this.shapes.forEach(function(t){t.translate(o.x,o.y)}),this.labels.forEach(function(t){t.translate(o.x,o.y)})),this.redraw(!1)}},mouseMoveToRadians:function(s,o,t){var e=s.prevChartY-t,i=s.prevChartX-o;return t=s.chartY-t,s=s.chartX-o,this.chart.inverted&&(o=i,i=e,e=o,o=s,s=t,t=o),Math.atan2(t,s)-Math.atan2(e,i)},mouseMoveToTranslation:function(s){var o=s.chartX-s.prevChartX;if(s=s.chartY-s.prevChartY,this.chart.inverted){var t=s;s=o,o=t}return{x:o,y:s}},mouseMoveToScale:function(s,o,t){return o=(s.chartX-o||1)/(s.prevChartX-o||1),s=(s.chartY-t||1)/(s.prevChartY-t||1),this.chart.inverted&&(t=s,s=o,o=t),{x:o,y:s}},destroy:function(){this.removeDocEvents(),h(this),this.hcEvents=null}}}),L(a,"Extensions/Annotations/ControlPoint.js",[a["Core/Utilities.js"],a["Extensions/Annotations/Mixins/EventEmitterMixin.js"]],function(u,f){var w=u.merge,C=u.pick;return function(){function O(S,h,s,o){this.addEvents=f.addEvents,this.graphic=void 0,this.mouseMoveToRadians=f.mouseMoveToRadians,this.mouseMoveToScale=f.mouseMoveToScale,this.mouseMoveToTranslation=f.mouseMoveToTranslation,this.onDrag=f.onDrag,this.onMouseDown=f.onMouseDown,this.onMouseUp=f.onMouseUp,this.removeDocEvents=f.removeDocEvents,this.nonDOMEvents=["drag"],this.chart=S,this.target=h,this.options=s,this.index=C(s.index,o)}return O.prototype.setVisibility=function(S){this.graphic.attr("visibility",S?"visible":"hidden"),this.options.visible=S},O.prototype.render=function(){var S=this.chart,h=this.options;this.graphic=S.renderer.symbol(h.symbol,0,0,h.width,h.height).add(S.controlPointsGroup).css(h.style),this.setVisibility(h.visible),this.addEvents()},O.prototype.redraw=function(S){this.graphic[S?"animate":"attr"](this.options.positioner.call(this,this.target))},O.prototype.destroy=function(){f.destroy.call(this),this.graphic&&(this.graphic=this.graphic.destroy()),this.options=this.target=this.chart=null},O.prototype.update=function(S){var h=this.chart,s=this.target,o=this.index;S=w(!0,this.options,S),this.destroy(),this.constructor(h,s,S,o),this.render(h.controlPointsGroup),this.redraw()},O}()}),L(a,"Extensions/Annotations/MockPoint.js",[a["Core/Series/Series.js"],a["Core/Utilities.js"],a["Core/Axis/Axis.js"]],function(u,f,w){var C=f.defined,O=f.fireEvent;return function(){function S(h,s,o){this.y=this.x=this.ttBelow=this.plotY=this.plotX=this.negative=this.isInside=void 0,this.mock=!0,this.series={visible:!0,chart:h,getPlotBox:u.prototype.getPlotBox},this.target=s||null,this.options=o,this.applyOptions(this.getOptions())}return S.fromPoint=function(h){return new S(h.series.chart,null,{x:h.x,y:h.y,xAxis:h.series.xAxis,yAxis:h.series.yAxis})},S.pointToPixels=function(h,s){var o=h.series,t=o.chart,e=h.plotX,i=h.plotY;return t.inverted&&(h.mock?(e=h.plotY,i=h.plotX):(e=t.plotWidth-h.plotY,i=t.plotHeight-h.plotX)),o&&!s&&(h=o.getPlotBox(),e+=h.translateX,i+=h.translateY),{x:e,y:i}},S.pointToOptions=function(h){return{x:h.x,y:h.y,xAxis:h.series.xAxis,yAxis:h.series.yAxis}},S.prototype.hasDynamicOptions=function(){return typeof this.options=="function"},S.prototype.getOptions=function(){return this.hasDynamicOptions()?this.options(this.target):this.options},S.prototype.applyOptions=function(h){this.command=h.command,this.setAxis(h,"x"),this.setAxis(h,"y"),this.refresh()},S.prototype.setAxis=function(h,s){s+="Axis",h=h[s];var o=this.series.chart;this.series[s]=h instanceof w?h:C(h)?o[s][h]||o.get(h):null},S.prototype.toAnchor=function(){var h=[this.plotX,this.plotY,0,0];return this.series.chart.inverted&&(h[0]=this.plotY,h[1]=this.plotX),h},S.prototype.getLabelConfig=function(){return{x:this.x,y:this.y,point:this}},S.prototype.isInsidePlot=function(){var h=this.plotX,s=this.plotY,o=this.series.xAxis,t=this.series.yAxis,e={x:h,y:s,isInsidePlot:!0};return o&&(e.isInsidePlot=C(h)&&0<=h&&h<=o.len),t&&(e.isInsidePlot=e.isInsidePlot&&C(s)&&0<=s&&s<=t.len),O(this.series.chart,"afterIsInsidePlot",e),e.isInsidePlot},S.prototype.refresh=function(){var h=this.series,s=h.xAxis;h=h.yAxis;var o=this.getOptions();s?(this.x=o.x,this.plotX=s.toPixels(o.x,!0)):(this.x=null,this.plotX=o.x),h?(this.y=o.y,this.plotY=h.toPixels(o.y,!0)):(this.y=null,this.plotY=o.y),this.isInside=this.isInsidePlot()},S.prototype.translate=function(h,s,o,t){this.hasDynamicOptions()||(this.plotX+=o,this.plotY+=t,this.refreshOptions())},S.prototype.scale=function(h,s,o,t){if(!this.hasDynamicOptions()){var e=this.plotY*t;this.plotX=(1-o)*h+this.plotX*o,this.plotY=(1-t)*s+e,this.refreshOptions()}},S.prototype.rotate=function(h,s,o){if(!this.hasDynamicOptions()){var t=Math.cos(o);o=Math.sin(o);var e=this.plotX,i=this.plotY;e-=h,i-=s,this.plotX=e*t-i*o+h,this.plotY=e*o+i*t+s,this.refreshOptions()}},S.prototype.refreshOptions=function(){var h=this.series,s=h.xAxis;h=h.yAxis,this.x=this.options.x=s?this.options.x=s.toValue(this.plotX,!0):this.plotX,this.y=this.options.y=h?h.toValue(this.plotY,!0):this.plotY},S}()}),L(a,"Extensions/Annotations/Mixins/ControllableMixin.js",[a["Extensions/Annotations/ControlPoint.js"],a["Extensions/Annotations/MockPoint.js"],a["Core/Tooltip.js"],a["Core/Utilities.js"]],function(u,f,w,C){var O=C.isObject,S=C.isString,h=C.merge,s=C.splat;return{init:function(o,t,e){this.annotation=o,this.chart=o.chart,this.options=t,this.points=[],this.controlPoints=[],this.index=e,this.linkPoints(),this.addControlPoints()},attr:function(){this.graphic.attr.apply(this.graphic,arguments)},getPointsOptions:function(){var o=this.options;return o.points||o.point&&s(o.point)},attrsFromOptions:function(o){var t=this.constructor.attrsMap,e={},i,n=this.chart.styledMode;for(i in o){var l=t[i];!l||n&&["fill","stroke","stroke-width"].indexOf(l)!==-1||(e[l]=o[i])}return e},anchor:function(o){var t=o.series.getPlotBox(),e=o.series.chart,i=o.mock?o.toAnchor():w.prototype.getAnchor.call({chart:o.series.chart},o);return i={x:i[0]+(this.options.x||0),y:i[1]+(this.options.y||0),height:i[2]||0,width:i[3]||0},{relativePosition:i,absolutePosition:h(i,{x:i.x+(o.mock?t.translateX:e.plotLeft),y:i.y+(o.mock?t.translateY:e.plotTop)})}},point:function(o,t){return o&&o.series?o:(t&&t.series!==null||(O(o)?t=new f(this.chart,this,o):S(o)?t=this.chart.get(o)||null:typeof o=="function"&&(t=o.call(t,this),t=t.series?t:new f(this.chart,this,o))),t)},linkPoints:function(){var o=this.getPointsOptions(),t=this.points,e=o&&o.length||0,i;for(i=0;i<e;i++){var n=this.point(o[i],t[i]);if(!n){t.length=0;return}n.mock&&n.refresh(),t[i]=n}return t},addControlPoints:function(){var o=this.options.controlPoints;(o||[]).forEach(function(t,e){t=h(this.options.controlPointOptions,t),t.index||(t.index=e),o[e]=t,this.controlPoints.push(new u(this.chart,this,t))},this)},shouldBeDrawn:function(){return!!this.points.length},render:function(o){this.controlPoints.forEach(function(t){t.render()})},redraw:function(o){this.controlPoints.forEach(function(t){t.redraw(o)})},transform:function(o,t,e,i,n){if(this.chart.inverted){var l=t;t=e,e=l}this.points.forEach(function(p,r){this.transformPoint(o,t,e,i,n,r)},this)},transformPoint:function(o,t,e,i,n,l){var p=this.points[l];p.mock||(p=this.points[l]=f.fromPoint(p)),p[o](t,e,i,n)},translate:function(o,t){this.transform("translate",null,null,o,t)},translatePoint:function(o,t,e){this.transformPoint("translate",null,null,o,t,e)},translateShape:function(o,t,e){var i=this.annotation.chart,n=this.annotation.userOptions,l=i.annotations.indexOf(this.annotation);i=i.options.annotations[l],this.translatePoint(o,t,0),e&&this.translatePoint(o,t,1),i[this.collection][this.index].point=this.options.point,n[this.collection][this.index].point=this.options.point},rotate:function(o,t,e){this.transform("rotate",o,t,e)},scale:function(o,t,e,i){this.transform("scale",o,t,e,i)},setControlPointsVisibility:function(o){this.controlPoints.forEach(function(t){t.setVisibility(o)})},destroy:function(){this.graphic&&(this.graphic=this.graphic.destroy()),this.tracker&&(this.tracker=this.tracker.destroy()),this.controlPoints.forEach(function(o){o.destroy()}),this.options=this.controlPoints=this.points=this.chart=null,this.annotation&&(this.annotation=null)},update:function(o){var t=this.annotation;o=h(!0,this.options,o);var e=this.graphic.parentGroup;this.destroy(),this.constructor(t,o,this.index),this.render(e),this.redraw()}}}),L(a,"Extensions/Annotations/Mixins/MarkerMixin.js",[a["Core/Chart/Chart.js"],a["Core/Renderer/SVG/SVGRenderer.js"],a["Core/Utilities.js"]],function(u,f,w){function C(t){return function(e){this.attr(t,"url(#"+e+")")}}var O=w.addEvent,S=w.defined,h=w.merge,s=w.uniqueKey,o={arrow:{tagName:"marker",attributes:{id:"arrow",refY:5,refX:9,markerWidth:10,markerHeight:10},children:[{tagName:"path",attributes:{d:"M 0 0 L 10 5 L 0 10 Z","stroke-width":0}}]},"reverse-arrow":{tagName:"marker",attributes:{id:"reverse-arrow",refY:5,refX:1,markerWidth:10,markerHeight:10},children:[{tagName:"path",attributes:{d:"M 0 5 L 10 0 L 10 10 Z","stroke-width":0}}]}};return f.prototype.addMarker=function(t,e){var i={attributes:{id:t}},n={stroke:e.color||"none",fill:e.color||"rgba(0, 0, 0, 0.75)"};return i.children=e.children&&e.children.map(function(l){return h(n,l)}),e=h(!0,{attributes:{markerWidth:20,markerHeight:20,refX:0,refY:0,orient:"auto"}},e,i),e=this.definition(e),e.id=t,e},f={markerEndSetter:C("marker-end"),markerStartSetter:C("marker-start"),setItemMarkers:function(t){var e=t.options,i=t.chart,n=i.options.defs,l=e.fill,p=S(l)&&l!=="none"?l:e.stroke;["markerStart","markerEnd"].forEach(function(r){var c=e[r],A;if(c){for(A in n){var v=n[A];if((c===(v.attributes&&v.attributes.id)||c===v.id)&&v.tagName==="marker"){var g=v;break}}g&&(c=t[r]=i.renderer.addMarker((e.id||s())+"-"+c,h(g,{color:p})),t.attr(r,c.getAttribute("id")))}})}},O(u,"afterGetContainer",function(){this.options.defs=h(o,this.options.defs||{})}),f}),L(a,"Extensions/Annotations/Controllables/ControllablePath.js",[a["Extensions/Annotations/Mixins/ControllableMixin.js"],a["Core/Globals.js"],a["Extensions/Annotations/Mixins/MarkerMixin.js"],a["Core/Utilities.js"]],function(u,f,w,C){var O=C.extend,S="rgba(192,192,192,"+(f.svg?1e-4:.002)+")";return function(){function h(s,o,t){this.addControlPoints=u.addControlPoints,this.anchor=u.anchor,this.attr=u.attr,this.attrsFromOptions=u.attrsFromOptions,this.destroy=u.destroy,this.getPointsOptions=u.getPointsOptions,this.init=u.init,this.linkPoints=u.linkPoints,this.point=u.point,this.rotate=u.rotate,this.scale=u.scale,this.setControlPointsVisibility=u.setControlPointsVisibility,this.setMarkers=w.setItemMarkers,this.transform=u.transform,this.transformPoint=u.transformPoint,this.translate=u.translate,this.translatePoint=u.translatePoint,this.translateShape=u.translateShape,this.update=u.update,this.type="path",this.init(s,o,t),this.collection="shapes"}return h.prototype.toD=function(){var s=this.options.d;if(s)return typeof s=="function"?s.call(this):s;s=this.points;var o=s.length,t=o,e=s[0],i=t&&this.anchor(e).absolutePosition,n=0,l=[];if(i)for(l.push(["M",i.x,i.y]);++n<o&&t;)e=s[n],t=e.command||"L",i=this.anchor(e).absolutePosition,t==="M"?l.push([t,i.x,i.y]):t==="L"?l.push([t,i.x,i.y]):t==="Z"&&l.push([t]),t=e.series.visible;return t?this.chart.renderer.crispLine(l,this.graphic.strokeWidth()):null},h.prototype.shouldBeDrawn=function(){return u.shouldBeDrawn.call(this)||!!this.options.d},h.prototype.render=function(s){var o=this.options,t=this.attrsFromOptions(o);this.graphic=this.annotation.chart.renderer.path([["M",0,0]]).attr(t).add(s),o.className&&this.graphic.addClass(o.className),this.tracker=this.annotation.chart.renderer.path([["M",0,0]]).addClass("highcharts-tracker-line").attr({zIndex:2}).add(s),this.annotation.chart.styledMode||this.tracker.attr({"stroke-linejoin":"round",stroke:S,fill:S,"stroke-width":this.graphic.strokeWidth()+2*o.snap}),u.render.call(this),O(this.graphic,{markerStartSetter:w.markerStartSetter,markerEndSetter:w.markerEndSetter}),this.setMarkers(this)},h.prototype.redraw=function(s){var o=this.toD(),t=s?"animate":"attr";o?(this.graphic[t]({d:o}),this.tracker[t]({d:o})):(this.graphic.attr({d:"M 0 -9000000000"}),this.tracker.attr({d:"M 0 -9000000000"})),this.graphic.placed=this.tracker.placed=!!o,u.redraw.call(this,s)},h.attrsMap={dashStyle:"dashstyle",strokeWidth:"stroke-width",stroke:"stroke",fill:"fill",zIndex:"zIndex"},h}()}),L(a,"Extensions/Annotations/Controllables/ControllableRect.js",[a["Extensions/Annotations/Mixins/ControllableMixin.js"],a["Extensions/Annotations/Controllables/ControllablePath.js"],a["Core/Utilities.js"]],function(u,f,w){var C=w.merge;return function(){function O(S,h,s){this.addControlPoints=u.addControlPoints,this.anchor=u.anchor,this.attr=u.attr,this.attrsFromOptions=u.attrsFromOptions,this.destroy=u.destroy,this.getPointsOptions=u.getPointsOptions,this.init=u.init,this.linkPoints=u.linkPoints,this.point=u.point,this.rotate=u.rotate,this.scale=u.scale,this.setControlPointsVisibility=u.setControlPointsVisibility,this.shouldBeDrawn=u.shouldBeDrawn,this.transform=u.transform,this.transformPoint=u.transformPoint,this.translatePoint=u.translatePoint,this.translateShape=u.translateShape,this.update=u.update,this.type="rect",this.translate=u.translateShape,this.init(S,h,s),this.collection="shapes"}return O.prototype.render=function(S){var h=this.attrsFromOptions(this.options);this.graphic=this.annotation.chart.renderer.rect(0,-9e9,0,0).attr(h).add(S),u.render.call(this)},O.prototype.redraw=function(S){var h=this.anchor(this.points[0]).absolutePosition;h?this.graphic[S?"animate":"attr"]({x:h.x,y:h.y,width:this.options.width,height:this.options.height}):this.attr({x:0,y:-9e9}),this.graphic.placed=!!h,u.redraw.call(this,S)},O.attrsMap=C(f.attrsMap,{width:"width",height:"height"}),O}()}),L(a,"Extensions/Annotations/Controllables/ControllableCircle.js",[a["Extensions/Annotations/Mixins/ControllableMixin.js"],a["Extensions/Annotations/Controllables/ControllablePath.js"],a["Core/Utilities.js"]],function(u,f,w){var C=w.merge;return function(){function O(S,h,s){this.addControlPoints=u.addControlPoints,this.anchor=u.anchor,this.attr=u.attr,this.attrsFromOptions=u.attrsFromOptions,this.destroy=u.destroy,this.getPointsOptions=u.getPointsOptions,this.init=u.init,this.linkPoints=u.linkPoints,this.point=u.point,this.rotate=u.rotate,this.scale=u.scale,this.setControlPointsVisibility=u.setControlPointsVisibility,this.shouldBeDrawn=u.shouldBeDrawn,this.transform=u.transform,this.transformPoint=u.transformPoint,this.translatePoint=u.translatePoint,this.translateShape=u.translateShape,this.update=u.update,this.type="circle",this.translate=u.translateShape,this.init(S,h,s),this.collection="shapes"}return O.prototype.render=function(S){var h=this.attrsFromOptions(this.options);this.graphic=this.annotation.chart.renderer.circle(0,-9e9,0).attr(h).add(S),u.render.call(this)},O.prototype.redraw=function(S){var h=this.anchor(this.points[0]).absolutePosition;h?this.graphic[S?"animate":"attr"]({x:h.x,y:h.y,r:this.options.r}):this.graphic.attr({x:0,y:-9e9}),this.graphic.placed=!!h,u.redraw.call(this,S)},O.prototype.setRadius=function(S){this.options.r=S},O.attrsMap=C(f.attrsMap,{r:"r"}),O}()}),L(a,"Extensions/Annotations/Controllables/ControllableEllipse.js",[a["Extensions/Annotations/Mixins/ControllableMixin.js"],a["Extensions/Annotations/Controllables/ControllablePath.js"],a["Core/Utilities.js"]],function(u,f,w){var C=w.merge,O=w.defined;return function(){function S(h,s,o){this.addControlPoints=u.addControlPoints,this.anchor=u.anchor,this.attr=u.attr,this.attrsFromOptions=u.attrsFromOptions,this.destroy=u.destroy,this.getPointsOptions=u.getPointsOptions,this.linkPoints=u.linkPoints,this.point=u.point,this.scale=u.scale,this.setControlPointsVisibility=u.setControlPointsVisibility,this.shouldBeDrawn=u.shouldBeDrawn,this.transform=u.transform,this.translatePoint=u.translatePoint,this.transformPoint=u.transformPoint,this.type="ellipse",this.init(h,s,o),this.collection="shapes"}return S.prototype.init=function(h,s,o){O(s.yAxis)&&s.points.forEach(function(t){t.yAxis=s.yAxis}),O(s.xAxis)&&s.points.forEach(function(t){t.xAxis=s.xAxis}),u.init.call(this,h,s,o)},S.prototype.render=function(h){this.graphic=this.annotation.chart.renderer.createElement("ellipse").attr(this.attrsFromOptions(this.options)).add(h),u.render.call(this)},S.prototype.translate=function(h,s){u.translateShape.call(this,h,s,!0)},S.prototype.getDistanceFromLine=function(h,s,o,t){return Math.abs((s.y-h.y)*o-(s.x-h.x)*t+s.x*h.y-s.y*h.x)/Math.sqrt((s.y-h.y)*(s.y-h.y)+(s.x-h.x)*(s.x-h.x))},S.prototype.getAttrs=function(h,s){var o=h.x,t=h.y,e=s.x,i=s.y;s=(o+e)/2,h=(t+i)/2;var n=Math.sqrt((o-e)*(o-e)/4+(t-i)*(t-i)/4);return t=180*Math.atan((i-t)/(e-o))/Math.PI,s<o&&(t+=180),o=this.getRY(),{cx:s,cy:h,rx:n,ry:o,angle:t}},S.prototype.getRY=function(){var h=this.getYAxis();return O(h)?Math.abs(h.toPixels(this.options.ry)-h.toPixels(0)):this.options.ry},S.prototype.getYAxis=function(){return this.chart.yAxis[this.options.yAxis]},S.prototype.getAbsolutePosition=function(h){return this.anchor(h).absolutePosition},S.prototype.redraw=function(h){var s=this.getAbsolutePosition(this.points[0]),o=this.getAbsolutePosition(this.points[1]);o=this.getAttrs(s,o),s?this.graphic[h?"animate":"attr"]({cx:o.cx,cy:o.cy,rx:o.rx,ry:o.ry,rotation:o.angle,rotationOriginX:o.cx,rotationOriginY:o.cy}):this.graphic.attr({x:0,y:-9e9}),this.graphic.placed=!!s,u.redraw.call(this,h)},S.prototype.setYRadius=function(h){this.options.ry=h,this.annotation.userOptions.shapes[0].ry=h,this.annotation.options.shapes[0].ry=h},S.attrsMap=C(f.attrsMap,{ry:"ry"}),S}()}),L(a,"Extensions/Annotations/Controllables/ControllableLabel.js",[a["Extensions/Annotations/Mixins/ControllableMixin.js"],a["Core/FormatUtilities.js"],a["Extensions/Annotations/MockPoint.js"],a["Core/Renderer/SVG/SVGRenderer.js"],a["Core/Tooltip.js"],a["Core/Utilities.js"]],function(u,f,w,C,O,S){var h=f.format;f=C.prototype.symbols;var s=S.extend,o=S.isNumber,t=S.pick;return S=function(){function e(i,n,l){this.addControlPoints=u.addControlPoints,this.attr=u.attr,this.attrsFromOptions=u.attrsFromOptions,this.destroy=u.destroy,this.getPointsOptions=u.getPointsOptions,this.init=u.init,this.linkPoints=u.linkPoints,this.point=u.point,this.rotate=u.rotate,this.scale=u.scale,this.setControlPointsVisibility=u.setControlPointsVisibility,this.shouldBeDrawn=u.shouldBeDrawn,this.transform=u.transform,this.transformPoint=u.transformPoint,this.translateShape=u.translateShape,this.update=u.update,this.init(i,n,l),this.collection="labels"}return e.alignedPosition=function(i,n){var l=i.align,p=i.verticalAlign,r=(n.x||0)+(i.x||0),c=(n.y||0)+(i.y||0),A,v;return l==="right"?A=1:l==="center"&&(A=2),A&&(r+=(n.width-(i.width||0))/A),p==="bottom"?v=1:p==="middle"&&(v=2),v&&(c+=(n.height-(i.height||0))/v),{x:Math.round(r),y:Math.round(c)}},e.justifiedOptions=function(i,n,l,p){var r=l.align,c=l.verticalAlign,A=n.box?0:n.padding||0,v=n.getBBox();n={align:r,verticalAlign:c,x:l.x,y:l.y,width:n.width,height:n.height},l=(p.x||0)-i.plotLeft,p=(p.y||0)-i.plotTop;var g=l+A;return 0>g&&(r==="right"?n.align="left":n.x=(n.x||0)-g),g=l+v.width-A,g>i.plotWidth&&(r==="left"?n.align="right":n.x=(n.x||0)+i.plotWidth-g),g=p+A,0>g&&(c==="bottom"?n.verticalAlign="top":n.y=(n.y||0)-g),g=p+v.height-A,g>i.plotHeight&&(c==="top"?n.verticalAlign="bottom":n.y=(n.y||0)+i.plotHeight-g),n},e.prototype.translatePoint=function(i,n){u.translatePoint.call(this,i,n,0)},e.prototype.translate=function(i,n){var l=this.annotation.chart,p=this.annotation.userOptions,r=l.annotations.indexOf(this.annotation);r=l.options.annotations[r],l.inverted&&(l=i,i=n,n=l),this.options.x+=i,this.options.y+=n,r[this.collection][this.index].x=this.options.x,r[this.collection][this.index].y=this.options.y,p[this.collection][this.index].x=this.options.x,p[this.collection][this.index].y=this.options.y},e.prototype.render=function(i){var n=this.options,l=this.attrsFromOptions(n),p=n.style;this.graphic=this.annotation.chart.renderer.label("",0,-9999,n.shape,null,null,n.useHTML,null,"annotation-label").attr(l).add(i),this.annotation.chart.styledMode||(p.color==="contrast"&&(p.color=this.annotation.chart.renderer.getContrast(-1<e.shapesWithoutBackground.indexOf(n.shape)?"#FFFFFF":n.backgroundColor)),this.graphic.css(n.style).shadow(n.shadow)),n.className&&this.graphic.addClass(n.className),this.graphic.labelrank=n.labelrank,u.render.call(this)},e.prototype.redraw=function(i){var n=this.options,l=this.text||n.format||n.text,p=this.graphic,r=this.points[0];p.attr({text:l?h(l,r.getLabelConfig(),this.annotation.chart):n.formatter.call(r,this)}),n=this.anchor(r),(l=this.position(n))?(p.alignAttr=l,l.anchorX=n.absolutePosition.x,l.anchorY=n.absolutePosition.y,p[i?"animate":"attr"](l)):p.attr({x:0,y:-9999}),p.placed=!!l,u.redraw.call(this,i)},e.prototype.anchor=function(i){var n=u.anchor.apply(this,arguments),l=this.options.x||0,p=this.options.y||0;return n.absolutePosition.x-=l,n.absolutePosition.y-=p,n.relativePosition.x-=l,n.relativePosition.y-=p,n},e.prototype.position=function(i){var n=this.graphic,l=this.annotation.chart,p=this.points[0],r=this.options,c=i.absolutePosition,A=i.relativePosition,v=p.series.visible&&w.prototype.isInsidePlot.call(p);i=n.width,i=i===void 0?0:i;var g=n.height;if(g=g===void 0?0:g,v){if(r.distance)var P=O.prototype.getPosition.call({chart:l,distance:t(r.distance,16)},i,g,{plotX:A.x,plotY:A.y,negative:p.negative,ttBelow:p.ttBelow,h:A.height||A.width});else r.positioner?P=r.positioner.call(this):(p={x:c.x,y:c.y,width:0,height:0},P=e.alignedPosition(s(r,{width:i,height:g}),p),this.options.overflow==="justify"&&(P=e.alignedPosition(e.justifiedOptions(l,n,r,P),p)));r.crop&&(n=P.x-l.plotLeft,r=P.y-l.plotTop,v=l.isInsidePlot(n,r)&&l.isInsidePlot(n+i,r+g))}return v?P:null},e.attrsMap={backgroundColor:"fill",borderColor:"stroke",borderWidth:"stroke-width",zIndex:"zIndex",borderRadius:"r",padding:"padding"},e.shapesWithoutBackground=["connector"],e}(),f.connector=function(e,i,n,l,p){var r=p&&p.anchorX;p=p&&p.anchorY;var c=n/2;if(o(r)&&o(p)){var A=[["M",r,p]],v=i-p;0>v&&(v=-l-v),v<n&&(c=r<e+n/2?v:n-v),p>i+l?A.push(["L",e+c,i+l]):p<i?A.push(["L",e+c,i]):r<e?A.push(["L",e,i+l/2]):r>e+n&&A.push(["L",e+n,i+l/2])}return A||[]},S}),L(a,"Extensions/Annotations/Controllables/ControllableImage.js",[a["Extensions/Annotations/Controllables/ControllableLabel.js"],a["Extensions/Annotations/Mixins/ControllableMixin.js"]],function(u,f){return function(){function w(C,O,S){this.addControlPoints=f.addControlPoints,this.anchor=f.anchor,this.attr=f.attr,this.attrsFromOptions=f.attrsFromOptions,this.destroy=f.destroy,this.getPointsOptions=f.getPointsOptions,this.init=f.init,this.linkPoints=f.linkPoints,this.point=f.point,this.rotate=f.rotate,this.scale=f.scale,this.setControlPointsVisibility=f.setControlPointsVisibility,this.shouldBeDrawn=f.shouldBeDrawn,this.transform=f.transform,this.transformPoint=f.transformPoint,this.translatePoint=f.translatePoint,this.translateShape=f.translateShape,this.update=f.update,this.type="image",this.translate=f.translateShape,this.init(C,O,S),this.collection="shapes"}return w.prototype.render=function(C){var O=this.attrsFromOptions(this.options),S=this.options;this.graphic=this.annotation.chart.renderer.image(S.src,0,-9e9,S.width,S.height).attr(O).add(C),this.graphic.width=S.width,this.graphic.height=S.height,f.render.call(this)},w.prototype.redraw=function(C){var O=this.anchor(this.points[0]);(O=u.prototype.position.call(this,O))?this.graphic[C?"animate":"attr"]({x:O.x,y:O.y}):this.graphic.attr({x:0,y:-9e9}),this.graphic.placed=!!O,f.redraw.call(this,C)},w.attrsMap={width:"width",height:"height",zIndex:"zIndex"},w}()}),L(a,"Extensions/Annotations/Annotations.js",[a["Core/Animation/AnimationUtilities.js"],a["Core/Chart/Chart.js"],a["Extensions/Annotations/Mixins/ControllableMixin.js"],a["Extensions/Annotations/Controllables/ControllableRect.js"],a["Extensions/Annotations/Controllables/ControllableCircle.js"],a["Extensions/Annotations/Controllables/ControllableEllipse.js"],a["Extensions/Annotations/Controllables/ControllablePath.js"],a["Extensions/Annotations/Controllables/ControllableImage.js"],a["Extensions/Annotations/Controllables/ControllableLabel.js"],a["Extensions/Annotations/ControlPoint.js"],a["Extensions/Annotations/Mixins/EventEmitterMixin.js"],a["Core/Globals.js"],a["Extensions/Annotations/MockPoint.js"],a["Core/Pointer.js"],a["Core/Utilities.js"]],function(u,f,w,C,O,S,h,s,o,t,e,i,n,l,p){var r=u.getDeferredAnimation;u=f.prototype;var c=p.addEvent,A=p.defined,v=p.destroyObjectProperties,g=p.erase,P=p.extend,x=p.find,k=p.fireEvent,m=p.merge,_=p.pick,M=p.splat;p=p.wrap;var D=function(){function E(b,T){this.annotation=void 0,this.coll="annotations",this.shapesGroup=this.labelsGroup=this.labelCollector=this.group=this.graphic=this.animationConfig=this.collection=void 0,this.chart=b,this.points=[],this.controlPoints=[],this.coll="annotations",this.labels=[],this.shapes=[],this.options=m(this.defaultOptions,T),this.userOptions=T,T=this.getLabelsAndShapesOptions(this.options,T),this.options.labels=T.labels,this.options.shapes=T.shapes,this.init(b,this.options)}return E.prototype.init=function(){var b=this.chart,T=this.options.animation;this.linkPoints(),this.addControlPoints(),this.addShapes(),this.addLabels(),this.setLabelCollector(),this.animationConfig=r(b,T)},E.prototype.getLabelsAndShapesOptions=function(b,T){var B={};return["labels","shapes"].forEach(function(I){b[I]&&(B[I]=T[I]?M(T[I]).map(function(N,V){return m(b[I][V],N)}):b[I])}),B},E.prototype.addShapes=function(){(this.options.shapes||[]).forEach(function(b,T){b=this.initShape(b,T),m(!0,this.options.shapes[T],b.options)},this)},E.prototype.addLabels=function(){(this.options.labels||[]).forEach(function(b,T){b=this.initLabel(b,T),m(!0,this.options.labels[T],b.options)},this)},E.prototype.addClipPaths=function(){this.setClipAxes(),this.clipXAxis&&this.clipYAxis&&this.options.crop&&(this.clipRect=this.chart.renderer.clipRect(this.getClipBox()))},E.prototype.setClipAxes=function(){var b=this.chart.xAxis,T=this.chart.yAxis,B=(this.options.labels||[]).concat(this.options.shapes||[]).reduce(function(I,N){return N=N&&(N.point||N.points&&N.points[0]),[b[N&&N.xAxis]||I[0],T[N&&N.yAxis]||I[1]]},[]);this.clipXAxis=B[0],this.clipYAxis=B[1]},E.prototype.getClipBox=function(){if(this.clipXAxis&&this.clipYAxis)return{x:this.clipXAxis.left,y:this.clipYAxis.top,width:this.clipXAxis.width,height:this.clipYAxis.height}},E.prototype.setLabelCollector=function(){var b=this;b.labelCollector=function(){return b.labels.reduce(function(T,B){return B.options.allowOverlap||T.push(B.graphic),T},[])},b.chart.labelCollectors.push(b.labelCollector)},E.prototype.setOptions=function(b){this.options=m(this.defaultOptions,b)},E.prototype.redraw=function(b){this.linkPoints(),this.graphic||this.render(),this.clipRect&&this.clipRect.animate(this.getClipBox()),this.redrawItems(this.shapes,b),this.redrawItems(this.labels,b),w.redraw.call(this,b)},E.prototype.redrawItems=function(b,T){for(var B=b.length;B--;)this.redrawItem(b[B],T)},E.prototype.renderItems=function(b){for(var T=b.length;T--;)this.renderItem(b[T])},E.prototype.render=function(){var b=this.chart.renderer;this.graphic=b.g("annotation").attr({opacity:0,zIndex:this.options.zIndex,visibility:this.options.visible?"visible":"hidden"}).add(),this.shapesGroup=b.g("annotation-shapes").add(this.graphic),this.options.crop&&this.shapesGroup.clip(this.chart.plotBoxClip),this.labelsGroup=b.g("annotation-labels").attr({translateX:0,translateY:0}).add(this.graphic),this.addClipPaths(),this.clipRect&&this.graphic.clip(this.clipRect),this.renderItems(this.shapes),this.renderItems(this.labels),this.addEvents(),w.render.call(this)},E.prototype.setVisibility=function(b){var T=this.options,B=this.chart.navigationBindings;b=_(b,!T.visible),this.graphic.attr("visibility",b?"visible":"hidden"),b||(this.setControlPointsVisibility(!1),B.activeAnnotation===this&&B.popup&&B.popup.formType==="annotation-toolbar"&&k(B,"closePopup")),T.visible=b},E.prototype.setControlPointsVisibility=function(b){var T=function(B){B.setControlPointsVisibility(b)};w.setControlPointsVisibility.call(this,b),this.shapes.forEach(T),this.labels.forEach(T)},E.prototype.destroy=function(){var b=this.chart,T=function(B){B.destroy()};this.labels.forEach(T),this.shapes.forEach(T),this.clipYAxis=this.clipXAxis=null,g(b.labelCollectors,this.labelCollector),e.destroy.call(this),w.destroy.call(this),v(this,b)},E.prototype.remove=function(){return this.chart.removeAnnotation(this)},E.prototype.update=function(b,T){var B=this.chart,I=this.getLabelsAndShapesOptions(this.userOptions,b),N=B.annotations.indexOf(this);b=m(!0,this.userOptions,b),b.labels=I.labels,b.shapes=I.shapes,this.destroy(),this.constructor(B,b),B.options.annotations[N]=b,this.isUpdating=!0,_(T,!0)&&B.redraw(),k(this,"afterUpdate"),this.isUpdating=!1},E.prototype.initShape=function(b,T){return b=m(this.options.shapeOptions,{controlPointOptions:this.options.controlPointOptions},b),T=new E.shapesMap[b.type](this,b,T),T.itemType="shape",this.shapes.push(T),T},E.prototype.initLabel=function(b,T){return b=m(this.options.labelOptions,{controlPointOptions:this.options.controlPointOptions},b),T=new o(this,b,T),T.itemType="label",this.labels.push(T),T},E.prototype.redrawItem=function(b,T){b.linkPoints(),b.shouldBeDrawn()?(b.graphic||this.renderItem(b),b.redraw(_(T,!0)&&b.graphic.placed),b.points.length&&this.adjustVisibility(b)):this.destroyItem(b)},E.prototype.adjustVisibility=function(b){var T=!1,B=b.graphic;b.points.forEach(function(I){I.series.visible!==!1&&I.visible!==!1&&(T=!0)}),T?B.visibility==="hidden"&&B.show():B.hide()},E.prototype.destroyItem=function(b){g(this[b.itemType+"s"],b),b.destroy()},E.prototype.renderItem=function(b){b.render(b.itemType==="label"?this.labelsGroup:this.shapesGroup)},E.ControlPoint=t,E.MockPoint=n,E.shapesMap={rect:C,circle:O,ellipse:S,path:h,image:s},E.types={},E}();return m(!0,D.prototype,w,e,m(D.prototype,{nonDOMEvents:["add","afterUpdate","drag","remove"],defaultOptions:{visible:!0,animation:{},crop:!0,draggable:"xy",labelOptions:{align:"center",allowOverlap:!1,backgroundColor:"rgba(0, 0, 0, 0.75)",borderColor:"#000000",borderRadius:3,borderWidth:1,className:"highcharts-no-tooltip",crop:!1,formatter:function(){return A(this.y)?this.y:"Annotation label"},includeInDataExport:!0,overflow:"justify",padding:5,shadow:!1,shape:"callout",style:{fontSize:"11px",fontWeight:"normal",color:"contrast"},useHTML:!1,verticalAlign:"bottom",x:0,y:-16},shapeOptions:{stroke:"rgba(0, 0, 0, 0.75)",strokeWidth:1,fill:"rgba(0, 0, 0, 0.75)",r:0,snap:2},controlPointOptions:{symbol:"circle",width:10,height:10,style:{cursor:"pointer",fill:"#ffffff",stroke:"#000000","stroke-width":2},visible:!1,events:{}},events:{},zIndex:6}})),i.extendAnnotation=function(E,b,T,B){b=b||D,P(E.prototype,m(b.prototype,T)),E.prototype.defaultOptions=m(E.prototype.defaultOptions,B||{})},P(u,{initAnnotation:function(E){return E=new(D.types[E.type]||D)(this,E),this.annotations.push(E),E},addAnnotation:function(E,b){return E=this.initAnnotation(E),this.options.annotations.push(E.options),_(b,!0)&&(E.redraw(),E.graphic.attr({opacity:1})),E},removeAnnotation:function(E){var b=this.annotations,T=E.coll==="annotations"?E:x(b,function(B){return B.options.id===E});T&&(k(T,"remove"),g(this.options.annotations,T.options),g(b,T),T.destroy())},drawAnnotations:function(){this.plotBoxClip.attr(this.plotBox),this.annotations.forEach(function(E){E.redraw(),E.graphic.animate({opacity:1},E.animationConfig)})}}),u.collectionsWithUpdate.push("annotations"),u.collectionsWithInit.annotations=[u.addAnnotation],c(f,"afterInit",function(){this.annotations=[],this.options.annotations||(this.options.annotations=[])}),u.callbacks.push(function(E){E.plotBoxClip=this.renderer.clipRect(this.plotBox),E.controlPointsGroup=E.renderer.g("control-points").attr({zIndex:99}).clip(E.plotBoxClip).add(),E.options.annotations.forEach(function(b,T){if(!E.annotations.some(function(I){return I.options===b})){var B=E.initAnnotation(b);E.options.annotations[T]=B.options}}),E.drawAnnotations(),c(E,"redraw",E.drawAnnotations),c(E,"destroy",function(){E.plotBoxClip.destroy(),E.controlPointsGroup.destroy()}),c(E,"exportData",function(b){var T=(this.options.exporting&&this.options.exporting.csv||{}).columnHeaderFormatter,B=!b.dataRows[1].xValues,I=E.options.lang&&E.options.lang.exportData&&E.options.lang.exportData.annotationHeader,N=function($){if(T){var H=T($);if(H!==!1)return H}return H=I+" "+$,B?{columnTitle:H,topLevelColumnTitle:H}:H},V=b.dataRows[0].length,j=E.options.exporting&&E.options.exporting.csv&&E.options.exporting.csv.annotations&&E.options.exporting.csv.annotations.itemDelimiter,R=E.options.exporting&&E.options.exporting.csv&&E.options.exporting.csv.annotations&&E.options.exporting.csv.annotations.join;E.annotations.forEach(function($){$.options.labelOptions.includeInDataExport&&$.labels.forEach(function(H){if(H.options.text){var Z=H.options.text;H.points.forEach(function(q){var st=q.x,et=q.series.xAxis?q.series.xAxis.options.index:-1,ot=!1;if(et===-1){q=b.dataRows[0].length;for(var G=Array(q),Q=0;Q<q;++Q)G[Q]="";G.push(Z),G.xValues=[],G.xValues[et]=st,b.dataRows.push(G),ot=!0}if(ot||b.dataRows.forEach(function(it){!ot&&it.xValues&&et!==void 0&&st===it.xValues[et]&&(R&&it.length>V?it[it.length-1]+=j+Z:it.push(Z),ot=!0)}),!ot){for(q=b.dataRows[0].length,G=Array(q),Q=0;Q<q;++Q)G[Q]="";G[0]=st,G.push(Z),G.xValues=[],et!==void 0&&(G.xValues[et]=st),b.dataRows.push(G)}})}})});var F=0;b.dataRows.forEach(function($){F=Math.max(F,$.length)});for(var Y=F-b.dataRows[0].length,z=0;z<Y;z++){var W=N(z+1);B?(b.dataRows[0].push(W.topLevelColumnTitle),b.dataRows[1].push(W.columnTitle)):b.dataRows[0].push(W)}})}),p(l.prototype,"onContainerMouseDown",function(E){this.chart.hasDraggedAnnotation||E.apply(this,Array.prototype.slice.call(arguments,1))}),i.Annotation=D,D}),L(a,"Extensions/Annotations/Types/BasicAnnotation.js",[a["Extensions/Annotations/Annotations.js"],a["Extensions/Annotations/MockPoint.js"],a["Core/Utilities.js"]],function(u,f,w){var C=this&&this.__extends||function(){var S=function(h,s){return S=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,t){o.__proto__=t}||function(o,t){for(var e in t)t.hasOwnProperty(e)&&(o[e]=t[e])},S(h,s)};return function(h,s){function o(){this.constructor=h}S(h,s),h.prototype=s===null?Object.create(s):(o.prototype=s.prototype,new o)}}();w=w.merge;var O=function(S){function h(s,o){return S.call(this,s,o)||this}return C(h,S),h.prototype.addControlPoints=function(){var s=this.options,o=h.basicControlPoints,t=this.basicType;(s.labels||s.shapes).forEach(function(e){e.controlPoints=o[t]})},h.prototype.init=function(){var s=this.options;s.shapes?(delete s.labelOptions,this.basicType=s.shapes[0].type?s.shapes[0].type:"rectangle"):(delete s.shapes,this.basicType="label"),u.prototype.init.apply(this,arguments)},h.basicControlPoints={label:[{symbol:"triangle-down",positioner:function(s){return s.graphic.placed?(s=f.pointToPixels(s.points[0]),{x:s.x-this.graphic.width/2,y:s.y-this.graphic.height/2}):{x:0,y:-9e7}},events:{drag:function(s,o){s=this.mouseMoveToTranslation(s),o.translatePoint(s.x,s.y),o.annotation.userOptions.labels[0].point=o.options.point,o.redraw(!1)}}},{symbol:"square",positioner:function(s){return s.graphic.placed?{x:s.graphic.alignAttr.x-this.graphic.width/2,y:s.graphic.alignAttr.y-this.graphic.height/2}:{x:0,y:-9e7}},events:{drag:function(s,o){s=this.mouseMoveToTranslation(s),o.translate(s.x,s.y),o.annotation.userOptions.labels[0].point=o.options.point,o.redraw(!1)}}}],rectangle:[{positioner:function(s){return s=f.pointToPixels(s.points[2]),{x:s.x-4,y:s.y-4}},events:{drag:function(s,o){var t=o.annotation,e=this.chart.pointer.getCoordinates(s);s=e.xAxis[0].value,e=e.yAxis[0].value;var i=o.options.points;i[1].x=s,i[2].x=s,i[2].y=e,i[3].y=e,t.userOptions.shapes[0].points=o.options.points,t.redraw(!1)}}}],circle:[{positioner:function(s){var o=f.pointToPixels(s.points[0]);return s=s.options.r,{x:o.x+s*Math.cos(Math.PI/4)-this.graphic.width/2,y:o.y+s*Math.sin(Math.PI/4)-this.graphic.height/2}},events:{drag:function(s,o){var t=o.annotation;s=this.mouseMoveToTranslation(s),o.setRadius(Math.max(o.options.r+s.y/Math.sin(Math.PI/4),5)),t.userOptions.shapes[0].r=o.options.r,t.userOptions.shapes[0].point=o.options.point,o.redraw(!1)}}}],ellipse:[{positioner:function(s){return s=s.getAbsolutePosition(s.points[0]),{x:s.x-this.graphic.width/2,y:s.y-this.graphic.height/2}},events:{drag:function(s,o){var t=o.getAbsolutePosition(o.points[0]);o.translatePoint(s.chartX-t.x,s.chartY-t.y,0),o.redraw(!1)}}},{positioner:function(s){return s=s.getAbsolutePosition(s.points[1]),{x:s.x-this.graphic.width/2,y:s.y-this.graphic.height/2}},events:{drag:function(s,o){var t=o.getAbsolutePosition(o.points[1]);o.translatePoint(s.chartX-t.x,s.chartY-t.y,1),o.redraw(!1)}}},{positioner:function(s){var o=s.getAbsolutePosition(s.points[0]),t=s.getAbsolutePosition(s.points[1]);return s=s.getAttrs(o,t),{x:s.cx-this.graphic.width/2+s.ry*Math.sin(s.angle*Math.PI/180),y:s.cy-this.graphic.height/2-s.ry*Math.cos(s.angle*Math.PI/180)}},events:{drag:function(s,o){var t=o.getAbsolutePosition(o.points[0]),e=o.getAbsolutePosition(o.points[1]);s=o.getDistanceFromLine(t,e,s.chartX,s.chartY),t=o.getYAxis(),s=Math.abs(t.toValue(0)-t.toValue(s)),o.setYRadius(s),o.redraw(!1)}}}]},h}(u);return O.prototype.defaultOptions=w(u.prototype.defaultOptions,{}),u.types.basicAnnotation=O}),L(a,"Extensions/Annotations/Types/CrookedLine.js",[a["Extensions/Annotations/Annotations.js"],a["Extensions/Annotations/ControlPoint.js"],a["Extensions/Annotations/MockPoint.js"],a["Core/Utilities.js"]],function(u,f,w,C){var O=this&&this.__extends||function(){var h=function(s,o){return h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},h(s,o)};return function(s,o){function t(){this.constructor=s}h(s,o),s.prototype=o===null?Object.create(o):(t.prototype=o.prototype,new t)}}(),S=C.merge;return C=function(h){function s(o,t){return h.call(this,o,t)||this}return O(s,h),s.prototype.setClipAxes=function(){this.clipXAxis=this.chart.xAxis[this.options.typeOptions.xAxis],this.clipYAxis=this.chart.yAxis[this.options.typeOptions.yAxis]},s.prototype.getPointsOptions=function(){var o=this.options.typeOptions;return(o.points||[]).map(function(t){return t.xAxis=o.xAxis,t.yAxis=o.yAxis,t})},s.prototype.getControlPointsOptions=function(){return this.getPointsOptions()},s.prototype.addControlPoints=function(){this.getControlPointsOptions().forEach(function(o,t){t=new f(this.chart,this,S(this.options.controlPointOptions,o.controlPoint),t),this.controlPoints.push(t),o.controlPoint=t.options},this)},s.prototype.addShapes=function(){var o=this.options.typeOptions,t=this.initShape(S(o.line,{type:"path",points:this.points.map(function(e,i){return function(n){return n.annotation.points[i]}})}),0);o.line=t.options},s}(u),C.prototype.defaultOptions=S(u.prototype.defaultOptions,{typeOptions:{xAxis:0,yAxis:0,line:{fill:"none"}},controlPointOptions:{positioner:function(h){var s=this.graphic;return h=w.pointToPixels(h.points[this.index]),{x:h.x-s.width/2,y:h.y-s.height/2}},events:{drag:function(h,s){s.chart.isInsidePlot(h.chartX-s.chart.plotLeft,h.chartY-s.chart.plotTop,{visiblePlotOnly:!0})&&(h=this.mouseMoveToTranslation(h),s.translatePoint(h.x,h.y,this.index),s.options.typeOptions.points[this.index].x=s.points[this.index].x,s.options.typeOptions.points[this.index].y=s.points[this.index].y,s.redraw(!1))}}}}),u.types.crookedLine=C}),L(a,"Extensions/Annotations/Types/ElliottWave.js",[a["Extensions/Annotations/Annotations.js"],a["Extensions/Annotations/Types/CrookedLine.js"],a["Core/Utilities.js"]],function(u,f,w){var C=this&&this.__extends||function(){var S=function(h,s){return S=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,t){o.__proto__=t}||function(o,t){for(var e in t)t.hasOwnProperty(e)&&(o[e]=t[e])},S(h,s)};return function(h,s){function o(){this.constructor=h}S(h,s),h.prototype=s===null?Object.create(s):(o.prototype=s.prototype,new o)}}(),O=w.merge;return w=function(S){function h(s,o){return S.call(this,s,o)||this}return C(h,S),h.prototype.addLabels=function(){this.getPointsOptions().forEach(function(s,o){var t=this.initLabel(O(s.label,{text:this.options.typeOptions.labels[o],point:function(e){return e.annotation.points[o]}}),!1);s.label=t.options},this)},h}(f),w.prototype.defaultOptions=O(f.prototype.defaultOptions,{typeOptions:{labels:"(0) (A) (B) (C) (D) (E)".split(" "),line:{strokeWidth:1}},labelOptions:{align:"center",allowOverlap:!0,crop:!0,overflow:"none",type:"rect",backgroundColor:"none",borderWidth:0,y:-5}}),u.types.elliottWave=w}),L(a,"Extensions/Annotations/Types/Tunnel.js",[a["Extensions/Annotations/Annotations.js"],a["Extensions/Annotations/ControlPoint.js"],a["Extensions/Annotations/Types/CrookedLine.js"],a["Extensions/Annotations/MockPoint.js"],a["Core/Utilities.js"]],function(u,f,w,C,O){var S=this&&this.__extends||function(){var s=function(o,t){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var n in i)i.hasOwnProperty(n)&&(e[n]=i[n])},s(o,t)};return function(o,t){function e(){this.constructor=o}s(o,t),o.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),h=O.merge;return O=function(s){function o(t,e){return s.call(this,t,e)||this}return S(o,s),o.prototype.getPointsOptions=function(){var t=w.prototype.getPointsOptions.call(this);return t[2]=this.heightPointOptions(t[1]),t[3]=this.heightPointOptions(t[0]),t},o.prototype.getControlPointsOptions=function(){return this.getPointsOptions().slice(0,2)},o.prototype.heightPointOptions=function(t){return t=h(t),t.y+=this.options.typeOptions.height,t},o.prototype.addControlPoints=function(){w.prototype.addControlPoints.call(this);var t=this.options,e=t.typeOptions;t=new f(this.chart,this,h(t.controlPointOptions,e.heightControlPoint),2),this.controlPoints.push(t),e.heightControlPoint=t.options},o.prototype.addShapes=function(){this.addLine(),this.addBackground()},o.prototype.addLine=function(){var t=this.initShape(h(this.options.typeOptions.line,{type:"path",points:[this.points[0],this.points[1],function(e){return e=C.pointToOptions(e.annotation.points[2]),e.command="M",e},this.points[3]]}),0);this.options.typeOptions.line=t.options},o.prototype.addBackground=function(){var t=this.initShape(h(this.options.typeOptions.background,{type:"path",points:this.points.slice()}),1);this.options.typeOptions.background=t.options},o.prototype.translateSide=function(t,e,i){i=Number(i);var n=i===0?3:2;this.translatePoint(t,e,i),this.translatePoint(t,e,n)},o.prototype.translateHeight=function(t){this.translatePoint(0,t,2),this.translatePoint(0,t,3),this.options.typeOptions.height=this.points[3].y-this.points[0].y},o}(w),O.prototype.defaultOptions=h(w.prototype.defaultOptions,{typeOptions:{background:{fill:"rgba(130, 170, 255, 0.4)",strokeWidth:0},line:{strokeWidth:1},height:-2,heightControlPoint:{positioner:function(s){var o=C.pointToPixels(s.points[2]);s=C.pointToPixels(s.points[3]);var t=(o.x+s.x)/2;return{x:t-this.graphic.width/2,y:(s.y-o.y)/(s.x-o.x)*(t-o.x)+o.y-this.graphic.height/2}},events:{drag:function(s,o){o.chart.isInsidePlot(s.chartX-o.chart.plotLeft,s.chartY-o.chart.plotTop,{visiblePlotOnly:!0})&&(o.translateHeight(this.mouseMoveToTranslation(s).y),o.redraw(!1))}}}},controlPointOptions:{events:{drag:function(s,o){o.chart.isInsidePlot(s.chartX-o.chart.plotLeft,s.chartY-o.chart.plotTop,{visiblePlotOnly:!0})&&(s=this.mouseMoveToTranslation(s),o.translateSide(s.x,s.y,!!this.index),o.redraw(!1))}}}}),u.types.tunnel=O}),L(a,"Extensions/Annotations/Types/InfinityLine.js",[a["Extensions/Annotations/Annotations.js"],a["Extensions/Annotations/Types/CrookedLine.js"],a["Extensions/Annotations/MockPoint.js"],a["Core/Utilities.js"]],function(u,f,w,C){var O=this&&this.__extends||function(){var h=function(s,o){return h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},h(s,o)};return function(s,o){function t(){this.constructor=s}h(s,o),s.prototype=o===null?Object.create(o):(t.prototype=o.prototype,new t)}}(),S=C.merge;return C=function(h){function s(o,t){return h.call(this,o,t)||this}return O(s,h),s.edgePoint=function(o,t){return function(e){e=e.annotation;var i=e.points,n=e.options.typeOptions.type;return(n==="horizontalLine"||n==="verticalLine")&&(i=[i[0],new w(e.chart,i[0].target,{x:i[0].x+ +(n==="horizontalLine"),y:i[0].y+ +(n==="verticalLine"),xAxis:i[0].options.xAxis,yAxis:i[0].options.yAxis})]),s.findEdgePoint(i[o],i[t])}},s.findEdgeCoordinate=function(o,t,e,i){var n=e==="x"?"y":"x";return(t[e]-o[e])*(i-o[n])/(t[n]-o[n])+o[e]},s.findEdgePoint=function(o,t){var e=o.series.chart,i=o.series.xAxis,n=t.series.yAxis,l=w.pointToPixels(o);t=w.pointToPixels(t);var p=t.x-l.x,r=t.y-l.y,c=i.left,A=c+i.width;i=n.top,n=i+n.height,A=0>p?c:A;var v=0>r?i:n;return c={x:p===0?l.x:A,y:r===0?l.y:v},p!==0&&r!==0&&(p=s.findEdgeCoordinate(l,t,"y",A),l=s.findEdgeCoordinate(l,t,"x",v),p>=i&&p<=n?(c.x=A,c.y=p):(c.x=l,c.y=v)),c.x-=e.plotLeft,c.y-=e.plotTop,o.series.chart.inverted&&(o=c.x,c.x=c.y,c.y=o),c},s.prototype.addShapes=function(){var o=this.options.typeOptions,t=[this.points[0],s.endEdgePoint];o.type.match(/line/gi)&&(t[0]=s.startEdgePoint),t=this.initShape(S(o.line,{type:"path",points:t}),0),o.line=t.options},s.endEdgePoint=s.edgePoint(0,1),s.startEdgePoint=s.edgePoint(1,0),s}(f),C.prototype.defaultOptions=S(f.prototype.defaultOptions,{}),u.types.infinityLine=C,C}),L(a,"Extensions/Annotations/Types/TimeCycles.js",[a["Extensions/Annotations/Annotations.js"],a["Extensions/Annotations/Types/CrookedLine.js"],a["Extensions/Annotations/ControlPoint.js"],a["Core/Utilities.js"]],function(u,f,w,C){function O(t,e,i,n){for(var l=[],p=1;p<=e;p++)l.push(["A",t/2,t/2,0,1,1,i+p*t,n]);return l}var S=this&&this.__extends||function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,l){n.__proto__=l}||function(n,l){for(var p in l)l.hasOwnProperty(p)&&(n[p]=l[p])},t(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=i===null?Object.create(i):(n.prototype=i.prototype,new n)}}(),h=C.merge,s=C.isNumber,o=C.defined;return C=function(t){function e(){return t!==null&&t.apply(this,arguments)||this}return S(e,t),e.prototype.init=function(i,n,l){o(n.yAxis)&&n.points.forEach(function(p){p.yAxis=n.yAxis}),o(n.xAxis)&&n.points.forEach(function(p){p.xAxis=n.xAxis}),t.prototype.init.call(this,i,n,l)},e.prototype.setPath=function(){this.shapes[0].options.d=this.getPath()},e.prototype.getPath=function(){return[["M",this.startX,this.y]].concat(O(this.pixelInterval,this.numberOfCircles,this.startX,this.y))},e.prototype.addShapes=function(){var i=this.options.typeOptions;this.setPathProperties();var n=this.initShape(h(i.line,{type:"path",d:this.getPath(),points:this.options.points}),0);i.line=n.options},e.prototype.addControlPoints=function(){var i=this,n=this.options,l=n.typeOptions;n.controlPointOptions.style.cursor=this.chart.inverted?"ns-resize":"ew-resize",l.controlPointOptions.forEach(function(p){p=h(n.controlPointOptions,p),p=new w(i.chart,i,p,0),i.controlPoints.push(p)})},e.prototype.setPathProperties=function(){var i=this.options.typeOptions,n=i.points;if(n){var l=n[0],p=this.chart.xAxis[i.xAxis||0],r=this.chart.yAxis[i.yAxis||0];i=l.x;var c=l.y;l=n[1].x,i&&l&&(n=s(c)?r.toPixels(c):r.top+r.height,i=s(i)?p.toPixels(i):p.left,r=s(l)?p.toPixels(l):p.left+30,r=Math.round(Math.max(Math.abs(r-i),2)),l=Math.floor(p.len/r)+2,this.startX=i-(Math.floor((i-p.left)/r)+1)*r,this.y=n,this.pixelInterval=r,this.numberOfCircles=l)}},e.prototype.redraw=function(i){this.setPathProperties(),this.setPath(),t.prototype.redraw.call(this,i)},e}(f),C.prototype.defaultOptions=h(f.prototype.defaultOptions,{typeOptions:{controlPointOptions:[{positioner:function(t){return{x:t.anchor(t.points[0]).absolutePosition.x-this.graphic.width/2,y:t.y-this.graphic.height}},events:{drag:function(t,e){var i=e.anchor(e.points[0]).absolutePosition;e.translatePoint(t.chartX-i.x,0,0),e.redraw(!1)}}},{positioner:function(t){return{x:t.anchor(t.points[1]).absolutePosition.x-this.graphic.width/2,y:t.y-this.graphic.height}},events:{drag:function(t,e){var i=e.anchor(e.points[1]).absolutePosition;e.translatePoint(t.chartX-i.x,0,1),e.redraw(!1)}}}]}}),u.types.timeCycles=C,C}),L(a,"Extensions/Annotations/Types/Fibonacci.js",[a["Extensions/Annotations/Annotations.js"],a["Extensions/Annotations/MockPoint.js"],a["Extensions/Annotations/Types/Tunnel.js"],a["Core/Utilities.js"]],function(u,f,w,C){var O=this&&this.__extends||function(){var s=function(o,t){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var n in i)i.hasOwnProperty(n)&&(e[n]=i[n])},s(o,t)};return function(o,t){function e(){this.constructor=o}s(o,t),o.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),S=C.merge,h=function(s,o){return function(){var t=this.annotation;if(!t.startRetracements||!t.endRetracements)return[];var e=this.anchor(t.startRetracements[s]).absolutePosition,i=this.anchor(t.endRetracements[s]).absolutePosition;return e=[["M",Math.round(e.x),Math.round(e.y)],["L",Math.round(i.x),Math.round(i.y)]],o&&(i=this.anchor(t.endRetracements[s-1]).absolutePosition,t=this.anchor(t.startRetracements[s-1]).absolutePosition,e.push(["L",Math.round(i.x),Math.round(i.y)],["L",Math.round(t.x),Math.round(t.y)])),e}};return C=function(s){function o(t,e){return s.call(this,t,e)||this}return O(o,s),o.prototype.linkPoints=function(){s.prototype.linkPoints.call(this),this.linkRetracementsPoints()},o.prototype.linkRetracementsPoints=function(){var t=this.points,e=t[0].y-t[3].y,i=t[1].y-t[2].y,n=t[0].x,l=t[1].x;o.levels.forEach(function(p,r){var c=t[0].y-e*p;p=t[1].y-i*p,this.startRetracements=this.startRetracements||[],this.endRetracements=this.endRetracements||[],this.linkRetracementPoint(r,n,c,this.startRetracements),this.linkRetracementPoint(r,l,p,this.endRetracements)},this)},o.prototype.linkRetracementPoint=function(t,e,i,n){var l=n[t],p=this.options.typeOptions;l?(l.options.x=e,l.options.y=i,l.refresh()):n[t]=new f(this.chart,this,{x:e,y:i,xAxis:p.xAxis,yAxis:p.yAxis})},o.prototype.addShapes=function(){o.levels.forEach(function(t,e){var i=this.options.typeOptions;t=i.backgroundColors;var n=i.lineColor;i=i.lineColors,this.initShape({type:"path",d:h(e),stroke:i[e]||n},e),0<e&&this.initShape({type:"path",fill:t[e-1],strokeWidth:0,d:h(e,!0)})},this)},o.prototype.addLabels=function(){o.levels.forEach(function(t,e){var i=this.options.typeOptions;t=this.initLabel(S(i.labels[e],{point:function(n){return f.pointToOptions(n.annotation.startRetracements[e])},text:t.toString()})),i.labels[e]=t.options},this)},o.levels=[0,.236,.382,.5,.618,.786,1],o}(w),C.prototype.defaultOptions=S(w.prototype.defaultOptions,{typeOptions:{height:2,backgroundColors:"rgba(130, 170, 255, 0.4);rgba(139, 191, 216, 0.4);rgba(150, 216, 192, 0.4);rgba(156, 229, 161, 0.4);rgba(162, 241, 130, 0.4);rgba(169, 255, 101, 0.4)".split(";"),lineColor:"#999999",lineColors:[],labels:[]},labelOptions:{allowOverlap:!0,align:"right",backgroundColor:"none",borderWidth:0,crop:!1,overflow:"none",shape:"rect",style:{color:"grey"},verticalAlign:"middle",y:0}}),u.types.fibonacci=C}),L(a,"Extensions/Annotations/Types/FibonacciTimeZones.js",[a["Extensions/Annotations/Annotations.js"],a["Extensions/Annotations/ControlPoint.js"],a["Extensions/Annotations/Types/CrookedLine.js"],a["Extensions/Annotations/Types/InfinityLine.js"],a["Extensions/Annotations/MockPoint.js"],a["Core/Utilities.js"]],function(u,f,w,C,O,S){var h=this&&this.__extends||function(){var o=function(t,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var l in n)n.hasOwnProperty(l)&&(i[l]=n[l])},o(t,e)};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=e===null?Object.create(e):(i.prototype=e.prototype,new i)}}(),s=S.merge;return S=function(o){function t(){return o!==null&&o.apply(this,arguments)||this}return h(t,o),t.prototype.edgePoint=function(e,i,n){return function(l){var p=l.annotation.chart;l=l.annotation.points;var r=l[0].series.xAxis.toValue(l[0].plotX+(p.inverted?p.plotTop:p.plotLeft)+n*(1<l.length?l[1].plotX-l[0].plotX:0));return l=[new O(p,l[0].target,{x:r,y:0,xAxis:l[0].options.xAxis,yAxis:l[0].options.yAxis}),new O(p,l[0].target,{x:r,y:1,xAxis:l[0].options.xAxis,yAxis:l[0].options.yAxis})],C.findEdgePoint(l[e],l[i])}},t.prototype.addShapes=function(){for(var e=1,i=1,n=0;11>n;n++){var l=n?e:0;l=[this.edgePoint(1,0,l),this.edgePoint(0,1,l)],i=e+i,e=i-e,n===1&&(this.secondLineEdgePoints=[l[0],l[1]]),this.initShape(s(this.options.typeOptions.line,{type:"path",points:l}),n)}},t.prototype.addControlPoints=function(){var e=this.options,i=e.typeOptions;e=new f(this.chart,this,s(e.controlPointOptions,i.controlPointOptions),0),this.controlPoints.push(e),i.controlPointOptions=e.options},t}(w),S.prototype.defaultOptions=s(w.prototype.defaultOptions,{typeOptions:{line:{stroke:"rgba(0, 0, 0, 0.75)",strokeWidth:1,fill:void 0},controlPointOptions:{positioner:function(){var o=this.target,t=this.graphic,e=o.secondLineEdgePoints,i={annotation:o},n=e[0](i).y,l=e[1](i).y;o=this.chart.plotLeft;var p=this.chart.plotTop;return e=e[0](i).x,n=(n+l)/2,this.chart.inverted&&(n=[n,e],e=n[0],n=n[1]),{x:o+e-t.width/2,y:p+n-t.height/2}},events:{drag:function(o,t){t.chart.isInsidePlot(o.chartX-t.chart.plotLeft,o.chartY-t.chart.plotTop,{visiblePlotOnly:!0})&&(o=this.mouseMoveToTranslation(o),t.translatePoint(o.x,0,1),t.redraw(!1))}}}}}),u.types.fibonacciTimeZones=S,S}),L(a,"Extensions/Annotations/Types/Pitchfork.js",[a["Extensions/Annotations/Annotations.js"],a["Extensions/Annotations/Types/InfinityLine.js"],a["Extensions/Annotations/MockPoint.js"],a["Core/Utilities.js"]],function(u,f,w,C){var O=this&&this.__extends||function(){var h=function(s,o){return h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},h(s,o)};return function(s,o){function t(){this.constructor=s}h(s,o),s.prototype=o===null?Object.create(o):(t.prototype=o.prototype,new t)}}(),S=C.merge;return C=function(h){function s(o,t){return h.call(this,o,t)||this}return O(s,h),s.outerLineEdgePoint=function(o){return function(t){var e=t.annotation,i=e.points;return s.findEdgePoint(i[o],i[0],new w(e.chart,t,e.midPointOptions()))}},s.findEdgePoint=function(o,t,e){return t=Math.atan2(e.plotY-t.plotY,e.plotX-t.plotX),{x:o.plotX+1e7*Math.cos(t),y:o.plotY+1e7*Math.sin(t)}},s.middleLineEdgePoint=function(o){var t=o.annotation;return f.findEdgePoint(t.points[0],new w(t.chart,o,t.midPointOptions()))},s.prototype.midPointOptions=function(){var o=this.points;return{x:(o[1].x+o[2].x)/2,y:(o[1].y+o[2].y)/2,xAxis:o[0].series.xAxis,yAxis:o[0].series.yAxis}},s.prototype.addShapes=function(){this.addLines(),this.addBackgrounds()},s.prototype.addLines=function(){this.initShape({type:"path",points:[this.points[0],s.middleLineEdgePoint]},0),this.initShape({type:"path",points:[this.points[1],s.topLineEdgePoint]},1),this.initShape({type:"path",points:[this.points[2],s.bottomLineEdgePoint]},2)},s.prototype.addBackgrounds=function(){var o=this.shapes,t=this.options.typeOptions,e=this.initShape(S(t.innerBackground,{type:"path",points:[function(i){var n=i.annotation;return i=n.points,n=n.midPointOptions(),{x:(i[1].x+n.x)/2,y:(i[1].y+n.y)/2,xAxis:n.xAxis,yAxis:n.yAxis}},o[1].points[1],o[2].points[1],function(i){var n=i.annotation;return i=n.points,n=n.midPointOptions(),{x:(n.x+i[2].x)/2,y:(n.y+i[2].y)/2,xAxis:n.xAxis,yAxis:n.yAxis}}]}),3);o=this.initShape(S(t.outerBackground,{type:"path",points:[this.points[1],o[1].points[1],o[2].points[1],this.points[2]]}),4),t.innerBackground=e.options,t.outerBackground=o.options},s.topLineEdgePoint=s.outerLineEdgePoint(1),s.bottomLineEdgePoint=s.outerLineEdgePoint(0),s}(f),C.prototype.defaultOptions=S(f.prototype.defaultOptions,{typeOptions:{innerBackground:{fill:"rgba(130, 170, 255, 0.4)",strokeWidth:0},outerBackground:{fill:"rgba(156, 229, 161, 0.4)",strokeWidth:0}}}),u.types.pitchfork=C}),L(a,"Extensions/Annotations/Types/VerticalLine.js",[a["Extensions/Annotations/Annotations.js"],a["Extensions/Annotations/MockPoint.js"],a["Core/Utilities.js"]],function(u,f,w){var C=this&&this.__extends||function(){var h=function(s,o){return h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},h(s,o)};return function(s,o){function t(){this.constructor=s}h(s,o),s.prototype=o===null?Object.create(o):(t.prototype=o.prototype,new t)}}(),O=w.merge,S=w.pick;return w=function(h){function s(o,t){return h.call(this,o,t)||this}return C(s,h),s.connectorFirstPoint=function(o){var t=o.annotation;o=t.chart;var e=o.inverted,i=t.points[0],n=S(i.series.yAxis&&i.series.yAxis.left,0),l=S(i.series.yAxis&&i.series.yAxis.top,0);t=t.options.typeOptions.label.offset;var p=f.pointToPixels(i,!0)[e?"x":"y"];return{x:i.x,xAxis:i.series.xAxis,y:p+t+(e?n-o.plotLeft:l-o.plotTop)}},s.connectorSecondPoint=function(o){var t=o.annotation;o=t.chart;var e=o.inverted,i=t.options.typeOptions;t=t.points[0];var n=S(t.series.yAxis&&t.series.yAxis.left,0),l=S(t.series.yAxis&&t.series.yAxis.top,0),p=i.yOffset,r=f.pointToPixels(t,!0)[e?"x":"y"];return 0>i.label.offset&&(p*=-1),{x:t.x,xAxis:t.series.xAxis,y:r+p+(e?n-o.plotLeft:l-o.plotTop)}},s.prototype.getPointsOptions=function(){return[this.options.typeOptions.point]},s.prototype.addShapes=function(){var o=this.options.typeOptions,t=this.initShape(O(o.connector,{type:"path",points:[s.connectorFirstPoint,s.connectorSecondPoint]}),0);o.connector=t.options},s.prototype.addLabels=function(){var o=this.options.typeOptions,t=o.label,e=0,i=t.offset,n=0>t.offset?"bottom":"top",l="center";this.chart.inverted&&(e=t.offset,i=0,n="middle",l=0>t.offset?"right":"left"),t=this.initLabel(O(t,{verticalAlign:n,align:l,x:e,y:i})),o.label=t.options},s}(u),w.prototype.defaultOptions=O(u.prototype.defaultOptions,{typeOptions:{yOffset:10,label:{offset:-40,point:function(h){return h.annotation.points[0]},allowOverlap:!0,backgroundColor:"none",borderWidth:0,crop:!0,overflow:"none",shape:"rect",text:"{y:.2f}"},connector:{strokeWidth:1,markerEnd:"arrow"}}}),u.types.verticalLine=w}),L(a,"Extensions/Annotations/Types/Measure.js",[a["Extensions/Annotations/Annotations.js"],a["Extensions/Annotations/ControlPoint.js"],a["Core/Utilities.js"]],function(u,f,w){var C=this&&this.__extends||function(){var e=function(i,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,p){l.__proto__=p}||function(l,p){for(var r in p)p.hasOwnProperty(r)&&(l[r]=p[r])},e(i,n)};return function(i,n){function l(){this.constructor=i}e(i,n),i.prototype=n===null?Object.create(n):(l.prototype=n.prototype,new l)}}(),O=w.defined,S=w.extend,h=w.isNumber,s=w.merge,o=w.pick,t=function(e){function i(n,l){return e.call(this,n,l)||this}return C(i,e),i.prototype.init=function(n,l,p){u.prototype.init.call(this,n,l,p),this.resizeY=this.resizeX=this.offsetY=this.offsetX=0,i.calculations.init.call(this),this.addValues(),this.addShapes()},i.prototype.setClipAxes=function(){this.clipXAxis=this.chart.xAxis[this.options.typeOptions.xAxis],this.clipYAxis=this.chart.yAxis[this.options.typeOptions.yAxis]},i.prototype.pointsOptions=function(){return this.options.points},i.prototype.shapePointsOptions=function(){var n=this.options.typeOptions,l=n.xAxis;return n=n.yAxis,[{x:this.xAxisMin,y:this.yAxisMin,xAxis:l,yAxis:n},{x:this.xAxisMax,y:this.yAxisMin,xAxis:l,yAxis:n},{x:this.xAxisMax,y:this.yAxisMax,xAxis:l,yAxis:n},{x:this.xAxisMin,y:this.yAxisMax,xAxis:l,yAxis:n}]},i.prototype.addControlPoints=function(){var n=this.chart.inverted,l=this.options.controlPointOptions,p=this.options.typeOptions.selectType;O(this.userOptions.controlPointOptions&&this.userOptions.controlPointOptions.style.cursor)||(p==="x"?l.style.cursor=n?"ns-resize":"ew-resize":p==="y"&&(l.style.cursor=n?"ew-resize":"ns-resize")),n=new f(this.chart,this,this.options.controlPointOptions,0),this.controlPoints.push(n),p!=="xy"&&(n=new f(this.chart,this,this.options.controlPointOptions,1),this.controlPoints.push(n))},i.prototype.addValues=function(n){var l=this.options.typeOptions,p=l.label.formatter;i.calculations.recalculate.call(this,n),l.label.enabled&&(0<this.labels.length?this.labels[0].text=p&&p.call(this)||i.calculations.defaultFormatter.call(this):this.initLabel(S({shape:"rect",backgroundColor:"none",color:"black",borderWidth:0,dashStyle:"Dash",overflow:"allow",align:"left",y:0,x:0,verticalAlign:"top",crop:!0,xAxis:0,yAxis:0,point:function(r){var c=r.annotation;return r=r.options,{x:c.xAxisMin,y:c.yAxisMin,xAxis:o(l.xAxis,r.xAxis),yAxis:o(l.yAxis,r.yAxis)}},text:p&&p.call(this)||i.calculations.defaultFormatter.call(this)},l.label),void 0))},i.prototype.addShapes=function(){this.addCrosshairs(),this.addBackground()},i.prototype.addBackground=function(){typeof this.shapePointsOptions()[0].x!="undefined"&&this.initShape(S({type:"path",points:this.shapePointsOptions()},this.options.typeOptions.background),2)},i.prototype.addCrosshairs=function(){var n=this.chart,l=this.options.typeOptions,p=this.options.typeOptions.point,r=n.xAxis[l.xAxis],c=n.yAxis[l.yAxis],A=n.inverted;n=r.toPixels(this.xAxisMin),r=r.toPixels(this.xAxisMax);var v=c.toPixels(this.yAxisMin),g=c.toPixels(this.yAxisMax),P={point:p,type:"path"};p=[],c=[],A&&(A=n,n=v,v=A,A=r,r=g,g=A),l.crosshairX.enabled&&(p=[["M",n,v+(g-v)/2],["L",r,v+(g-v)/2]]),l.crosshairY.enabled&&(c=[["M",n+(r-n)/2,v],["L",n+(r-n)/2,g]]),0<this.shapes.length?(this.shapes[0].options.d=p,this.shapes[1].options.d=c):(n=s(P,l.crosshairX),l=s(P,l.crosshairY),this.initShape(S({d:p},n),0),this.initShape(S({d:c},l),1))},i.prototype.onDrag=function(n){var l=this.mouseMoveToTranslation(n),p=this.options.typeOptions.selectType;n=p==="y"?0:l.x,l=p==="x"?0:l.y,this.translate(n,l),this.offsetX+=n,this.offsetY+=l,this.redraw(!1,!1,!0)},i.prototype.resize=function(n,l,p,r){var c=this.shapes[2];r==="x"?p===0?(c.translatePoint(n,0,0),c.translatePoint(n,l,3)):(c.translatePoint(n,0,1),c.translatePoint(n,l,2)):r==="y"?p===0?(c.translatePoint(0,l,0),c.translatePoint(0,l,1)):(c.translatePoint(0,l,2),c.translatePoint(0,l,3)):(c.translatePoint(n,0,1),c.translatePoint(n,l,2),c.translatePoint(0,l,3)),i.calculations.updateStartPoints.call(this,!1,!0,p,n,l),this.options.typeOptions.background.height=Math.abs(this.startYMax-this.startYMin),this.options.typeOptions.background.width=Math.abs(this.startXMax-this.startXMin)},i.prototype.redraw=function(n,l,p){this.linkPoints(),this.graphic||this.render(),p&&i.calculations.updateStartPoints.call(this,!0,!1),this.clipRect&&this.clipRect.animate(this.getClipBox()),this.addValues(l),this.addCrosshairs(),this.redrawItems(this.shapes,n),this.redrawItems(this.labels,n),this.controlPoints.forEach(function(r){r.redraw()})},i.prototype.translate=function(n,l){this.shapes.forEach(function(p){p.translate(n,l)}),this.options.typeOptions.point.x=this.startXMin,this.options.typeOptions.point.y=this.startYMin},i.calculations={init:function(){var n=this.options.typeOptions,l=this.chart,p=i.calculations.getPointPos,r=l.inverted,c=l.xAxis[n.xAxis];l=l.yAxis[n.yAxis];var A=n.background,v=r?A.height:A.width;A=r?A.width:A.height;var g=n.selectType,P=r?c.left:l.top;r=r?l.top:c.left,this.startXMin=n.point.x,this.startYMin=n.point.y,h(v)?this.startXMax=this.startXMin+v:this.startXMax=p(c,this.startXMin,parseFloat(v)),h(A)?this.startYMax=this.startYMin-A:this.startYMax=p(l,this.startYMin,parseFloat(A)),g==="x"?(this.startYMin=l.toValue(P),this.startYMax=l.toValue(P+l.len)):g==="y"&&(this.startXMin=c.toValue(r),this.startXMax=c.toValue(r+c.len))},recalculate:function(n){var l=i.calculations,p=this.options.typeOptions,r=this.chart.xAxis[p.xAxis];p=this.chart.yAxis[p.yAxis];var c=i.calculations.getPointPos,A=this.offsetX,v=this.offsetY;this.xAxisMin=c(r,this.startXMin,A),this.xAxisMax=c(r,this.startXMax,A),this.yAxisMin=c(p,this.startYMin,v),this.yAxisMax=c(p,this.startYMax,v),this.min=l.min.call(this),this.max=l.max.call(this),this.average=l.average.call(this),this.bins=l.bins.call(this),n&&this.resize(0,0)},getPointPos:function(n,l,p){return n.toValue(n.toPixels(l)+p)},updateStartPoints:function(n,l,p,r,c){var A=this.options.typeOptions,v=A.selectType,g=this.chart.xAxis[A.xAxis];A=this.chart.yAxis[A.yAxis];var P=i.calculations.getPointPos,x=this.startXMin,k=this.startXMax,m=this.startYMin,_=this.startYMax,M=this.offsetX,D=this.offsetY;l&&(v==="x"?p===0?this.startXMin=P(g,x,r):this.startXMax=P(g,k,r):v==="y"?p===0?this.startYMin=P(A,m,c):this.startYMax=P(A,_,c):(this.startXMax=P(g,k,r),this.startYMax=P(A,_,c))),n&&(this.startXMin=P(g,x,M),this.startXMax=P(g,k,M),this.startYMin=P(A,m,D),this.startYMax=P(A,_,D),this.offsetY=this.offsetX=0)},defaultFormatter:function(){return"Min: "+this.min+"<br>Max: "+this.max+"<br>Average: "+this.average+"<br>Bins: "+this.bins},getExtremes:function(n,l,p,r){return{xAxisMin:Math.min(l,n),xAxisMax:Math.max(l,n),yAxisMin:Math.min(r,p),yAxisMax:Math.max(r,p)}},min:function(){var n=1/0,l=this.chart.series,p=i.calculations.getExtremes(this.xAxisMin,this.xAxisMax,this.yAxisMin,this.yAxisMax),r=!1;return l.forEach(function(c){c.visible&&c.options.id!=="highcharts-navigator-series"&&c.points.forEach(function(A){!A.isNull&&A.y<n&&A.x>p.xAxisMin&&A.x<=p.xAxisMax&&A.y>p.yAxisMin&&A.y<=p.yAxisMax&&(n=A.y,r=!0)})}),r||(n=""),n},max:function(){var n=-1/0,l=this.chart.series,p=i.calculations.getExtremes(this.xAxisMin,this.xAxisMax,this.yAxisMin,this.yAxisMax),r=!1;return l.forEach(function(c){c.visible&&c.options.id!=="highcharts-navigator-series"&&c.points.forEach(function(A){!A.isNull&&A.y>n&&A.x>p.xAxisMin&&A.x<=p.xAxisMax&&A.y>p.yAxisMin&&A.y<=p.yAxisMax&&(n=A.y,r=!0)})}),r||(n=""),n},average:function(){var n="";return this.max!==""&&this.min!==""&&(n=(this.max+this.min)/2),n},bins:function(){var n=0,l=this.chart.series,p=i.calculations.getExtremes(this.xAxisMin,this.xAxisMax,this.yAxisMin,this.yAxisMax),r=!1;return l.forEach(function(c){c.visible&&c.options.id!=="highcharts-navigator-series"&&c.points.forEach(function(A){!A.isNull&&A.x>p.xAxisMin&&A.x<=p.xAxisMax&&A.y>p.yAxisMin&&A.y<=p.yAxisMax&&(n++,r=!0)})}),r||(n=""),n}},i}(u);return t.prototype.defaultOptions=s(u.prototype.defaultOptions,{typeOptions:{selectType:"xy",xAxis:0,yAxis:0,background:{fill:"rgba(130, 170, 255, 0.4)",strokeWidth:0,stroke:void 0},crosshairX:{enabled:!0,zIndex:6,dashStyle:"Dash",markerEnd:"arrow"},crosshairY:{enabled:!0,zIndex:6,dashStyle:"Dash",markerEnd:"arrow"},label:{enabled:!0,style:{fontSize:"11px",color:"#666666"},formatter:void 0}},controlPointOptions:{positioner:function(e){var i=this.index,n=e.chart,l=e.options,p=l.typeOptions,r=p.selectType;l=l.controlPointOptions;var c=n.inverted,A=n.xAxis[p.xAxis];n=n.yAxis[p.yAxis],p=e.xAxisMax;var v=e.yAxisMax,g=t.calculations.getExtremes(e.xAxisMin,e.xAxisMax,e.yAxisMin,e.yAxisMax);return r==="x"&&(v=(g.yAxisMax-g.yAxisMin)/2,i===0&&(p=e.xAxisMin)),r==="y"&&(p=g.xAxisMin+(g.xAxisMax-g.xAxisMin)/2,i===0&&(v=e.yAxisMin)),c?(e=n.toPixels(v),i=A.toPixels(p)):(e=A.toPixels(p),i=n.toPixels(v)),{x:e-l.width/2,y:i-l.height/2}},events:{drag:function(e,i){var n=this.mouseMoveToTranslation(e);e=i.options.typeOptions.selectType;var l=e==="y"?0:n.x;n=e==="x"?0:n.y,i.resize(l,n,this.index,e),i.resizeX+=l,i.resizeY+=n,i.redraw(!1,!0)}}}}),u.types.measure=t}),L(a,"Core/Chart/ChartNavigationComposition.js",[],function(){var u;return function(f){f.compose=function(C){return C.navigation||(C.navigation=new w(C)),C};var w=function(){function C(O){this.updates=[],this.chart=O}return C.prototype.addUpdate=function(O){this.chart.navigation.updates.push(O)},C.prototype.update=function(O,S){var h=this;this.updates.forEach(function(s){s.call(h.chart,O,S)})},C}();f.Additions=w}(u||(u={})),u}),L(a,"Extensions/Annotations/NavigationBindings.js",[a["Extensions/Annotations/Annotations.js"],a["Core/Chart/Chart.js"],a["Core/Chart/ChartNavigationComposition.js"],a["Core/FormatUtilities.js"],a["Core/Globals.js"],a["Core/DefaultOptions.js"],a["Core/Utilities.js"]],function(u,f,w,C,O,S,h){function s(m,_){var M=x.Element.prototype,D=M.matches||M.msMatchesSelector||M.webkitMatchesSelector,E=null;if(M.closest)E=M.closest.call(m,_);else do{if(D.call(m,_))return m;m=m.parentElement||m.parentNode}while(m!==null&&m.nodeType===1);return E}function o(m){var _=m.prototype.defaultOptions.events&&m.prototype.defaultOptions.events.click;A(!0,m.prototype.defaultOptions.events,{click:function(M){var D=this,E=D.chart.navigationBindings,b=E.activeAnnotation;_&&_.call(D,M),b!==D?(E.deselectAnnotation(),E.activeAnnotation=D,D.setControlPointsVisibility(!0),n(E,"showPopup",{annotation:D,formType:"annotation-toolbar",options:E.annotationToFields(D),onSubmit:function(T){var B={};T.actionType==="remove"?(E.activeAnnotation=!1,E.chart.removeAnnotation(D)):(E.fieldsToOptions(T.fields,B),E.deselectAnnotation(),T=B.typeOptions,D.options.type==="measure"&&(T.crosshairY.enabled=T.crosshairY.strokeWidth!==0,T.crosshairX.enabled=T.crosshairX.strokeWidth!==0),D.update(B))}})):n(E,"closePopup"),M.activeAnnotation=!0}})}var t=C.format;C=S.setOptions;var e=h.addEvent,i=h.attr,n=h.fireEvent,l=h.isArray,p=h.isFunction,r=h.isNumber,c=h.isObject,A=h.merge,v=h.objectEach,g=h.pick,P=O.doc,x=O.win,k=function(){function m(_,M){this.selectedButton=this.boundClassNames=void 0,this.chart=_,this.options=M,this.eventsToUnbind=[],this.container=P.getElementsByClassName(this.options.bindingsClassName||"")}return m.prototype.initEvents=function(){var _=this,M=_.chart,D=_.container,E=_.options;_.boundClassNames={},v(E.bindings||{},function(b){_.boundClassNames[b.className]=b}),[].forEach.call(D,function(b){_.eventsToUnbind.push(e(b,"click",function(T){var B=_.getButtonEvents(b,T);B&&B.button.className.indexOf("highcharts-disabled-btn")===-1&&_.bindingsButtonClick(B.button,B.events,T)}))}),v(E.events||{},function(b,T){p(b)&&_.eventsToUnbind.push(e(_,T,b,{passive:!1}))}),_.eventsToUnbind.push(e(M.container,"click",function(b){!M.cancelClick&&M.isInsidePlot(b.chartX-M.plotLeft,b.chartY-M.plotTop,{visiblePlotOnly:!0})&&_.bindingsChartClick(this,b)})),_.eventsToUnbind.push(e(M.container,O.isTouchDevice?"touchmove":"mousemove",function(b){_.bindingsContainerMouseMove(this,b)},O.isTouchDevice?{passive:!1}:void 0))},m.prototype.initUpdate=function(){var _=this;w.compose(this.chart).navigation.addUpdate(function(M){_.update(M)})},m.prototype.bindingsButtonClick=function(_,M,D){var E=this.chart,b=E.renderer.boxWrapper,T=!0;this.selectedButtonElement&&(this.selectedButtonElement.classList===_.classList&&(T=!1),n(this,"deselectButton",{button:this.selectedButtonElement}),this.nextEvent&&(this.currentUserDetails&&this.currentUserDetails.coll==="annotations"&&E.removeAnnotation(this.currentUserDetails),this.mouseMoveEvent=this.nextEvent=!1)),T?(this.selectedButton=M,this.selectedButtonElement=_,n(this,"selectButton",{button:_}),M.init&&M.init.call(this,_,D),(M.start||M.steps)&&E.renderer.boxWrapper.addClass("highcharts-draw-mode")):(E.stockTools&&E.stockTools.toggleButtonAciveClass(_),b.removeClass("highcharts-draw-mode"),this.mouseMoveEvent=this.nextEvent=!1,this.selectedButton=null)},m.prototype.bindingsChartClick=function(_,M){_=this.chart;var D=this.activeAnnotation,E=this.selectedButton;_=_.renderer.boxWrapper,D&&(D.cancelClick||M.activeAnnotation||!M.target.parentNode||s(M.target,".highcharts-popup")?D.cancelClick&&setTimeout(function(){D.cancelClick=!1},0):n(this,"closePopup")),E&&E.start&&(this.nextEvent?(this.nextEvent(M,this.currentUserDetails),this.steps&&(this.stepIndex++,E.steps[this.stepIndex]?this.mouseMoveEvent=this.nextEvent=E.steps[this.stepIndex]:(n(this,"deselectButton",{button:this.selectedButtonElement}),_.removeClass("highcharts-draw-mode"),E.end&&E.end.call(this,M,this.currentUserDetails),this.mouseMoveEvent=this.nextEvent=!1,this.selectedButton=null))):(this.currentUserDetails=E.start.call(this,M))&&E.steps?(this.stepIndex=0,this.steps=!0,this.mouseMoveEvent=this.nextEvent=E.steps[this.stepIndex]):(n(this,"deselectButton",{button:this.selectedButtonElement}),_.removeClass("highcharts-draw-mode"),this.steps=!1,this.selectedButton=null,E.end&&E.end.call(this,M,this.currentUserDetails)))},m.prototype.bindingsContainerMouseMove=function(_,M){this.mouseMoveEvent&&this.mouseMoveEvent(M,this.currentUserDetails)},m.prototype.fieldsToOptions=function(_,M){return v(_,function(D,E){var b=parseFloat(D),T=E.split("."),B=M,I=T.length-1;!r(b)||D.match(/px/g)||E.match(/format/g)||(D=b),D!==""&&D!=="undefined"&&T.forEach(function(N,V){var j=g(T[V+1],"");I===V?B[N]=D:(B[N]||(B[N]=j.match(/\d/g)?[]:{}),B=B[N])})}),M},m.prototype.deselectAnnotation=function(){this.activeAnnotation&&(this.activeAnnotation.setControlPointsVisibility(!1),this.activeAnnotation=!1)},m.prototype.annotationToFields=function(_){function M(V,j,R,F){if(R&&V&&I.indexOf(j)===-1&&(0<=(R.indexOf&&R.indexOf(j))||R[j]||R===!0))if(l(V))F[j]=[],V.forEach(function(z,W){c(z)?(F[j][W]={},v(z,function($,H){M($,H,b[j],F[j][W])})):M(z,0,b[j],F[j])});else if(c(V)){var Y={};l(F)?(F.push(Y),Y[j]={},Y=Y[j]):F[j]=Y,v(V,function(z,W){M(z,W,j===0?R:b[j],Y)})}else j==="format"?F[j]=[t(V,_.labels[0].points[0]).toString(),"text"]:l(F)?F.push([V,T(V)]):F[j]=[V,T(V)]}var D=_.options,E=m.annotationsEditable,b=E.nestedOptions,T=this.utils.getFieldType,B=g(D.type,D.shapes&&D.shapes[0]&&D.shapes[0].type,D.labels&&D.labels[0]&&D.labels[0].itemType,"label"),I=m.annotationsNonEditable[D.langKey]||[],N={langKey:D.langKey,type:B};return v(D,function(V,j){j==="typeOptions"?(N[j]={},v(D[j],function(R,F){M(R,F,b,N[j])})):M(V,j,E[B],N)}),N},m.prototype.getClickedClassNames=function(_,M){var D=M.target;M=[];for(var E;D&&((E=i(D,"class"))&&(M=M.concat(E.split(" ").map(function(b){return[b,D]}))),D=D.parentNode,D!==_););return M},m.prototype.getButtonEvents=function(_,M){var D=this,E;return this.getClickedClassNames(_,M).forEach(function(b){D.boundClassNames[b[0]]&&!E&&(E={events:D.boundClassNames[b[0]],button:b[1]})}),E},m.prototype.update=function(_){this.options=A(!0,this.options,_),this.removeEvents(),this.initEvents()},m.prototype.removeEvents=function(){this.eventsToUnbind.forEach(function(_){_()})},m.prototype.destroy=function(){this.removeEvents()},m.annotationsEditable={nestedOptions:{labelOptions:["style","format","backgroundColor"],labels:["style"],label:["style"],style:["fontSize","color"],background:["fill","strokeWidth","stroke"],innerBackground:["fill","strokeWidth","stroke"],outerBackground:["fill","strokeWidth","stroke"],shapeOptions:["fill","strokeWidth","stroke"],shapes:["fill","strokeWidth","stroke"],line:["strokeWidth","stroke"],backgroundColors:[!0],connector:["fill","strokeWidth","stroke"],crosshairX:["strokeWidth","stroke"],crosshairY:["strokeWidth","stroke"]},circle:["shapes"],ellipse:["shapes"],verticalLine:[],label:["labelOptions"],measure:["background","crosshairY","crosshairX"],fibonacci:[],tunnel:["background","line","height"],pitchfork:["innerBackground","outerBackground"],rect:["shapes"],crookedLine:[],basicAnnotation:["shapes","labelOptions"]},m.annotationsNonEditable={rectangle:["crosshairX","crosshairY","labelOptions"],ellipse:["labelOptions"],circle:["labelOptions"]},m}();return k.prototype.utils={getFieldType:function(m){return{string:"text",number:"number",boolean:"checkbox"}[typeof m]},updateRectSize:function(m,_){var M=_.chart,D=_.options.typeOptions,E=r(D.xAxis)&&M.xAxis[D.xAxis],b=r(D.yAxis)&&M.yAxis[D.yAxis];E&&b&&(E=E.toValue(m[E.horiz?"chartX":"chartY"]),m=b.toValue(m[b.horiz?"chartX":"chartY"]),b=E-D.point.x,D=D.point.y-m,_.update({typeOptions:{background:{width:M.inverted?D:b,height:M.inverted?b:D}}}))},getAssignedAxis:function(m){return m.filter(function(_){var M=_.axis.getExtremes(),D=M.min;M=M.max;var E=g(_.axis.minPointOffset,0);return r(D)&&r(M)&&_.value>=D-E&&_.value<=M+E&&!_.axis.options.isInternal})[0]}},f.prototype.initNavigationBindings=function(){var m=this.options;m&&m.navigation&&m.navigation.bindings&&(this.navigationBindings=new k(this,m.navigation),this.navigationBindings.initEvents(),this.navigationBindings.initUpdate())},e(f,"load",function(){this.initNavigationBindings()}),e(f,"destroy",function(){this.navigationBindings&&this.navigationBindings.destroy()}),e(k,"deselectButton",function(){this.selectedButtonElement=null}),e(u,"remove",function(){this.chart.navigationBindings&&this.chart.navigationBindings.deselectAnnotation()}),O.Annotation&&(o(u),v(u.types,function(m){o(m)})),C({lang:{navigation:{popup:{simpleShapes:"Simple shapes",lines:"Lines",circle:"Circle",ellipse:"Ellipse",rectangle:"Rectangle",label:"Label",shapeOptions:"Shape options",typeOptions:"Details",fill:"Fill",format:"Text",strokeWidth:"Line width",stroke:"Line color",title:"Title",name:"Name",labelOptions:"Label options",labels:"Labels",backgroundColor:"Background color",backgroundColors:"Background colors",borderColor:"Border color",borderRadius:"Border radius",borderWidth:"Border width",style:"Style",padding:"Padding",fontSize:"Font size",color:"Color",height:"Height",shapes:"Shape options"}}},navigation:{bindingsClassName:"highcharts-bindings-container",bindings:{circleAnnotation:{className:"highcharts-circle-annotation",start:function(m){var _=this.chart.pointer.getCoordinates(m);m=this.utils.getAssignedAxis(_.xAxis),_=this.utils.getAssignedAxis(_.yAxis);var M=this.chart.options.navigation;if(m&&_)return this.chart.addAnnotation(A({langKey:"circle",type:"basicAnnotation",shapes:[{type:"circle",point:{x:m.value,y:_.value,xAxis:m.axis.options.index,yAxis:_.axis.options.index},r:5}]},M.annotationsOptions,M.bindings.circleAnnotation.annotationsOptions))},steps:[function(m,_){var M=_.options.shapes[0].point;if(r(M.xAxis)&&r(M.yAxis)){var D=this.chart.inverted,E=this.chart.xAxis[M.xAxis].toPixels(M.x);M=this.chart.yAxis[M.yAxis].toPixels(M.y),D=Math.max(Math.sqrt(Math.pow(D?M-m.chartX:E-m.chartX,2)+Math.pow(D?E-m.chartY:M-m.chartY,2)),5)}_.update({shapes:[{r:D}]})}]},ellipseAnnotation:{className:"highcharts-ellipse-annotation",start:function(m){var _=this.chart.pointer.getCoordinates(m);m=this.utils.getAssignedAxis(_.xAxis),_=this.utils.getAssignedAxis(_.yAxis);var M=this.chart.options.navigation;if(m&&_)return this.chart.addAnnotation(A({langKey:"ellipse",type:"basicAnnotation",shapes:[{type:"ellipse",xAxis:m.axis.options.index,yAxis:_.axis.options.index,points:[{x:m.value,y:_.value},{x:m.value,y:_.value}],ry:1}]},M.annotationsOptions,M.bindings.ellipseAnnotation.annotationOptions))},steps:[function(m,_){_=_.shapes[0];var M=_.getAbsolutePosition(_.points[1]);_.translatePoint(m.chartX-M.x,m.chartY-M.y,1),_.redraw(!1)},function(m,_){_=_.shapes[0];var M=_.getAbsolutePosition(_.points[0]),D=_.getAbsolutePosition(_.points[1]);m=_.getDistanceFromLine(M,D,m.chartX,m.chartY),M=_.getYAxis(),m=Math.abs(M.toValue(0)-M.toValue(m)),_.setYRadius(m),_.redraw(!1)}]},rectangleAnnotation:{className:"highcharts-rectangle-annotation",start:function(m){m=this.chart.pointer.getCoordinates(m);var _=this.utils.getAssignedAxis(m.xAxis),M=this.utils.getAssignedAxis(m.yAxis);if(_&&M){m=_.value;var D=M.value;_=_.axis.options.index,M=M.axis.options.index;var E=this.chart.options.navigation;return this.chart.addAnnotation(A({langKey:"rectangle",type:"basicAnnotation",shapes:[{type:"path",points:[{xAxis:_,yAxis:M,x:m,y:D},{xAxis:_,yAxis:M,x:m,y:D},{xAxis:_,yAxis:M,x:m,y:D},{xAxis:_,yAxis:M,x:m,y:D},{command:"Z"}]}]},E.annotationsOptions,E.bindings.rectangleAnnotation.annotationsOptions))}},steps:[function(m,_){var M=_.options.shapes[0].points,D=this.chart.pointer.getCoordinates(m);m=this.utils.getAssignedAxis(D.xAxis),D=this.utils.getAssignedAxis(D.yAxis),m&&D&&(m=m.value,D=D.value,M[1].x=m,M[2].x=m,M[2].y=D,M[3].y=D,_.update({shapes:[{points:M}]}))}]},labelAnnotation:{className:"highcharts-label-annotation",start:function(m){var _=this.chart.pointer.getCoordinates(m);m=this.utils.getAssignedAxis(_.xAxis),_=this.utils.getAssignedAxis(_.yAxis);var M=this.chart.options.navigation;if(m&&_)return this.chart.addAnnotation(A({langKey:"label",type:"basicAnnotation",labelOptions:{format:"{y:.2f}"},labels:[{point:{xAxis:m.axis.options.index,yAxis:_.axis.options.index,x:m.value,y:_.value},overflow:"none",crop:!0}]},M.annotationsOptions,M.bindings.labelAnnotation.annotationsOptions))}}},events:{},annotationsOptions:{animation:{defer:0}}}}),e(f,"render",function(){var m=this,_=m.navigationBindings;if(m&&_){var M=!1;m.series.forEach(function(D){!D.options.isInternal&&D.visible&&(M=!0)}),v(_.boundClassNames,function(D,E){if(m.navigationBindings&&m.navigationBindings.container&&m.navigationBindings.container[0]&&(E=m.navigationBindings.container[0].querySelectorAll("."+E)))for(var b=0;b<E.length;b++){var T=E[b],B=T.className;D.noDataState==="normal"||M?B.indexOf("highcharts-disabled-btn")!==-1&&T.classList.remove("highcharts-disabled-btn"):B.indexOf("highcharts-disabled-btn")===-1&&(T.className+=" highcharts-disabled-btn")}})}}),e(k,"closePopup",function(){this.deselectAnnotation()}),k}),L(a,"Extensions/Annotations/Popup.js",[a["Core/Renderer/HTML/AST.js"],a["Core/Globals.js"],a["Extensions/Annotations/NavigationBindings.js"],a["Core/DefaultOptions.js"],a["Core/Pointer.js"],a["Core/Utilities.js"]],function(u,f,w,C,O,S){var h=f.doc,s=f.isFirefox,o=C.getOptions,t=S.addEvent,e=S.createElement,i=S.defined,n=S.fireEvent,l=S.isArray,p=S.isObject,r=S.objectEach,c=S.pick,A=S.stableSort;C=S.wrap;var v=/\d/g,g;(function(x){x[x["params.algorithm"]=0]="params.algorithm",x[x["params.average"]=1]="params.average"})(g||(g={}));var P={"algorithm-pivotpoints":["standard","fibonacci","camarilla"],"average-disparityindex":["sma","ema","dema","tema","wma"]};return C(O.prototype,"onContainerMouseDown",function(x,k){this.inClass(k.target,"highcharts-popup")||x.apply(this,Array.prototype.slice.call(arguments,1))}),f.Popup=function(x,k,m){this.init(x,k,m)},f.Popup.prototype={init:function(x,k,m){this.chart=m,this.container=e("div",{className:"highcharts-popup highcharts-no-tooltip"},void 0,x),t(this.container,"mousedown",function(){var _=m&&m.navigationBindings&&m.navigationBindings.activeAnnotation;if(_){_.cancelClick=!0;var M=t(f.doc,"click",function(){setTimeout(function(){_.cancelClick=!1},0),M()})}}),this.lang=this.getLangpack(),this.iconsURL=k,this.addCloseBtn()},addCloseBtn:function(){var x=this,k=this.iconsURL,m=e("div",{className:"highcharts-popup-close"},void 0,this.container);m.style["background-image"]="url("+(k.match(/png|svg|jpeg|jpg|gif/ig)?k:k+"close.svg")+")",["click","touchstart"].forEach(function(_){t(m,_,function(){x.chart?n(x.chart.navigationBindings,"closePopup"):x.closePopup()})})},addColsContainer:function(x){var k=e("div",{className:"highcharts-popup-lhs-col"},void 0,x);return x=e("div",{className:"highcharts-popup-rhs-col"},void 0,x),e("div",{className:"highcharts-popup-rhs-col-wrapper"},void 0,x),{lhsCol:k,rhsCol:x}},addInput:function(x,k,m,_){var M=x.split(".");M=M[M.length-1];var D=this.lang;return k="highcharts-"+k+"-"+c(_.htmlFor,M),k.match(v)||e("label",{htmlFor:k,className:_.labelClassName},void 0,m).appendChild(h.createTextNode(D[M]||M)),m=e("input",{name:k,value:_.value,type:_.type,className:"highcharts-popup-field"},void 0,m),m.setAttribute("highcharts-data-name",x),m},addButton:function(x,k,m,_,M){var D=this,E=this.closePopup,b=this.getFields,T=e("button",void 0,void 0,x);return T.appendChild(h.createTextNode(k)),M&&["click","touchstart"].forEach(function(B){t(T,B,function(){return E.call(D),M(b(_,m))})}),T},getFields:function(x,k){var m=Array.prototype.slice.call(x.querySelectorAll("input")),_=Array.prototype.slice.call(x.querySelectorAll("select")),M=x.querySelectorAll("#highcharts-select-series > option:checked")[0];x=x.querySelectorAll("#highcharts-select-volume > option:checked")[0];var D={actionType:k,linkedTo:M&&M.getAttribute("value")||"",fields:{}};return m.forEach(function(E){var b=E.getAttribute("highcharts-data-name");E.getAttribute("highcharts-data-series-id")?D.seriesId=E.value:b?D.fields[b]=E.value:D.type=E.value}),_.forEach(function(E){var b=E.id;b!=="highcharts-select-series"&&b!=="highcharts-select-volume"&&(b=b.split("highcharts-select-")[1],D.fields[b]=E.value)}),x&&(D.fields["params.volumeSeriesID"]=x.getAttribute("value")||""),D},showPopup:function(){var x=this.container,k=x.querySelectorAll(".highcharts-popup-close")[0];this.formType=void 0,x.innerHTML=u.emptyHTML,0<=x.className.indexOf("highcharts-annotation-toolbar")&&(x.classList.remove("highcharts-annotation-toolbar"),x.removeAttribute("style")),x.appendChild(k),x.style.display="block",x.style.height=""},closePopup:function(){c(this.popup&&this.popup.container,this.container).style.display="none"},showForm:function(x,k,m,_){k&&(this.popup=k.navigationBindings.popup,this.showPopup(),x==="indicators"&&this.indicators.addForm.call(this,k,m,_),x==="annotation-toolbar"&&this.annotations.addToolbar.call(this,k,m,_),x==="annotation-edit"&&this.annotations.addForm.call(this,k,m,_),x==="flag"&&this.annotations.addForm.call(this,k,m,_,!0),this.formType=x,this.container.style.height=this.container.offsetHeight+"px")},getLangpack:function(){return o().lang.navigation.popup},annotations:{addToolbar:function(x,k,m){var _=this,M=this.lang,D=this.popup.container,E=this.showForm;D.className.indexOf("highcharts-annotation-toolbar")===-1&&(D.className+=" highcharts-annotation-toolbar"),x&&(D.style.top=x.plotTop+10+"px"),e("span",void 0,void 0,D).appendChild(h.createTextNode(c(M[k.langKey]||k.langKey,k.shapes&&k.shapes[0].type)));var b=this.addButton(D,M.removeButton||"remove","remove",D,m);b.className+=" highcharts-annotation-remove-button",b.style["background-image"]="url("+this.iconsURL+"destroy.svg)",b=this.addButton(D,M.editButton||"edit","edit",D,function(){E.call(_,"annotation-edit",x,k,m)}),b.className+=" highcharts-annotation-edit-button",b.style["background-image"]="url("+this.iconsURL+"edit.svg)"},addForm:function(x,k,m,_){var M=this.popup.container,D=this.lang;if(x){var E=e("h2",{className:"highcharts-popup-main-title"},void 0,M);E.appendChild(h.createTextNode(D[k.langKey]||k.langKey||"")),E=e("div",{className:"highcharts-popup-lhs-col highcharts-popup-lhs-full"},void 0,M);var b=e("div",{className:"highcharts-popup-bottom-row"},void 0,M);this.annotations.addFormFields.call(this,E,x,"",k,[],!0),this.addButton(b,_?D.addButton||"add":D.saveButton||"save",_?"add":"save",M,m)}},addFormFields:function(x,k,m,_,M,D){var E=this,b=this.annotations.addFormFields,T=this.addInput,B=this.lang,I,N;k&&(r(_,function(V,j){I=m!==""?m+"."+j:j,p(V)&&(!l(V)||l(V)&&p(V[0])?(N=B[j]||j,N.match(v)||M.push([!0,N,x]),b.call(E,x,k,I,V,M,!1)):M.push([E,I,"annotation",x,V]))}),D&&(A(M,function(V){return V[1].match(/format/g)?-1:1}),s&&M.reverse(),M.forEach(function(V){V[0]===!0?e("span",{className:"highcharts-annotation-title"},void 0,V[2]).appendChild(h.createTextNode(V[1])):(V[4]={value:V[4][0],type:V[4][1]},T.apply(V[0],V.splice(1)))})))}},indicators:{addForm:function(x,k,m){var _=this.indicators,M=this.lang;if(x){this.tabs.init.call(this,x),k=this.popup.container.querySelectorAll(".highcharts-tab-item-content"),this.addColsContainer(k[0]),_.addSearchBox.call(this,x,k[0]),_.addIndicatorList.call(this,x,k[0],"add");var D=k[0].querySelectorAll(".highcharts-popup-rhs-col")[0];this.addButton(D,M.addButton||"add","add",D,m),this.addColsContainer(k[1]),_.addIndicatorList.call(this,x,k[1],"edit"),D=k[1].querySelectorAll(".highcharts-popup-rhs-col")[0],this.addButton(D,M.saveButton||"save","edit",D,m),this.addButton(D,M.removeButton||"remove","remove",D,m)}},filterSeries:function(x,k){var m=this.indicators,_=this.chart&&this.chart.options.lang,M=_&&_.navigation&&_.navigation.popup&&_.navigation.popup.indicatorAliases,D=[],E;return r(x,function(b,T){var B=b.options;if(b.params||B&&B.params)if(B=m.getNameType(b,T),T=B.indicatorFullName,B=B.indicatorType,k){var I=k.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");I=new RegExp(I,"i");var N=M&&M[B]&&M[B].join(" ")||"";(T.match(I)||N.match(I))&&(E={indicatorFullName:T,indicatorType:B,series:b},D.push(E))}else E={indicatorFullName:T,indicatorType:B,series:b},D.push(E)}),D},filterSeriesArray:function(x){var k=[],m;return x.forEach(function(_){_.is("sma")&&(m={indicatorFullName:_.name,indicatorType:_.type,series:_},k.push(m))}),k},addIndicatorList:function(x,k,m,_){var M=this,D=M.indicators,E=M.lang,b=k.querySelectorAll(".highcharts-popup-lhs-col")[0];k=k.querySelectorAll(".highcharts-popup-rhs-col")[0];var T=m==="edit",B=this.indicators.addFormFields;if(m=T?x.series:x.options.plotOptions||{},x||!m){var I,N=[];T||l(m)?l(m)&&(N=D.filterSeriesArray.call(this,m)):N=D.filterSeries.call(this,m,_),A(N,function(R,F){return R=R.indicatorFullName.toLowerCase(),F=F.indicatorFullName.toLowerCase(),R<F?-1:R>F?1:0}),b.children[1]&&b.children[1].remove();var V=e("ul",{className:"highcharts-indicator-list"},void 0,b),j=k.querySelectorAll(".highcharts-popup-rhs-col-wrapper")[0];N.forEach(function(R){var F=R.indicatorFullName,Y=R.indicatorType,z=R.series;I=e("li",{className:"highcharts-indicator-list"},void 0,V),I.appendChild(h.createTextNode(F)),["click","touchstart"].forEach(function(W){t(I,W,function(){var $=j.parentNode.children[1];B.call(M,x,z,Y,j),$&&($.style.display="block"),T&&z.options&&e("input",{type:"hidden",name:"highcharts-id-"+Y,value:z.options.id},void 0,j).setAttribute("highcharts-data-series-id",z.options.id)})})}),0<V.childNodes.length?V.childNodes[0].click():T||(u.setElementHTML(j.parentNode.children[0],E.noFilterMatch||""),j.parentNode.children[1].style.display="none")}},addSearchBox:function(x,k){var m=this,_=k.querySelectorAll(".highcharts-popup-lhs-col")[0];k=this.lang.clearFilter,_=e("div",{className:"highcharts-input-wrapper"},void 0,_);var M=function(b){m.indicators.addIndicatorList.call(m,x,m.container,"add",b)},D=this.addInput("searchIndicators","input",_,{value:"",type:"text",htmlFor:"search-indicators",labelClassName:"highcharts-input-search-indicators-label"}),E=e("a",{textContent:k},void 0,_);D.classList.add("highcharts-input-search-indicators"),E.classList.add("clear-filter-button"),t(D,"input",function(b){M(this.value),E.style.display=this.value.length?"inline-block":"none"}),["click","touchstart"].forEach(function(b){t(E,b,function(){D.value="",M(""),E.style.display="none"})})},addSelection:function(x,k,m){var _=k.split(".");_=_[_.length-1],x="highcharts-"+k+"-type-"+x;var M=this.lang;return e("label",{htmlFor:x},null,m).appendChild(h.createTextNode(M[_]||k)),m=e("select",{name:x,className:"highcharts-popup-field",id:"highcharts-select-"+k},null,m),m.setAttribute("id","highcharts-select-"+k),m},addSelectionOptions:function(x,k,m,_,M,D,E){k==="series"||k==="volume"?x.series.forEach(function(b){var T=b.options,B=T.name||T.params?b.name:T.id||"";T.id!=="highcharts-navigator-series"&&T.id!==(E&&E.options&&E.options.id)&&(i(D)||k!=="volume"||b.type!=="column"||(D=T.id),e("option",{value:T.id},void 0,m).appendChild(h.createTextNode(B)))}):_&&M&&P[M+"-"+_].forEach(function(b){e("option",{value:b},void 0,m).appendChild(h.createTextNode(b))}),i(D)&&(m.value=D)},getNameType:function(x,k){var m=x.options,_=f.seriesTypes;return _=_[k]&&_[k].prototype.nameBase||k.toUpperCase(),m&&m.type&&(k=x.options.type,_=x.name),{indicatorFullName:_,indicatorType:k}},listAllSeries:function(x,k,m,_,M,D){var E=this.indicators;m&&(x=E.addSelection.call(this,x,k,_),E.addSelectionOptions.call(this,m,k,x,void 0,void 0,void 0,M),i(D)&&(x.value=D))},addFormFields:function(x,k,m,_){var M=k.params||k.options.params,D=this.indicators.getNameType;_.innerHTML=u.emptyHTML,e("h3",{className:"highcharts-indicator-title"},void 0,_).appendChild(h.createTextNode(D(k,m).indicatorFullName)),e("input",{type:"hidden",name:"highcharts-type-"+m,value:m},void 0,_),this.indicators.listAllSeries.call(this,m,"series",x,_,k,k.linkedParent&&k.linkedParent.options.id),M.volumeSeriesID&&this.indicators.listAllSeries.call(this,m,"volume",x,_,k,k.linkedParent&&M.volumeSeriesID),this.indicators.addParamInputs.call(this,x,"params",M,m,_)},addParamInputs:function(x,k,m,_,M){var D=this,E=D.indicators,b=this.indicators.addParamInputs,T=this.addInput,B;x&&r(m,function(I,N){if(B=k+"."+N,i(I)&&B)if(p(I)&&(T.call(D,B,_,M,{}),b.call(D,x,B,I,_,M)),B in g){var V=E.addSelection.call(D,_,B,M);E.addSelectionOptions.call(D,x,k,V,_,N,I)}else B==="params.volumeSeriesID"||l(I)||T.call(D,B,_,M,{value:I,type:"text"})})},getAmount:function(){var x=0;return this.series.forEach(function(k){var m=k.options;(k.params||m&&m.params)&&x++}),x}},tabs:{init:function(x){var k=this.tabs,m=this.indicators.getAmount.call(x);x&&(x=k.addMenuItem.call(this,"add"),k.addMenuItem.call(this,"edit",m),k.addContentItem.call(this,"add"),k.addContentItem.call(this,"edit"),k.switchTabs.call(this,m),k.selectTab.call(this,x,0))},addMenuItem:function(x,k){var m=this.popup.container,_="highcharts-tab-item",M=this.lang;return k===0&&(_+=" highcharts-tab-disabled"),k=e("span",{className:_},void 0,m),k.appendChild(h.createTextNode(M[x+"Button"]||x)),k.setAttribute("highcharts-data-tab-type",x),k},addContentItem:function(){return e("div",{className:"highcharts-tab-item-content highcharts-no-mousewheel"},void 0,this.popup.container)},switchTabs:function(x){var k=this,m;this.popup.container.querySelectorAll(".highcharts-tab-item").forEach(function(_,M){m=_.getAttribute("highcharts-data-tab-type"),m==="edit"&&x===0||["click","touchstart"].forEach(function(D){t(_,D,function(){k.tabs.deselectAll.call(k),k.tabs.selectTab.call(k,this,M)})})})},selectTab:function(x,k){var m=this.popup.container.querySelectorAll(".highcharts-tab-item-content");x.className+=" highcharts-tab-item-active",m[k].className+=" highcharts-tab-item-show"},deselectAll:function(){var x=this.popup.container,k=x.querySelectorAll(".highcharts-tab-item");x=x.querySelectorAll(".highcharts-tab-item-content");var m;for(m=0;m<k.length;m++)k[m].classList.remove("highcharts-tab-item-active"),x[m].classList.remove("highcharts-tab-item-show")}}},t(w,"showPopup",function(x){this.popup||(this.popup=new f.Popup(this.chart.container,this.chart.options.navigation.iconsURL||this.chart.options.stockTools&&this.chart.options.stockTools.gui.iconsURL||"https://code.highcharts.com/9.3.3/gfx/stock-icons/",this.chart)),this.popup.showForm(x.formType,this.chart,x.options,x.onSubmit)}),t(w,"closePopup",function(){this.popup&&this.popup.closePopup()}),f.Popup}),L(a,"masters/modules/annotations-advanced.src.js",[],function(){})})})(Yt);const Ct=Yt.exports;var Ut={exports:{}};(function(y){(function(a){y.exports?(a.default=a,y.exports=a):a(typeof Highcharts!="undefined"?Highcharts:void 0)})(function(a){function L(u,f,w,C){u.hasOwnProperty(f)||(u[f]=C.apply(null,w))}a=a?a._modules:{},L(a,"Extensions/PriceIndication.js",[a["Core/Series/Series.js"],a["Core/Utilities.js"]],function(u,f){var w=f.addEvent,C=f.isArray,O=f.merge;w(u,"afterRender",function(){var S=this.options,h=S.pointRange,s=S.lastVisiblePrice,o=S.lastPrice;if((s||o)&&S.id!=="highcharts-navigator-series"){var t=this.xAxis,e=this.yAxis,i=e.crosshair,n=e.cross,l=e.crossLabel,p=this.points,r=p.length,c=this.xData[this.xData.length-1],A=this.yData[this.yData.length-1];o&&o.enabled&&(e.crosshair=e.options.crosshair=S.lastPrice,!this.chart.styledMode&&e.crosshair&&e.options.crosshair&&S.lastPrice&&(e.crosshair.color=e.options.crosshair.color=S.lastPrice.color||this.color),e.cross=this.lastPrice,o=C(A)?A[3]:A,e.drawCrosshair(null,{x:c,y:o,plotX:t.toPixels(c,!0),plotY:e.toPixels(o,!0)}),this.yAxis.cross&&(this.lastPrice=this.yAxis.cross,this.lastPrice.addClass("highcharts-color-"+this.colorIndex),this.lastPrice.y=o)),s&&s.enabled&&0<r&&(h=p[r-1].x===c||h===null?1:2,e.crosshair=e.options.crosshair=O({color:"transparent"},S.lastVisiblePrice),e.cross=this.lastVisiblePrice,S=p[r-h],this.crossLabel&&this.crossLabel.destroy(),delete e.crossLabel,e.drawCrosshair(null,S),e.cross&&(this.lastVisiblePrice=e.cross,typeof S.y=="number"&&(this.lastVisiblePrice.y=S.y)),this.crossLabel=e.crossLabel),e.crosshair=e.options.crosshair=i,e.cross=n,e.crossLabel=l}})}),L(a,"masters/modules/price-indicator.src.js",[],function(){})})})(Ut);const kt=Ut.exports;var Ht={exports:{}};(function(y){(function(a){y.exports?(a.default=a,y.exports=a):a(typeof Highcharts!="undefined"?Highcharts:void 0)})(function(a){function L(u,f,w,C){u.hasOwnProperty(f)||(u[f]=C.apply(null,w))}a=a?a._modules:{},L(a,"Extensions/FullScreen.js",[a["Core/Chart/Chart.js"],a["Core/Globals.js"],a["Core/Renderer/HTML/AST.js"],a["Core/Utilities.js"]],function(u,f,w,C){var O=C.addEvent;return C=function(){function S(h){this.chart=h,this.isOpen=!1,h=h.renderTo,this.browserProps||(typeof h.requestFullscreen=="function"?this.browserProps={fullscreenChange:"fullscreenchange",requestFullscreen:"requestFullscreen",exitFullscreen:"exitFullscreen"}:h.mozRequestFullScreen?this.browserProps={fullscreenChange:"mozfullscreenchange",requestFullscreen:"mozRequestFullScreen",exitFullscreen:"mozCancelFullScreen"}:h.webkitRequestFullScreen?this.browserProps={fullscreenChange:"webkitfullscreenchange",requestFullscreen:"webkitRequestFullScreen",exitFullscreen:"webkitExitFullscreen"}:h.msRequestFullscreen&&(this.browserProps={fullscreenChange:"MSFullscreenChange",requestFullscreen:"msRequestFullscreen",exitFullscreen:"msExitFullscreen"}))}return S.prototype.close=function(){var h=this.chart,s=h.options.chart;this.isOpen&&this.browserProps&&h.container.ownerDocument instanceof Document&&h.container.ownerDocument[this.browserProps.exitFullscreen](),this.unbindFullscreenEvent&&(this.unbindFullscreenEvent=this.unbindFullscreenEvent()),h.setSize(this.origWidth,this.origHeight,!1),this.origHeight=this.origWidth=void 0,s.width=this.origWidthOption,s.height=this.origHeightOption,this.origHeightOption=this.origWidthOption=void 0,this.isOpen=!1,this.setButtonText()},S.prototype.open=function(){var h=this,s=h.chart,o=s.options.chart;if(o&&(h.origWidthOption=o.width,h.origHeightOption=o.height),h.origWidth=s.chartWidth,h.origHeight=s.chartHeight,h.browserProps){var t=O(s.container.ownerDocument,h.browserProps.fullscreenChange,function(){h.isOpen?(h.isOpen=!1,h.close()):(s.setSize(null,null,!1),h.isOpen=!0,h.setButtonText())}),e=O(s,"destroy",t);h.unbindFullscreenEvent=function(){t(),e()},(o=s.renderTo[h.browserProps.requestFullscreen]())&&o.catch(function(){alert("Full screen is not supported inside a frame.")})}},S.prototype.setButtonText=function(){var h=this.chart,s=h.exportDivElements,o=h.options.exporting,t=o&&o.buttons&&o.buttons.contextButton.menuItems;h=h.options.lang,o&&o.menuItemDefinitions&&h&&h.exitFullscreen&&h.viewFullscreen&&t&&s&&(s=s[t.indexOf("viewFullscreen")])&&w.setElementHTML(s,this.isOpen?h.exitFullscreen:o.menuItemDefinitions.viewFullscreen.text||h.viewFullscreen)},S.prototype.toggle=function(){this.isOpen?this.close():this.open()},S}(),f.Fullscreen=C,O(u,"beforeRender",function(){this.fullscreen=new f.Fullscreen(this)}),f.Fullscreen}),L(a,"masters/modules/full-screen.src.js",[],function(){})})})(Ht);const _t=Ht.exports;var zt={exports:{}};(function(y){(function(a){y.exports?(a.default=a,y.exports=a):a(typeof Highcharts!="undefined"?Highcharts:void 0)})(function(a){function L(u,f,w,C){u.hasOwnProperty(f)||(u[f]=C.apply(null,w))}a=a?a._modules:{},L(a,"Extensions/Annotations/Mixins/EventEmitterMixin.js",[a["Core/Globals.js"],a["Core/Utilities.js"]],function(u,f){var w=f.addEvent,C=f.fireEvent,O=f.objectEach,S=f.pick,h=f.removeEvent;return{addEvents:function(){var s=this,o=function(e){w(e,u.isTouchDevice?"touchstart":"mousedown",function(i){s.onMouseDown(i)},{passive:!1})};if(o(this.graphic.element),(s.labels||[]).forEach(function(e){e.options.useHTML&&e.graphic.text&&o(e.graphic.text.element)}),O(s.options.events,function(e,i){var n=function(l){i==="click"&&s.cancelClick||e.call(s,s.chart.pointer.normalize(l),s.target)};(s.nonDOMEvents||[]).indexOf(i)===-1?s.graphic.on(i,n):w(s,i,n,{passive:!1})}),s.options.draggable&&(w(s,"drag",s.onDrag),!s.graphic.renderer.styledMode)){var t={cursor:{x:"ew-resize",y:"ns-resize",xy:"move"}[s.options.draggable]};s.graphic.css(t),(s.labels||[]).forEach(function(e){e.options.useHTML&&e.graphic.text&&e.graphic.text.css(t)})}s.isUpdating||C(s,"add")},removeDocEvents:function(){this.removeDrag&&(this.removeDrag=this.removeDrag()),this.removeMouseUp&&(this.removeMouseUp=this.removeMouseUp())},onMouseDown:function(s){var o=this,t=o.chart.pointer;if(s.preventDefault&&s.preventDefault(),s.button!==2){s=t.normalize(s);var e=s.chartX,i=s.chartY;o.cancelClick=!1,o.chart.hasDraggedAnnotation=!0,o.removeDrag=w(u.doc,u.isTouchDevice?"touchmove":"mousemove",function(n){o.hasDragged=!0,n=t.normalize(n),n.prevChartX=e,n.prevChartY=i,C(o,"drag",n),e=n.chartX,i=n.chartY},u.isTouchDevice?{passive:!1}:void 0),o.removeMouseUp=w(u.doc,u.isTouchDevice?"touchend":"mouseup",function(n){var l=S(o.target&&o.target.annotation,o.target);l&&(l.cancelClick=o.hasDragged),o.cancelClick=o.hasDragged,o.hasDragged=!1,o.chart.hasDraggedAnnotation=!1,C(S(l,o),"afterUpdate"),o.onMouseUp(n)},u.isTouchDevice?{passive:!1}:void 0)}},onMouseUp:function(s){var o=this.chart;s=this.target||this;var t=o.options.annotations;o=o.annotations.indexOf(s),this.removeDocEvents(),t[o]=s.options},onDrag:function(s){if(this.chart.isInsidePlot(s.chartX-this.chart.plotLeft,s.chartY-this.chart.plotTop,{visiblePlotOnly:!0})){var o=this.mouseMoveToTranslation(s);this.options.draggable==="x"&&(o.y=0),this.options.draggable==="y"&&(o.x=0),this.points.length?this.translate(o.x,o.y):(this.shapes.forEach(function(t){t.translate(o.x,o.y)}),this.labels.forEach(function(t){t.translate(o.x,o.y)})),this.redraw(!1)}},mouseMoveToRadians:function(s,o,t){var e=s.prevChartY-t,i=s.prevChartX-o;return t=s.chartY-t,s=s.chartX-o,this.chart.inverted&&(o=i,i=e,e=o,o=s,s=t,t=o),Math.atan2(t,s)-Math.atan2(e,i)},mouseMoveToTranslation:function(s){var o=s.chartX-s.prevChartX;if(s=s.chartY-s.prevChartY,this.chart.inverted){var t=s;s=o,o=t}return{x:o,y:s}},mouseMoveToScale:function(s,o,t){return o=(s.chartX-o||1)/(s.prevChartX-o||1),s=(s.chartY-t||1)/(s.prevChartY-t||1),this.chart.inverted&&(t=s,s=o,o=t),{x:o,y:s}},destroy:function(){this.removeDocEvents(),h(this),this.hcEvents=null}}}),L(a,"Extensions/Annotations/ControlPoint.js",[a["Core/Utilities.js"],a["Extensions/Annotations/Mixins/EventEmitterMixin.js"]],function(u,f){var w=u.merge,C=u.pick;return function(){function O(S,h,s,o){this.addEvents=f.addEvents,this.graphic=void 0,this.mouseMoveToRadians=f.mouseMoveToRadians,this.mouseMoveToScale=f.mouseMoveToScale,this.mouseMoveToTranslation=f.mouseMoveToTranslation,this.onDrag=f.onDrag,this.onMouseDown=f.onMouseDown,this.onMouseUp=f.onMouseUp,this.removeDocEvents=f.removeDocEvents,this.nonDOMEvents=["drag"],this.chart=S,this.target=h,this.options=s,this.index=C(s.index,o)}return O.prototype.setVisibility=function(S){this.graphic.attr("visibility",S?"visible":"hidden"),this.options.visible=S},O.prototype.render=function(){var S=this.chart,h=this.options;this.graphic=S.renderer.symbol(h.symbol,0,0,h.width,h.height).add(S.controlPointsGroup).css(h.style),this.setVisibility(h.visible),this.addEvents()},O.prototype.redraw=function(S){this.graphic[S?"animate":"attr"](this.options.positioner.call(this,this.target))},O.prototype.destroy=function(){f.destroy.call(this),this.graphic&&(this.graphic=this.graphic.destroy()),this.options=this.target=this.chart=null},O.prototype.update=function(S){var h=this.chart,s=this.target,o=this.index;S=w(!0,this.options,S),this.destroy(),this.constructor(h,s,S,o),this.render(h.controlPointsGroup),this.redraw()},O}()}),L(a,"Extensions/Annotations/MockPoint.js",[a["Core/Series/Series.js"],a["Core/Utilities.js"],a["Core/Axis/Axis.js"]],function(u,f,w){var C=f.defined,O=f.fireEvent;return function(){function S(h,s,o){this.y=this.x=this.ttBelow=this.plotY=this.plotX=this.negative=this.isInside=void 0,this.mock=!0,this.series={visible:!0,chart:h,getPlotBox:u.prototype.getPlotBox},this.target=s||null,this.options=o,this.applyOptions(this.getOptions())}return S.fromPoint=function(h){return new S(h.series.chart,null,{x:h.x,y:h.y,xAxis:h.series.xAxis,yAxis:h.series.yAxis})},S.pointToPixels=function(h,s){var o=h.series,t=o.chart,e=h.plotX,i=h.plotY;return t.inverted&&(h.mock?(e=h.plotY,i=h.plotX):(e=t.plotWidth-h.plotY,i=t.plotHeight-h.plotX)),o&&!s&&(h=o.getPlotBox(),e+=h.translateX,i+=h.translateY),{x:e,y:i}},S.pointToOptions=function(h){return{x:h.x,y:h.y,xAxis:h.series.xAxis,yAxis:h.series.yAxis}},S.prototype.hasDynamicOptions=function(){return typeof this.options=="function"},S.prototype.getOptions=function(){return this.hasDynamicOptions()?this.options(this.target):this.options},S.prototype.applyOptions=function(h){this.command=h.command,this.setAxis(h,"x"),this.setAxis(h,"y"),this.refresh()},S.prototype.setAxis=function(h,s){s+="Axis",h=h[s];var o=this.series.chart;this.series[s]=h instanceof w?h:C(h)?o[s][h]||o.get(h):null},S.prototype.toAnchor=function(){var h=[this.plotX,this.plotY,0,0];return this.series.chart.inverted&&(h[0]=this.plotY,h[1]=this.plotX),h},S.prototype.getLabelConfig=function(){return{x:this.x,y:this.y,point:this}},S.prototype.isInsidePlot=function(){var h=this.plotX,s=this.plotY,o=this.series.xAxis,t=this.series.yAxis,e={x:h,y:s,isInsidePlot:!0};return o&&(e.isInsidePlot=C(h)&&0<=h&&h<=o.len),t&&(e.isInsidePlot=e.isInsidePlot&&C(s)&&0<=s&&s<=t.len),O(this.series.chart,"afterIsInsidePlot",e),e.isInsidePlot},S.prototype.refresh=function(){var h=this.series,s=h.xAxis;h=h.yAxis;var o=this.getOptions();s?(this.x=o.x,this.plotX=s.toPixels(o.x,!0)):(this.x=null,this.plotX=o.x),h?(this.y=o.y,this.plotY=h.toPixels(o.y,!0)):(this.y=null,this.plotY=o.y),this.isInside=this.isInsidePlot()},S.prototype.translate=function(h,s,o,t){this.hasDynamicOptions()||(this.plotX+=o,this.plotY+=t,this.refreshOptions())},S.prototype.scale=function(h,s,o,t){if(!this.hasDynamicOptions()){var e=this.plotY*t;this.plotX=(1-o)*h+this.plotX*o,this.plotY=(1-t)*s+e,this.refreshOptions()}},S.prototype.rotate=function(h,s,o){if(!this.hasDynamicOptions()){var t=Math.cos(o);o=Math.sin(o);var e=this.plotX,i=this.plotY;e-=h,i-=s,this.plotX=e*t-i*o+h,this.plotY=e*o+i*t+s,this.refreshOptions()}},S.prototype.refreshOptions=function(){var h=this.series,s=h.xAxis;h=h.yAxis,this.x=this.options.x=s?this.options.x=s.toValue(this.plotX,!0):this.plotX,this.y=this.options.y=h?h.toValue(this.plotY,!0):this.plotY},S}()}),L(a,"Extensions/Annotations/Mixins/ControllableMixin.js",[a["Extensions/Annotations/ControlPoint.js"],a["Extensions/Annotations/MockPoint.js"],a["Core/Tooltip.js"],a["Core/Utilities.js"]],function(u,f,w,C){var O=C.isObject,S=C.isString,h=C.merge,s=C.splat;return{init:function(o,t,e){this.annotation=o,this.chart=o.chart,this.options=t,this.points=[],this.controlPoints=[],this.index=e,this.linkPoints(),this.addControlPoints()},attr:function(){this.graphic.attr.apply(this.graphic,arguments)},getPointsOptions:function(){var o=this.options;return o.points||o.point&&s(o.point)},attrsFromOptions:function(o){var t=this.constructor.attrsMap,e={},i,n=this.chart.styledMode;for(i in o){var l=t[i];!l||n&&["fill","stroke","stroke-width"].indexOf(l)!==-1||(e[l]=o[i])}return e},anchor:function(o){var t=o.series.getPlotBox(),e=o.series.chart,i=o.mock?o.toAnchor():w.prototype.getAnchor.call({chart:o.series.chart},o);return i={x:i[0]+(this.options.x||0),y:i[1]+(this.options.y||0),height:i[2]||0,width:i[3]||0},{relativePosition:i,absolutePosition:h(i,{x:i.x+(o.mock?t.translateX:e.plotLeft),y:i.y+(o.mock?t.translateY:e.plotTop)})}},point:function(o,t){return o&&o.series?o:(t&&t.series!==null||(O(o)?t=new f(this.chart,this,o):S(o)?t=this.chart.get(o)||null:typeof o=="function"&&(t=o.call(t,this),t=t.series?t:new f(this.chart,this,o))),t)},linkPoints:function(){var o=this.getPointsOptions(),t=this.points,e=o&&o.length||0,i;for(i=0;i<e;i++){var n=this.point(o[i],t[i]);if(!n){t.length=0;return}n.mock&&n.refresh(),t[i]=n}return t},addControlPoints:function(){var o=this.options.controlPoints;(o||[]).forEach(function(t,e){t=h(this.options.controlPointOptions,t),t.index||(t.index=e),o[e]=t,this.controlPoints.push(new u(this.chart,this,t))},this)},shouldBeDrawn:function(){return!!this.points.length},render:function(o){this.controlPoints.forEach(function(t){t.render()})},redraw:function(o){this.controlPoints.forEach(function(t){t.redraw(o)})},transform:function(o,t,e,i,n){if(this.chart.inverted){var l=t;t=e,e=l}this.points.forEach(function(p,r){this.transformPoint(o,t,e,i,n,r)},this)},transformPoint:function(o,t,e,i,n,l){var p=this.points[l];p.mock||(p=this.points[l]=f.fromPoint(p)),p[o](t,e,i,n)},translate:function(o,t){this.transform("translate",null,null,o,t)},translatePoint:function(o,t,e){this.transformPoint("translate",null,null,o,t,e)},translateShape:function(o,t,e){var i=this.annotation.chart,n=this.annotation.userOptions,l=i.annotations.indexOf(this.annotation);i=i.options.annotations[l],this.translatePoint(o,t,0),e&&this.translatePoint(o,t,1),i[this.collection][this.index].point=this.options.point,n[this.collection][this.index].point=this.options.point},rotate:function(o,t,e){this.transform("rotate",o,t,e)},scale:function(o,t,e,i){this.transform("scale",o,t,e,i)},setControlPointsVisibility:function(o){this.controlPoints.forEach(function(t){t.setVisibility(o)})},destroy:function(){this.graphic&&(this.graphic=this.graphic.destroy()),this.tracker&&(this.tracker=this.tracker.destroy()),this.controlPoints.forEach(function(o){o.destroy()}),this.options=this.controlPoints=this.points=this.chart=null,this.annotation&&(this.annotation=null)},update:function(o){var t=this.annotation;o=h(!0,this.options,o);var e=this.graphic.parentGroup;this.destroy(),this.constructor(t,o,this.index),this.render(e),this.redraw()}}}),L(a,"Extensions/Annotations/Mixins/MarkerMixin.js",[a["Core/Chart/Chart.js"],a["Core/Renderer/SVG/SVGRenderer.js"],a["Core/Utilities.js"]],function(u,f,w){function C(t){return function(e){this.attr(t,"url(#"+e+")")}}var O=w.addEvent,S=w.defined,h=w.merge,s=w.uniqueKey,o={arrow:{tagName:"marker",attributes:{id:"arrow",refY:5,refX:9,markerWidth:10,markerHeight:10},children:[{tagName:"path",attributes:{d:"M 0 0 L 10 5 L 0 10 Z","stroke-width":0}}]},"reverse-arrow":{tagName:"marker",attributes:{id:"reverse-arrow",refY:5,refX:1,markerWidth:10,markerHeight:10},children:[{tagName:"path",attributes:{d:"M 0 5 L 10 0 L 10 10 Z","stroke-width":0}}]}};return f.prototype.addMarker=function(t,e){var i={attributes:{id:t}},n={stroke:e.color||"none",fill:e.color||"rgba(0, 0, 0, 0.75)"};return i.children=e.children&&e.children.map(function(l){return h(n,l)}),e=h(!0,{attributes:{markerWidth:20,markerHeight:20,refX:0,refY:0,orient:"auto"}},e,i),e=this.definition(e),e.id=t,e},f={markerEndSetter:C("marker-end"),markerStartSetter:C("marker-start"),setItemMarkers:function(t){var e=t.options,i=t.chart,n=i.options.defs,l=e.fill,p=S(l)&&l!=="none"?l:e.stroke;["markerStart","markerEnd"].forEach(function(r){var c=e[r],A;if(c){for(A in n){var v=n[A];if((c===(v.attributes&&v.attributes.id)||c===v.id)&&v.tagName==="marker"){var g=v;break}}g&&(c=t[r]=i.renderer.addMarker((e.id||s())+"-"+c,h(g,{color:p})),t.attr(r,c.getAttribute("id")))}})}},O(u,"afterGetContainer",function(){this.options.defs=h(o,this.options.defs||{})}),f}),L(a,"Extensions/Annotations/Controllables/ControllablePath.js",[a["Extensions/Annotations/Mixins/ControllableMixin.js"],a["Core/Globals.js"],a["Extensions/Annotations/Mixins/MarkerMixin.js"],a["Core/Utilities.js"]],function(u,f,w,C){var O=C.extend,S="rgba(192,192,192,"+(f.svg?1e-4:.002)+")";return function(){function h(s,o,t){this.addControlPoints=u.addControlPoints,this.anchor=u.anchor,this.attr=u.attr,this.attrsFromOptions=u.attrsFromOptions,this.destroy=u.destroy,this.getPointsOptions=u.getPointsOptions,this.init=u.init,this.linkPoints=u.linkPoints,this.point=u.point,this.rotate=u.rotate,this.scale=u.scale,this.setControlPointsVisibility=u.setControlPointsVisibility,this.setMarkers=w.setItemMarkers,this.transform=u.transform,this.transformPoint=u.transformPoint,this.translate=u.translate,this.translatePoint=u.translatePoint,this.translateShape=u.translateShape,this.update=u.update,this.type="path",this.init(s,o,t),this.collection="shapes"}return h.prototype.toD=function(){var s=this.options.d;if(s)return typeof s=="function"?s.call(this):s;s=this.points;var o=s.length,t=o,e=s[0],i=t&&this.anchor(e).absolutePosition,n=0,l=[];if(i)for(l.push(["M",i.x,i.y]);++n<o&&t;)e=s[n],t=e.command||"L",i=this.anchor(e).absolutePosition,t==="M"?l.push([t,i.x,i.y]):t==="L"?l.push([t,i.x,i.y]):t==="Z"&&l.push([t]),t=e.series.visible;return t?this.chart.renderer.crispLine(l,this.graphic.strokeWidth()):null},h.prototype.shouldBeDrawn=function(){return u.shouldBeDrawn.call(this)||!!this.options.d},h.prototype.render=function(s){var o=this.options,t=this.attrsFromOptions(o);this.graphic=this.annotation.chart.renderer.path([["M",0,0]]).attr(t).add(s),o.className&&this.graphic.addClass(o.className),this.tracker=this.annotation.chart.renderer.path([["M",0,0]]).addClass("highcharts-tracker-line").attr({zIndex:2}).add(s),this.annotation.chart.styledMode||this.tracker.attr({"stroke-linejoin":"round",stroke:S,fill:S,"stroke-width":this.graphic.strokeWidth()+2*o.snap}),u.render.call(this),O(this.graphic,{markerStartSetter:w.markerStartSetter,markerEndSetter:w.markerEndSetter}),this.setMarkers(this)},h.prototype.redraw=function(s){var o=this.toD(),t=s?"animate":"attr";o?(this.graphic[t]({d:o}),this.tracker[t]({d:o})):(this.graphic.attr({d:"M 0 -9000000000"}),this.tracker.attr({d:"M 0 -9000000000"})),this.graphic.placed=this.tracker.placed=!!o,u.redraw.call(this,s)},h.attrsMap={dashStyle:"dashstyle",strokeWidth:"stroke-width",stroke:"stroke",fill:"fill",zIndex:"zIndex"},h}()}),L(a,"Extensions/Annotations/Controllables/ControllableRect.js",[a["Extensions/Annotations/Mixins/ControllableMixin.js"],a["Extensions/Annotations/Controllables/ControllablePath.js"],a["Core/Utilities.js"]],function(u,f,w){var C=w.merge;return function(){function O(S,h,s){this.addControlPoints=u.addControlPoints,this.anchor=u.anchor,this.attr=u.attr,this.attrsFromOptions=u.attrsFromOptions,this.destroy=u.destroy,this.getPointsOptions=u.getPointsOptions,this.init=u.init,this.linkPoints=u.linkPoints,this.point=u.point,this.rotate=u.rotate,this.scale=u.scale,this.setControlPointsVisibility=u.setControlPointsVisibility,this.shouldBeDrawn=u.shouldBeDrawn,this.transform=u.transform,this.transformPoint=u.transformPoint,this.translatePoint=u.translatePoint,this.translateShape=u.translateShape,this.update=u.update,this.type="rect",this.translate=u.translateShape,this.init(S,h,s),this.collection="shapes"}return O.prototype.render=function(S){var h=this.attrsFromOptions(this.options);this.graphic=this.annotation.chart.renderer.rect(0,-9e9,0,0).attr(h).add(S),u.render.call(this)},O.prototype.redraw=function(S){var h=this.anchor(this.points[0]).absolutePosition;h?this.graphic[S?"animate":"attr"]({x:h.x,y:h.y,width:this.options.width,height:this.options.height}):this.attr({x:0,y:-9e9}),this.graphic.placed=!!h,u.redraw.call(this,S)},O.attrsMap=C(f.attrsMap,{width:"width",height:"height"}),O}()}),L(a,"Extensions/Annotations/Controllables/ControllableCircle.js",[a["Extensions/Annotations/Mixins/ControllableMixin.js"],a["Extensions/Annotations/Controllables/ControllablePath.js"],a["Core/Utilities.js"]],function(u,f,w){var C=w.merge;return function(){function O(S,h,s){this.addControlPoints=u.addControlPoints,this.anchor=u.anchor,this.attr=u.attr,this.attrsFromOptions=u.attrsFromOptions,this.destroy=u.destroy,this.getPointsOptions=u.getPointsOptions,this.init=u.init,this.linkPoints=u.linkPoints,this.point=u.point,this.rotate=u.rotate,this.scale=u.scale,this.setControlPointsVisibility=u.setControlPointsVisibility,this.shouldBeDrawn=u.shouldBeDrawn,this.transform=u.transform,this.transformPoint=u.transformPoint,this.translatePoint=u.translatePoint,this.translateShape=u.translateShape,this.update=u.update,this.type="circle",this.translate=u.translateShape,this.init(S,h,s),this.collection="shapes"}return O.prototype.render=function(S){var h=this.attrsFromOptions(this.options);this.graphic=this.annotation.chart.renderer.circle(0,-9e9,0).attr(h).add(S),u.render.call(this)},O.prototype.redraw=function(S){var h=this.anchor(this.points[0]).absolutePosition;h?this.graphic[S?"animate":"attr"]({x:h.x,y:h.y,r:this.options.r}):this.graphic.attr({x:0,y:-9e9}),this.graphic.placed=!!h,u.redraw.call(this,S)},O.prototype.setRadius=function(S){this.options.r=S},O.attrsMap=C(f.attrsMap,{r:"r"}),O}()}),L(a,"Extensions/Annotations/Controllables/ControllableEllipse.js",[a["Extensions/Annotations/Mixins/ControllableMixin.js"],a["Extensions/Annotations/Controllables/ControllablePath.js"],a["Core/Utilities.js"]],function(u,f,w){var C=w.merge,O=w.defined;return function(){function S(h,s,o){this.addControlPoints=u.addControlPoints,this.anchor=u.anchor,this.attr=u.attr,this.attrsFromOptions=u.attrsFromOptions,this.destroy=u.destroy,this.getPointsOptions=u.getPointsOptions,this.linkPoints=u.linkPoints,this.point=u.point,this.scale=u.scale,this.setControlPointsVisibility=u.setControlPointsVisibility,this.shouldBeDrawn=u.shouldBeDrawn,this.transform=u.transform,this.translatePoint=u.translatePoint,this.transformPoint=u.transformPoint,this.type="ellipse",this.init(h,s,o),this.collection="shapes"}return S.prototype.init=function(h,s,o){O(s.yAxis)&&s.points.forEach(function(t){t.yAxis=s.yAxis}),O(s.xAxis)&&s.points.forEach(function(t){t.xAxis=s.xAxis}),u.init.call(this,h,s,o)},S.prototype.render=function(h){this.graphic=this.annotation.chart.renderer.createElement("ellipse").attr(this.attrsFromOptions(this.options)).add(h),u.render.call(this)},S.prototype.translate=function(h,s){u.translateShape.call(this,h,s,!0)},S.prototype.getDistanceFromLine=function(h,s,o,t){return Math.abs((s.y-h.y)*o-(s.x-h.x)*t+s.x*h.y-s.y*h.x)/Math.sqrt((s.y-h.y)*(s.y-h.y)+(s.x-h.x)*(s.x-h.x))},S.prototype.getAttrs=function(h,s){var o=h.x,t=h.y,e=s.x,i=s.y;s=(o+e)/2,h=(t+i)/2;var n=Math.sqrt((o-e)*(o-e)/4+(t-i)*(t-i)/4);return t=180*Math.atan((i-t)/(e-o))/Math.PI,s<o&&(t+=180),o=this.getRY(),{cx:s,cy:h,rx:n,ry:o,angle:t}},S.prototype.getRY=function(){var h=this.getYAxis();return O(h)?Math.abs(h.toPixels(this.options.ry)-h.toPixels(0)):this.options.ry},S.prototype.getYAxis=function(){return this.chart.yAxis[this.options.yAxis]},S.prototype.getAbsolutePosition=function(h){return this.anchor(h).absolutePosition},S.prototype.redraw=function(h){var s=this.getAbsolutePosition(this.points[0]),o=this.getAbsolutePosition(this.points[1]);o=this.getAttrs(s,o),s?this.graphic[h?"animate":"attr"]({cx:o.cx,cy:o.cy,rx:o.rx,ry:o.ry,rotation:o.angle,rotationOriginX:o.cx,rotationOriginY:o.cy}):this.graphic.attr({x:0,y:-9e9}),this.graphic.placed=!!s,u.redraw.call(this,h)},S.prototype.setYRadius=function(h){this.options.ry=h,this.annotation.userOptions.shapes[0].ry=h,this.annotation.options.shapes[0].ry=h},S.attrsMap=C(f.attrsMap,{ry:"ry"}),S}()}),L(a,"Extensions/Annotations/Controllables/ControllableLabel.js",[a["Extensions/Annotations/Mixins/ControllableMixin.js"],a["Core/FormatUtilities.js"],a["Extensions/Annotations/MockPoint.js"],a["Core/Renderer/SVG/SVGRenderer.js"],a["Core/Tooltip.js"],a["Core/Utilities.js"]],function(u,f,w,C,O,S){var h=f.format;f=C.prototype.symbols;var s=S.extend,o=S.isNumber,t=S.pick;return S=function(){function e(i,n,l){this.addControlPoints=u.addControlPoints,this.attr=u.attr,this.attrsFromOptions=u.attrsFromOptions,this.destroy=u.destroy,this.getPointsOptions=u.getPointsOptions,this.init=u.init,this.linkPoints=u.linkPoints,this.point=u.point,this.rotate=u.rotate,this.scale=u.scale,this.setControlPointsVisibility=u.setControlPointsVisibility,this.shouldBeDrawn=u.shouldBeDrawn,this.transform=u.transform,this.transformPoint=u.transformPoint,this.translateShape=u.translateShape,this.update=u.update,this.init(i,n,l),this.collection="labels"}return e.alignedPosition=function(i,n){var l=i.align,p=i.verticalAlign,r=(n.x||0)+(i.x||0),c=(n.y||0)+(i.y||0),A,v;return l==="right"?A=1:l==="center"&&(A=2),A&&(r+=(n.width-(i.width||0))/A),p==="bottom"?v=1:p==="middle"&&(v=2),v&&(c+=(n.height-(i.height||0))/v),{x:Math.round(r),y:Math.round(c)}},e.justifiedOptions=function(i,n,l,p){var r=l.align,c=l.verticalAlign,A=n.box?0:n.padding||0,v=n.getBBox();n={align:r,verticalAlign:c,x:l.x,y:l.y,width:n.width,height:n.height},l=(p.x||0)-i.plotLeft,p=(p.y||0)-i.plotTop;var g=l+A;return 0>g&&(r==="right"?n.align="left":n.x=(n.x||0)-g),g=l+v.width-A,g>i.plotWidth&&(r==="left"?n.align="right":n.x=(n.x||0)+i.plotWidth-g),g=p+A,0>g&&(c==="bottom"?n.verticalAlign="top":n.y=(n.y||0)-g),g=p+v.height-A,g>i.plotHeight&&(c==="top"?n.verticalAlign="bottom":n.y=(n.y||0)+i.plotHeight-g),n},e.prototype.translatePoint=function(i,n){u.translatePoint.call(this,i,n,0)},e.prototype.translate=function(i,n){var l=this.annotation.chart,p=this.annotation.userOptions,r=l.annotations.indexOf(this.annotation);r=l.options.annotations[r],l.inverted&&(l=i,i=n,n=l),this.options.x+=i,this.options.y+=n,r[this.collection][this.index].x=this.options.x,r[this.collection][this.index].y=this.options.y,p[this.collection][this.index].x=this.options.x,p[this.collection][this.index].y=this.options.y},e.prototype.render=function(i){var n=this.options,l=this.attrsFromOptions(n),p=n.style;this.graphic=this.annotation.chart.renderer.label("",0,-9999,n.shape,null,null,n.useHTML,null,"annotation-label").attr(l).add(i),this.annotation.chart.styledMode||(p.color==="contrast"&&(p.color=this.annotation.chart.renderer.getContrast(-1<e.shapesWithoutBackground.indexOf(n.shape)?"#FFFFFF":n.backgroundColor)),this.graphic.css(n.style).shadow(n.shadow)),n.className&&this.graphic.addClass(n.className),this.graphic.labelrank=n.labelrank,u.render.call(this)},e.prototype.redraw=function(i){var n=this.options,l=this.text||n.format||n.text,p=this.graphic,r=this.points[0];p.attr({text:l?h(l,r.getLabelConfig(),this.annotation.chart):n.formatter.call(r,this)}),n=this.anchor(r),(l=this.position(n))?(p.alignAttr=l,l.anchorX=n.absolutePosition.x,l.anchorY=n.absolutePosition.y,p[i?"animate":"attr"](l)):p.attr({x:0,y:-9999}),p.placed=!!l,u.redraw.call(this,i)},e.prototype.anchor=function(i){var n=u.anchor.apply(this,arguments),l=this.options.x||0,p=this.options.y||0;return n.absolutePosition.x-=l,n.absolutePosition.y-=p,n.relativePosition.x-=l,n.relativePosition.y-=p,n},e.prototype.position=function(i){var n=this.graphic,l=this.annotation.chart,p=this.points[0],r=this.options,c=i.absolutePosition,A=i.relativePosition,v=p.series.visible&&w.prototype.isInsidePlot.call(p);i=n.width,i=i===void 0?0:i;var g=n.height;if(g=g===void 0?0:g,v){if(r.distance)var P=O.prototype.getPosition.call({chart:l,distance:t(r.distance,16)},i,g,{plotX:A.x,plotY:A.y,negative:p.negative,ttBelow:p.ttBelow,h:A.height||A.width});else r.positioner?P=r.positioner.call(this):(p={x:c.x,y:c.y,width:0,height:0},P=e.alignedPosition(s(r,{width:i,height:g}),p),this.options.overflow==="justify"&&(P=e.alignedPosition(e.justifiedOptions(l,n,r,P),p)));r.crop&&(n=P.x-l.plotLeft,r=P.y-l.plotTop,v=l.isInsidePlot(n,r)&&l.isInsidePlot(n+i,r+g))}return v?P:null},e.attrsMap={backgroundColor:"fill",borderColor:"stroke",borderWidth:"stroke-width",zIndex:"zIndex",borderRadius:"r",padding:"padding"},e.shapesWithoutBackground=["connector"],e}(),f.connector=function(e,i,n,l,p){var r=p&&p.anchorX;p=p&&p.anchorY;var c=n/2;if(o(r)&&o(p)){var A=[["M",r,p]],v=i-p;0>v&&(v=-l-v),v<n&&(c=r<e+n/2?v:n-v),p>i+l?A.push(["L",e+c,i+l]):p<i?A.push(["L",e+c,i]):r<e?A.push(["L",e,i+l/2]):r>e+n&&A.push(["L",e+n,i+l/2])}return A||[]},S}),L(a,"Extensions/Annotations/Controllables/ControllableImage.js",[a["Extensions/Annotations/Controllables/ControllableLabel.js"],a["Extensions/Annotations/Mixins/ControllableMixin.js"]],function(u,f){return function(){function w(C,O,S){this.addControlPoints=f.addControlPoints,this.anchor=f.anchor,this.attr=f.attr,this.attrsFromOptions=f.attrsFromOptions,this.destroy=f.destroy,this.getPointsOptions=f.getPointsOptions,this.init=f.init,this.linkPoints=f.linkPoints,this.point=f.point,this.rotate=f.rotate,this.scale=f.scale,this.setControlPointsVisibility=f.setControlPointsVisibility,this.shouldBeDrawn=f.shouldBeDrawn,this.transform=f.transform,this.transformPoint=f.transformPoint,this.translatePoint=f.translatePoint,this.translateShape=f.translateShape,this.update=f.update,this.type="image",this.translate=f.translateShape,this.init(C,O,S),this.collection="shapes"}return w.prototype.render=function(C){var O=this.attrsFromOptions(this.options),S=this.options;this.graphic=this.annotation.chart.renderer.image(S.src,0,-9e9,S.width,S.height).attr(O).add(C),this.graphic.width=S.width,this.graphic.height=S.height,f.render.call(this)},w.prototype.redraw=function(C){var O=this.anchor(this.points[0]);(O=u.prototype.position.call(this,O))?this.graphic[C?"animate":"attr"]({x:O.x,y:O.y}):this.graphic.attr({x:0,y:-9e9}),this.graphic.placed=!!O,f.redraw.call(this,C)},w.attrsMap={width:"width",height:"height",zIndex:"zIndex"},w}()}),L(a,"Extensions/Annotations/Annotations.js",[a["Core/Animation/AnimationUtilities.js"],a["Core/Chart/Chart.js"],a["Extensions/Annotations/Mixins/ControllableMixin.js"],a["Extensions/Annotations/Controllables/ControllableRect.js"],a["Extensions/Annotations/Controllables/ControllableCircle.js"],a["Extensions/Annotations/Controllables/ControllableEllipse.js"],a["Extensions/Annotations/Controllables/ControllablePath.js"],a["Extensions/Annotations/Controllables/ControllableImage.js"],a["Extensions/Annotations/Controllables/ControllableLabel.js"],a["Extensions/Annotations/ControlPoint.js"],a["Extensions/Annotations/Mixins/EventEmitterMixin.js"],a["Core/Globals.js"],a["Extensions/Annotations/MockPoint.js"],a["Core/Pointer.js"],a["Core/Utilities.js"]],function(u,f,w,C,O,S,h,s,o,t,e,i,n,l,p){var r=u.getDeferredAnimation;u=f.prototype;var c=p.addEvent,A=p.defined,v=p.destroyObjectProperties,g=p.erase,P=p.extend,x=p.find,k=p.fireEvent,m=p.merge,_=p.pick,M=p.splat;p=p.wrap;var D=function(){function E(b,T){this.annotation=void 0,this.coll="annotations",this.shapesGroup=this.labelsGroup=this.labelCollector=this.group=this.graphic=this.animationConfig=this.collection=void 0,this.chart=b,this.points=[],this.controlPoints=[],this.coll="annotations",this.labels=[],this.shapes=[],this.options=m(this.defaultOptions,T),this.userOptions=T,T=this.getLabelsAndShapesOptions(this.options,T),this.options.labels=T.labels,this.options.shapes=T.shapes,this.init(b,this.options)}return E.prototype.init=function(){var b=this.chart,T=this.options.animation;this.linkPoints(),this.addControlPoints(),this.addShapes(),this.addLabels(),this.setLabelCollector(),this.animationConfig=r(b,T)},E.prototype.getLabelsAndShapesOptions=function(b,T){var B={};return["labels","shapes"].forEach(function(I){b[I]&&(B[I]=T[I]?M(T[I]).map(function(N,V){return m(b[I][V],N)}):b[I])}),B},E.prototype.addShapes=function(){(this.options.shapes||[]).forEach(function(b,T){b=this.initShape(b,T),m(!0,this.options.shapes[T],b.options)},this)},E.prototype.addLabels=function(){(this.options.labels||[]).forEach(function(b,T){b=this.initLabel(b,T),m(!0,this.options.labels[T],b.options)},this)},E.prototype.addClipPaths=function(){this.setClipAxes(),this.clipXAxis&&this.clipYAxis&&this.options.crop&&(this.clipRect=this.chart.renderer.clipRect(this.getClipBox()))},E.prototype.setClipAxes=function(){var b=this.chart.xAxis,T=this.chart.yAxis,B=(this.options.labels||[]).concat(this.options.shapes||[]).reduce(function(I,N){return N=N&&(N.point||N.points&&N.points[0]),[b[N&&N.xAxis]||I[0],T[N&&N.yAxis]||I[1]]},[]);this.clipXAxis=B[0],this.clipYAxis=B[1]},E.prototype.getClipBox=function(){if(this.clipXAxis&&this.clipYAxis)return{x:this.clipXAxis.left,y:this.clipYAxis.top,width:this.clipXAxis.width,height:this.clipYAxis.height}},E.prototype.setLabelCollector=function(){var b=this;b.labelCollector=function(){return b.labels.reduce(function(T,B){return B.options.allowOverlap||T.push(B.graphic),T},[])},b.chart.labelCollectors.push(b.labelCollector)},E.prototype.setOptions=function(b){this.options=m(this.defaultOptions,b)},E.prototype.redraw=function(b){this.linkPoints(),this.graphic||this.render(),this.clipRect&&this.clipRect.animate(this.getClipBox()),this.redrawItems(this.shapes,b),this.redrawItems(this.labels,b),w.redraw.call(this,b)},E.prototype.redrawItems=function(b,T){for(var B=b.length;B--;)this.redrawItem(b[B],T)},E.prototype.renderItems=function(b){for(var T=b.length;T--;)this.renderItem(b[T])},E.prototype.render=function(){var b=this.chart.renderer;this.graphic=b.g("annotation").attr({opacity:0,zIndex:this.options.zIndex,visibility:this.options.visible?"visible":"hidden"}).add(),this.shapesGroup=b.g("annotation-shapes").add(this.graphic),this.options.crop&&this.shapesGroup.clip(this.chart.plotBoxClip),this.labelsGroup=b.g("annotation-labels").attr({translateX:0,translateY:0}).add(this.graphic),this.addClipPaths(),this.clipRect&&this.graphic.clip(this.clipRect),this.renderItems(this.shapes),this.renderItems(this.labels),this.addEvents(),w.render.call(this)},E.prototype.setVisibility=function(b){var T=this.options,B=this.chart.navigationBindings;b=_(b,!T.visible),this.graphic.attr("visibility",b?"visible":"hidden"),b||(this.setControlPointsVisibility(!1),B.activeAnnotation===this&&B.popup&&B.popup.formType==="annotation-toolbar"&&k(B,"closePopup")),T.visible=b},E.prototype.setControlPointsVisibility=function(b){var T=function(B){B.setControlPointsVisibility(b)};w.setControlPointsVisibility.call(this,b),this.shapes.forEach(T),this.labels.forEach(T)},E.prototype.destroy=function(){var b=this.chart,T=function(B){B.destroy()};this.labels.forEach(T),this.shapes.forEach(T),this.clipYAxis=this.clipXAxis=null,g(b.labelCollectors,this.labelCollector),e.destroy.call(this),w.destroy.call(this),v(this,b)},E.prototype.remove=function(){return this.chart.removeAnnotation(this)},E.prototype.update=function(b,T){var B=this.chart,I=this.getLabelsAndShapesOptions(this.userOptions,b),N=B.annotations.indexOf(this);b=m(!0,this.userOptions,b),b.labels=I.labels,b.shapes=I.shapes,this.destroy(),this.constructor(B,b),B.options.annotations[N]=b,this.isUpdating=!0,_(T,!0)&&B.redraw(),k(this,"afterUpdate"),this.isUpdating=!1},E.prototype.initShape=function(b,T){return b=m(this.options.shapeOptions,{controlPointOptions:this.options.controlPointOptions},b),T=new E.shapesMap[b.type](this,b,T),T.itemType="shape",this.shapes.push(T),T},E.prototype.initLabel=function(b,T){return b=m(this.options.labelOptions,{controlPointOptions:this.options.controlPointOptions},b),T=new o(this,b,T),T.itemType="label",this.labels.push(T),T},E.prototype.redrawItem=function(b,T){b.linkPoints(),b.shouldBeDrawn()?(b.graphic||this.renderItem(b),b.redraw(_(T,!0)&&b.graphic.placed),b.points.length&&this.adjustVisibility(b)):this.destroyItem(b)},E.prototype.adjustVisibility=function(b){var T=!1,B=b.graphic;b.points.forEach(function(I){I.series.visible!==!1&&I.visible!==!1&&(T=!0)}),T?B.visibility==="hidden"&&B.show():B.hide()},E.prototype.destroyItem=function(b){g(this[b.itemType+"s"],b),b.destroy()},E.prototype.renderItem=function(b){b.render(b.itemType==="label"?this.labelsGroup:this.shapesGroup)},E.ControlPoint=t,E.MockPoint=n,E.shapesMap={rect:C,circle:O,ellipse:S,path:h,image:s},E.types={},E}();return m(!0,D.prototype,w,e,m(D.prototype,{nonDOMEvents:["add","afterUpdate","drag","remove"],defaultOptions:{visible:!0,animation:{},crop:!0,draggable:"xy",labelOptions:{align:"center",allowOverlap:!1,backgroundColor:"rgba(0, 0, 0, 0.75)",borderColor:"#000000",borderRadius:3,borderWidth:1,className:"highcharts-no-tooltip",crop:!1,formatter:function(){return A(this.y)?this.y:"Annotation label"},includeInDataExport:!0,overflow:"justify",padding:5,shadow:!1,shape:"callout",style:{fontSize:"11px",fontWeight:"normal",color:"contrast"},useHTML:!1,verticalAlign:"bottom",x:0,y:-16},shapeOptions:{stroke:"rgba(0, 0, 0, 0.75)",strokeWidth:1,fill:"rgba(0, 0, 0, 0.75)",r:0,snap:2},controlPointOptions:{symbol:"circle",width:10,height:10,style:{cursor:"pointer",fill:"#ffffff",stroke:"#000000","stroke-width":2},visible:!1,events:{}},events:{},zIndex:6}})),i.extendAnnotation=function(E,b,T,B){b=b||D,P(E.prototype,m(b.prototype,T)),E.prototype.defaultOptions=m(E.prototype.defaultOptions,B||{})},P(u,{initAnnotation:function(E){return E=new(D.types[E.type]||D)(this,E),this.annotations.push(E),E},addAnnotation:function(E,b){return E=this.initAnnotation(E),this.options.annotations.push(E.options),_(b,!0)&&(E.redraw(),E.graphic.attr({opacity:1})),E},removeAnnotation:function(E){var b=this.annotations,T=E.coll==="annotations"?E:x(b,function(B){return B.options.id===E});T&&(k(T,"remove"),g(this.options.annotations,T.options),g(b,T),T.destroy())},drawAnnotations:function(){this.plotBoxClip.attr(this.plotBox),this.annotations.forEach(function(E){E.redraw(),E.graphic.animate({opacity:1},E.animationConfig)})}}),u.collectionsWithUpdate.push("annotations"),u.collectionsWithInit.annotations=[u.addAnnotation],c(f,"afterInit",function(){this.annotations=[],this.options.annotations||(this.options.annotations=[])}),u.callbacks.push(function(E){E.plotBoxClip=this.renderer.clipRect(this.plotBox),E.controlPointsGroup=E.renderer.g("control-points").attr({zIndex:99}).clip(E.plotBoxClip).add(),E.options.annotations.forEach(function(b,T){if(!E.annotations.some(function(I){return I.options===b})){var B=E.initAnnotation(b);E.options.annotations[T]=B.options}}),E.drawAnnotations(),c(E,"redraw",E.drawAnnotations),c(E,"destroy",function(){E.plotBoxClip.destroy(),E.controlPointsGroup.destroy()}),c(E,"exportData",function(b){var T=(this.options.exporting&&this.options.exporting.csv||{}).columnHeaderFormatter,B=!b.dataRows[1].xValues,I=E.options.lang&&E.options.lang.exportData&&E.options.lang.exportData.annotationHeader,N=function($){if(T){var H=T($);if(H!==!1)return H}return H=I+" "+$,B?{columnTitle:H,topLevelColumnTitle:H}:H},V=b.dataRows[0].length,j=E.options.exporting&&E.options.exporting.csv&&E.options.exporting.csv.annotations&&E.options.exporting.csv.annotations.itemDelimiter,R=E.options.exporting&&E.options.exporting.csv&&E.options.exporting.csv.annotations&&E.options.exporting.csv.annotations.join;E.annotations.forEach(function($){$.options.labelOptions.includeInDataExport&&$.labels.forEach(function(H){if(H.options.text){var Z=H.options.text;H.points.forEach(function(q){var st=q.x,et=q.series.xAxis?q.series.xAxis.options.index:-1,ot=!1;if(et===-1){q=b.dataRows[0].length;for(var G=Array(q),Q=0;Q<q;++Q)G[Q]="";G.push(Z),G.xValues=[],G.xValues[et]=st,b.dataRows.push(G),ot=!0}if(ot||b.dataRows.forEach(function(it){!ot&&it.xValues&&et!==void 0&&st===it.xValues[et]&&(R&&it.length>V?it[it.length-1]+=j+Z:it.push(Z),ot=!0)}),!ot){for(q=b.dataRows[0].length,G=Array(q),Q=0;Q<q;++Q)G[Q]="";G[0]=st,G.push(Z),G.xValues=[],et!==void 0&&(G.xValues[et]=st),b.dataRows.push(G)}})}})});var F=0;b.dataRows.forEach(function($){F=Math.max(F,$.length)});for(var Y=F-b.dataRows[0].length,z=0;z<Y;z++){var W=N(z+1);B?(b.dataRows[0].push(W.topLevelColumnTitle),b.dataRows[1].push(W.columnTitle)):b.dataRows[0].push(W)}})}),p(l.prototype,"onContainerMouseDown",function(E){this.chart.hasDraggedAnnotation||E.apply(this,Array.prototype.slice.call(arguments,1))}),i.Annotation=D,D}),L(a,"Core/Chart/ChartNavigationComposition.js",[],function(){var u;return function(f){f.compose=function(C){return C.navigation||(C.navigation=new w(C)),C};var w=function(){function C(O){this.updates=[],this.chart=O}return C.prototype.addUpdate=function(O){this.chart.navigation.updates.push(O)},C.prototype.update=function(O,S){var h=this;this.updates.forEach(function(s){s.call(h.chart,O,S)})},C}();f.Additions=w}(u||(u={})),u}),L(a,"Extensions/Annotations/NavigationBindings.js",[a["Extensions/Annotations/Annotations.js"],a["Core/Chart/Chart.js"],a["Core/Chart/ChartNavigationComposition.js"],a["Core/FormatUtilities.js"],a["Core/Globals.js"],a["Core/DefaultOptions.js"],a["Core/Utilities.js"]],function(u,f,w,C,O,S,h){function s(m,_){var M=x.Element.prototype,D=M.matches||M.msMatchesSelector||M.webkitMatchesSelector,E=null;if(M.closest)E=M.closest.call(m,_);else do{if(D.call(m,_))return m;m=m.parentElement||m.parentNode}while(m!==null&&m.nodeType===1);return E}function o(m){var _=m.prototype.defaultOptions.events&&m.prototype.defaultOptions.events.click;A(!0,m.prototype.defaultOptions.events,{click:function(M){var D=this,E=D.chart.navigationBindings,b=E.activeAnnotation;_&&_.call(D,M),b!==D?(E.deselectAnnotation(),E.activeAnnotation=D,D.setControlPointsVisibility(!0),n(E,"showPopup",{annotation:D,formType:"annotation-toolbar",options:E.annotationToFields(D),onSubmit:function(T){var B={};T.actionType==="remove"?(E.activeAnnotation=!1,E.chart.removeAnnotation(D)):(E.fieldsToOptions(T.fields,B),E.deselectAnnotation(),T=B.typeOptions,D.options.type==="measure"&&(T.crosshairY.enabled=T.crosshairY.strokeWidth!==0,T.crosshairX.enabled=T.crosshairX.strokeWidth!==0),D.update(B))}})):n(E,"closePopup"),M.activeAnnotation=!0}})}var t=C.format;C=S.setOptions;var e=h.addEvent,i=h.attr,n=h.fireEvent,l=h.isArray,p=h.isFunction,r=h.isNumber,c=h.isObject,A=h.merge,v=h.objectEach,g=h.pick,P=O.doc,x=O.win,k=function(){function m(_,M){this.selectedButton=this.boundClassNames=void 0,this.chart=_,this.options=M,this.eventsToUnbind=[],this.container=P.getElementsByClassName(this.options.bindingsClassName||"")}return m.prototype.initEvents=function(){var _=this,M=_.chart,D=_.container,E=_.options;_.boundClassNames={},v(E.bindings||{},function(b){_.boundClassNames[b.className]=b}),[].forEach.call(D,function(b){_.eventsToUnbind.push(e(b,"click",function(T){var B=_.getButtonEvents(b,T);B&&B.button.className.indexOf("highcharts-disabled-btn")===-1&&_.bindingsButtonClick(B.button,B.events,T)}))}),v(E.events||{},function(b,T){p(b)&&_.eventsToUnbind.push(e(_,T,b,{passive:!1}))}),_.eventsToUnbind.push(e(M.container,"click",function(b){!M.cancelClick&&M.isInsidePlot(b.chartX-M.plotLeft,b.chartY-M.plotTop,{visiblePlotOnly:!0})&&_.bindingsChartClick(this,b)})),_.eventsToUnbind.push(e(M.container,O.isTouchDevice?"touchmove":"mousemove",function(b){_.bindingsContainerMouseMove(this,b)},O.isTouchDevice?{passive:!1}:void 0))},m.prototype.initUpdate=function(){var _=this;w.compose(this.chart).navigation.addUpdate(function(M){_.update(M)})},m.prototype.bindingsButtonClick=function(_,M,D){var E=this.chart,b=E.renderer.boxWrapper,T=!0;this.selectedButtonElement&&(this.selectedButtonElement.classList===_.classList&&(T=!1),n(this,"deselectButton",{button:this.selectedButtonElement}),this.nextEvent&&(this.currentUserDetails&&this.currentUserDetails.coll==="annotations"&&E.removeAnnotation(this.currentUserDetails),this.mouseMoveEvent=this.nextEvent=!1)),T?(this.selectedButton=M,this.selectedButtonElement=_,n(this,"selectButton",{button:_}),M.init&&M.init.call(this,_,D),(M.start||M.steps)&&E.renderer.boxWrapper.addClass("highcharts-draw-mode")):(E.stockTools&&E.stockTools.toggleButtonAciveClass(_),b.removeClass("highcharts-draw-mode"),this.mouseMoveEvent=this.nextEvent=!1,this.selectedButton=null)},m.prototype.bindingsChartClick=function(_,M){_=this.chart;var D=this.activeAnnotation,E=this.selectedButton;_=_.renderer.boxWrapper,D&&(D.cancelClick||M.activeAnnotation||!M.target.parentNode||s(M.target,".highcharts-popup")?D.cancelClick&&setTimeout(function(){D.cancelClick=!1},0):n(this,"closePopup")),E&&E.start&&(this.nextEvent?(this.nextEvent(M,this.currentUserDetails),this.steps&&(this.stepIndex++,E.steps[this.stepIndex]?this.mouseMoveEvent=this.nextEvent=E.steps[this.stepIndex]:(n(this,"deselectButton",{button:this.selectedButtonElement}),_.removeClass("highcharts-draw-mode"),E.end&&E.end.call(this,M,this.currentUserDetails),this.mouseMoveEvent=this.nextEvent=!1,this.selectedButton=null))):(this.currentUserDetails=E.start.call(this,M))&&E.steps?(this.stepIndex=0,this.steps=!0,this.mouseMoveEvent=this.nextEvent=E.steps[this.stepIndex]):(n(this,"deselectButton",{button:this.selectedButtonElement}),_.removeClass("highcharts-draw-mode"),this.steps=!1,this.selectedButton=null,E.end&&E.end.call(this,M,this.currentUserDetails)))},m.prototype.bindingsContainerMouseMove=function(_,M){this.mouseMoveEvent&&this.mouseMoveEvent(M,this.currentUserDetails)},m.prototype.fieldsToOptions=function(_,M){return v(_,function(D,E){var b=parseFloat(D),T=E.split("."),B=M,I=T.length-1;!r(b)||D.match(/px/g)||E.match(/format/g)||(D=b),D!==""&&D!=="undefined"&&T.forEach(function(N,V){var j=g(T[V+1],"");I===V?B[N]=D:(B[N]||(B[N]=j.match(/\d/g)?[]:{}),B=B[N])})}),M},m.prototype.deselectAnnotation=function(){this.activeAnnotation&&(this.activeAnnotation.setControlPointsVisibility(!1),this.activeAnnotation=!1)},m.prototype.annotationToFields=function(_){function M(V,j,R,F){if(R&&V&&I.indexOf(j)===-1&&(0<=(R.indexOf&&R.indexOf(j))||R[j]||R===!0))if(l(V))F[j]=[],V.forEach(function(z,W){c(z)?(F[j][W]={},v(z,function($,H){M($,H,b[j],F[j][W])})):M(z,0,b[j],F[j])});else if(c(V)){var Y={};l(F)?(F.push(Y),Y[j]={},Y=Y[j]):F[j]=Y,v(V,function(z,W){M(z,W,j===0?R:b[j],Y)})}else j==="format"?F[j]=[t(V,_.labels[0].points[0]).toString(),"text"]:l(F)?F.push([V,T(V)]):F[j]=[V,T(V)]}var D=_.options,E=m.annotationsEditable,b=E.nestedOptions,T=this.utils.getFieldType,B=g(D.type,D.shapes&&D.shapes[0]&&D.shapes[0].type,D.labels&&D.labels[0]&&D.labels[0].itemType,"label"),I=m.annotationsNonEditable[D.langKey]||[],N={langKey:D.langKey,type:B};return v(D,function(V,j){j==="typeOptions"?(N[j]={},v(D[j],function(R,F){M(R,F,b,N[j])})):M(V,j,E[B],N)}),N},m.prototype.getClickedClassNames=function(_,M){var D=M.target;M=[];for(var E;D&&((E=i(D,"class"))&&(M=M.concat(E.split(" ").map(function(b){return[b,D]}))),D=D.parentNode,D!==_););return M},m.prototype.getButtonEvents=function(_,M){var D=this,E;return this.getClickedClassNames(_,M).forEach(function(b){D.boundClassNames[b[0]]&&!E&&(E={events:D.boundClassNames[b[0]],button:b[1]})}),E},m.prototype.update=function(_){this.options=A(!0,this.options,_),this.removeEvents(),this.initEvents()},m.prototype.removeEvents=function(){this.eventsToUnbind.forEach(function(_){_()})},m.prototype.destroy=function(){this.removeEvents()},m.annotationsEditable={nestedOptions:{labelOptions:["style","format","backgroundColor"],labels:["style"],label:["style"],style:["fontSize","color"],background:["fill","strokeWidth","stroke"],innerBackground:["fill","strokeWidth","stroke"],outerBackground:["fill","strokeWidth","stroke"],shapeOptions:["fill","strokeWidth","stroke"],shapes:["fill","strokeWidth","stroke"],line:["strokeWidth","stroke"],backgroundColors:[!0],connector:["fill","strokeWidth","stroke"],crosshairX:["strokeWidth","stroke"],crosshairY:["strokeWidth","stroke"]},circle:["shapes"],ellipse:["shapes"],verticalLine:[],label:["labelOptions"],measure:["background","crosshairY","crosshairX"],fibonacci:[],tunnel:["background","line","height"],pitchfork:["innerBackground","outerBackground"],rect:["shapes"],crookedLine:[],basicAnnotation:["shapes","labelOptions"]},m.annotationsNonEditable={rectangle:["crosshairX","crosshairY","labelOptions"],ellipse:["labelOptions"],circle:["labelOptions"]},m}();return k.prototype.utils={getFieldType:function(m){return{string:"text",number:"number",boolean:"checkbox"}[typeof m]},updateRectSize:function(m,_){var M=_.chart,D=_.options.typeOptions,E=r(D.xAxis)&&M.xAxis[D.xAxis],b=r(D.yAxis)&&M.yAxis[D.yAxis];E&&b&&(E=E.toValue(m[E.horiz?"chartX":"chartY"]),m=b.toValue(m[b.horiz?"chartX":"chartY"]),b=E-D.point.x,D=D.point.y-m,_.update({typeOptions:{background:{width:M.inverted?D:b,height:M.inverted?b:D}}}))},getAssignedAxis:function(m){return m.filter(function(_){var M=_.axis.getExtremes(),D=M.min;M=M.max;var E=g(_.axis.minPointOffset,0);return r(D)&&r(M)&&_.value>=D-E&&_.value<=M+E&&!_.axis.options.isInternal})[0]}},f.prototype.initNavigationBindings=function(){var m=this.options;m&&m.navigation&&m.navigation.bindings&&(this.navigationBindings=new k(this,m.navigation),this.navigationBindings.initEvents(),this.navigationBindings.initUpdate())},e(f,"load",function(){this.initNavigationBindings()}),e(f,"destroy",function(){this.navigationBindings&&this.navigationBindings.destroy()}),e(k,"deselectButton",function(){this.selectedButtonElement=null}),e(u,"remove",function(){this.chart.navigationBindings&&this.chart.navigationBindings.deselectAnnotation()}),O.Annotation&&(o(u),v(u.types,function(m){o(m)})),C({lang:{navigation:{popup:{simpleShapes:"Simple shapes",lines:"Lines",circle:"Circle",ellipse:"Ellipse",rectangle:"Rectangle",label:"Label",shapeOptions:"Shape options",typeOptions:"Details",fill:"Fill",format:"Text",strokeWidth:"Line width",stroke:"Line color",title:"Title",name:"Name",labelOptions:"Label options",labels:"Labels",backgroundColor:"Background color",backgroundColors:"Background colors",borderColor:"Border color",borderRadius:"Border radius",borderWidth:"Border width",style:"Style",padding:"Padding",fontSize:"Font size",color:"Color",height:"Height",shapes:"Shape options"}}},navigation:{bindingsClassName:"highcharts-bindings-container",bindings:{circleAnnotation:{className:"highcharts-circle-annotation",start:function(m){var _=this.chart.pointer.getCoordinates(m);m=this.utils.getAssignedAxis(_.xAxis),_=this.utils.getAssignedAxis(_.yAxis);var M=this.chart.options.navigation;if(m&&_)return this.chart.addAnnotation(A({langKey:"circle",type:"basicAnnotation",shapes:[{type:"circle",point:{x:m.value,y:_.value,xAxis:m.axis.options.index,yAxis:_.axis.options.index},r:5}]},M.annotationsOptions,M.bindings.circleAnnotation.annotationsOptions))},steps:[function(m,_){var M=_.options.shapes[0].point;if(r(M.xAxis)&&r(M.yAxis)){var D=this.chart.inverted,E=this.chart.xAxis[M.xAxis].toPixels(M.x);M=this.chart.yAxis[M.yAxis].toPixels(M.y),D=Math.max(Math.sqrt(Math.pow(D?M-m.chartX:E-m.chartX,2)+Math.pow(D?E-m.chartY:M-m.chartY,2)),5)}_.update({shapes:[{r:D}]})}]},ellipseAnnotation:{className:"highcharts-ellipse-annotation",start:function(m){var _=this.chart.pointer.getCoordinates(m);m=this.utils.getAssignedAxis(_.xAxis),_=this.utils.getAssignedAxis(_.yAxis);var M=this.chart.options.navigation;if(m&&_)return this.chart.addAnnotation(A({langKey:"ellipse",type:"basicAnnotation",shapes:[{type:"ellipse",xAxis:m.axis.options.index,yAxis:_.axis.options.index,points:[{x:m.value,y:_.value},{x:m.value,y:_.value}],ry:1}]},M.annotationsOptions,M.bindings.ellipseAnnotation.annotationOptions))},steps:[function(m,_){_=_.shapes[0];var M=_.getAbsolutePosition(_.points[1]);_.translatePoint(m.chartX-M.x,m.chartY-M.y,1),_.redraw(!1)},function(m,_){_=_.shapes[0];var M=_.getAbsolutePosition(_.points[0]),D=_.getAbsolutePosition(_.points[1]);m=_.getDistanceFromLine(M,D,m.chartX,m.chartY),M=_.getYAxis(),m=Math.abs(M.toValue(0)-M.toValue(m)),_.setYRadius(m),_.redraw(!1)}]},rectangleAnnotation:{className:"highcharts-rectangle-annotation",start:function(m){m=this.chart.pointer.getCoordinates(m);var _=this.utils.getAssignedAxis(m.xAxis),M=this.utils.getAssignedAxis(m.yAxis);if(_&&M){m=_.value;var D=M.value;_=_.axis.options.index,M=M.axis.options.index;var E=this.chart.options.navigation;return this.chart.addAnnotation(A({langKey:"rectangle",type:"basicAnnotation",shapes:[{type:"path",points:[{xAxis:_,yAxis:M,x:m,y:D},{xAxis:_,yAxis:M,x:m,y:D},{xAxis:_,yAxis:M,x:m,y:D},{xAxis:_,yAxis:M,x:m,y:D},{command:"Z"}]}]},E.annotationsOptions,E.bindings.rectangleAnnotation.annotationsOptions))}},steps:[function(m,_){var M=_.options.shapes[0].points,D=this.chart.pointer.getCoordinates(m);m=this.utils.getAssignedAxis(D.xAxis),D=this.utils.getAssignedAxis(D.yAxis),m&&D&&(m=m.value,D=D.value,M[1].x=m,M[2].x=m,M[2].y=D,M[3].y=D,_.update({shapes:[{points:M}]}))}]},labelAnnotation:{className:"highcharts-label-annotation",start:function(m){var _=this.chart.pointer.getCoordinates(m);m=this.utils.getAssignedAxis(_.xAxis),_=this.utils.getAssignedAxis(_.yAxis);var M=this.chart.options.navigation;if(m&&_)return this.chart.addAnnotation(A({langKey:"label",type:"basicAnnotation",labelOptions:{format:"{y:.2f}"},labels:[{point:{xAxis:m.axis.options.index,yAxis:_.axis.options.index,x:m.value,y:_.value},overflow:"none",crop:!0}]},M.annotationsOptions,M.bindings.labelAnnotation.annotationsOptions))}}},events:{},annotationsOptions:{animation:{defer:0}}}}),e(f,"render",function(){var m=this,_=m.navigationBindings;if(m&&_){var M=!1;m.series.forEach(function(D){!D.options.isInternal&&D.visible&&(M=!0)}),v(_.boundClassNames,function(D,E){if(m.navigationBindings&&m.navigationBindings.container&&m.navigationBindings.container[0]&&(E=m.navigationBindings.container[0].querySelectorAll("."+E)))for(var b=0;b<E.length;b++){var T=E[b],B=T.className;D.noDataState==="normal"||M?B.indexOf("highcharts-disabled-btn")!==-1&&T.classList.remove("highcharts-disabled-btn"):B.indexOf("highcharts-disabled-btn")===-1&&(T.className+=" highcharts-disabled-btn")}})}}),e(k,"closePopup",function(){this.deselectAnnotation()}),k}),L(a,"Stock/StockToolsBindings.js",[a["Core/DefaultOptions.js"],a["Core/Globals.js"],a["Extensions/Annotations/NavigationBindings.js"],a["Core/Series/Series.js"],a["Core/Utilities.js"]],function(u,f,w,C,O){var S=u.getOptions;u=u.setOptions;var h=O.correctFloat,s=O.defined,o=O.extend,t=O.fireEvent,e=O.isNumber,i=O.merge,n=O.pick,l=O.uniqueKey,p=w.prototype.utils;p.addFlagFromForm=function(r){return function(c){var A=this,v=A.chart,g=v.stockTools,P=p.getFieldType;if(c=p.attractToPoint(c,v),c){var x={type:"flags",onSeries:c.series.id,shape:r,data:[{x:c.x,y:c.y}],xAxis:c.xAxis,yAxis:c.yAxis,point:{events:{click:function(){var k=this,m=k.options;t(A,"showPopup",{point:k,formType:"annotation-toolbar",options:{langKey:"flags",type:"flags",title:[m.title,P(m.title)],name:[m.name,P(m.name)]},onSubmit:function(_){_.actionType==="remove"?k.remove():k.update(A.fieldsToOptions(_.fields,{}))}})}}}};g&&g.guiEnabled||v.addSeries(x),t(A,"showPopup",{formType:"flag",options:{langKey:"flags",type:"flags",title:["A",P("A")],name:["Flag A",P("Flag A")]},onSubmit:function(k){A.fieldsToOptions(k.fields,x.data[0]),v.addSeries(x)}})}}},p.indicatorsWithAxes="apo ad aroon aroonoscillator atr ao cci chaikin cmf cmo disparityindex dmi dpo linearRegressionAngle linearRegressionIntercept linearRegressionSlope klinger macd mfi momentum natr obv ppo roc rsi slowstochastic stochastic trix williamsr".split(" "),p.manageIndicators=function(r){var c=this.chart,A={linkedTo:r.linkedTo,type:r.type},v="ad cmf klinger mfi obv vbp vwap".split(" "),g=p.indicatorsWithAxes;if(r.actionType==="edit")this.fieldsToOptions(r.fields,A),(r=c.get(r.seriesId))&&r.update(A,!1);else if(r.actionType==="remove"){if(r=c.get(r.seriesId)){var P=r.yAxis;r.linkedSeries&&r.linkedSeries.forEach(function(k){k.remove(!1)}),r.remove(!1),0<=g.indexOf(r.type)&&(A=P.options.height,P.remove(!1),this.resizeYAxes(A))}}else{A.id=l(),this.fieldsToOptions(r.fields,A),P=c.get(A.linkedTo);var x=S().plotOptions;typeof P!="undefined"&&P instanceof C&&P.getDGApproximation()==="sum"&&!s(x&&x[A.type]&&x.dataGrouping&&x.dataGrouping.approximation)&&(A.dataGrouping={approximation:"sum"}),0<=g.indexOf(r.type)?(P=c.addAxis({id:l(),offset:0,opposite:!0,title:{text:""},tickPixelInterval:40,showLastLabel:!1,labels:{align:"left",y:-2}},!1,!1),A.yAxis=P.options.id,this.resizeYAxes()):A.yAxis=c.get(r.linkedTo).options.yAxis,0<=v.indexOf(r.type)&&(A.params.volumeSeriesID=c.series.filter(function(k){return k.options.type==="column"})[0].options.id),c.addSeries(A,!1)}t(this,"deselectButton",{button:this.selectedButtonElement}),c.redraw()},p.updateHeight=function(r,c){var A=c.options.typeOptions,v=e(A.yAxis)&&this.chart.yAxis[A.yAxis];v&&A.points&&c.update({typeOptions:{height:v.toValue(r[v.horiz?"chartX":"chartY"])-(A.points[1].y||0)}})},p.attractToPoint=function(r,c){r=c.pointer.getCoordinates(r);var A=Number.MAX_VALUE,v;if(c.navigationBindings)var g=c.navigationBindings.utils.getAssignedAxis(r.xAxis),P=c.navigationBindings.utils.getAssignedAxis(r.yAxis);if(g&&P){var x=g.value;if(c=P.value,P.axis.series.forEach(function(k){k.points&&k.points.forEach(function(m){m&&A>Math.abs(m.x-x)&&(A=Math.abs(m.x-x),v=m)})}),v&&v.x&&v.y)return{x:v.x,y:v.y,below:c<v.y,series:v.series,xAxis:v.series.xAxis.options.index||0,yAxis:v.series.yAxis.options.index||0}}},p.isNotNavigatorYAxis=function(r){return r.userOptions.className!=="highcharts-navigator-yaxis"},p.isPriceIndicatorEnabled=function(r){return r.some(function(c){return c.lastVisiblePrice||c.lastPrice})},p.updateNthPoint=function(r){return function(c,A){var v=A.options.typeOptions,g=e(v.xAxis)&&this.chart.xAxis[v.xAxis],P=e(v.yAxis)&&this.chart.yAxis[v.yAxis];g&&P&&(v.points.forEach(function(x,k){k>=r&&(x.x=g.toValue(c[g.horiz?"chartX":"chartY"]),x.y=P.toValue(c[P.horiz?"chartX":"chartY"]))}),A.update({typeOptions:{points:v.points}}))}},o(w.prototype,{getYAxisPositions:function(r,c,A,v){function g(m){return s(m)&&!e(m)&&m.match("%")}var P=0,x,k;return v&&(k=h(parseFloat(v)/100)),{positions:r.map(function(m,_){var M=h(g(m.options.height)?parseFloat(m.options.height)/100:m.height/c);return m=h(g(m.options.top)?parseFloat(m.options.top)/100:(m.top-m.chart.plotTop)/c),k?m<=P?P=h(Math.max(P,(m||0)+(M||0))):(m=h(m-k),P=h(P+M)):(e(M)||(M=r[_-1].series.every(function(D){return D.is("sma")})?x:A/100),e(m)||(m=P),x=M,P=h(Math.max(P,(m||0)+(M||0)))),{height:100*M,top:100*m}}),allAxesHeight:P}},getYAxisResizers:function(r){var c=[];return r.forEach(function(A,v){A=r[v+1],c[v]=A?{enabled:!0,controlledAxis:{next:[n(A.options.id,A.options.index)]}}:{enabled:!1}}),c},resizeYAxes:function(r){var c=this.chart,A=c.yAxis.filter(p.isNotNavigatorYAxis);c=this.getYAxisPositions(A,c.plotHeight,20,r);var v=c.positions,g=c.allAxesHeight,P=this.getYAxisResizers(A);!r&&g<=h(1)?v[v.length-1]={height:20,top:h(100*g-20)}:v.forEach(function(x){x.height=x.height/(100*g)*100,x.top=x.top/(100*g)*100}),v.forEach(function(x,k){A[k].update({height:x.height+"%",top:x.top+"%",resize:P[k],offset:0},!1)})},recalculateYAxisPositions:function(r,c,A,v){return r.forEach(function(g,P){P=r[P-1],g.top=P?h(P.height+P.top):0,A&&(g.height=h(g.height+v*c))}),r}}),O={segment:{className:"highcharts-segment",start:function(r){var c=this.chart.pointer.getCoordinates(r);r=this.utils.getAssignedAxis(c.xAxis),c=this.utils.getAssignedAxis(c.yAxis);var A=this.chart.options.navigation;if(r&&c)return r=i({langKey:"segment",type:"crookedLine",typeOptions:{xAxis:r.axis.options.index,yAxis:c.axis.options.index,points:[{x:r.value,y:c.value},{x:r.value,y:c.value}]}},A.annotationsOptions,A.bindings.segment.annotationsOptions),this.chart.addAnnotation(r)},steps:[p.updateNthPoint(1)]},arrowSegment:{className:"highcharts-arrow-segment",start:function(r){var c=this.chart.pointer.getCoordinates(r);r=this.utils.getAssignedAxis(c.xAxis),c=this.utils.getAssignedAxis(c.yAxis);var A=this.chart.options.navigation;if(r&&c)return r=i({langKey:"arrowSegment",type:"crookedLine",typeOptions:{line:{markerEnd:"arrow"},xAxis:r.axis.options.index,yAxis:c.axis.options.index,points:[{x:r.value,y:c.value},{x:r.value,y:c.value}]}},A.annotationsOptions,A.bindings.arrowSegment.annotationsOptions),this.chart.addAnnotation(r)},steps:[p.updateNthPoint(1)]},ray:{className:"highcharts-ray",start:function(r){var c=this.chart.pointer.getCoordinates(r);r=this.utils.getAssignedAxis(c.xAxis),c=this.utils.getAssignedAxis(c.yAxis);var A=this.chart.options.navigation;if(r&&c)return r=i({langKey:"ray",type:"infinityLine",typeOptions:{type:"ray",xAxis:r.axis.options.index,yAxis:c.axis.options.index,points:[{x:r.value,y:c.value},{x:r.value,y:c.value}]}},A.annotationsOptions,A.bindings.ray.annotationsOptions),this.chart.addAnnotation(r)},steps:[p.updateNthPoint(1)]},arrowRay:{className:"highcharts-arrow-ray",start:function(r){var c=this.chart.pointer.getCoordinates(r);r=this.utils.getAssignedAxis(c.xAxis),c=this.utils.getAssignedAxis(c.yAxis);var A=this.chart.options.navigation;if(r&&c)return r=i({langKey:"arrowRay",type:"infinityLine",typeOptions:{type:"ray",line:{markerEnd:"arrow"},xAxis:r.axis.options.index,yAxis:c.axis.options.index,points:[{x:r.value,y:c.value},{x:r.value,y:c.value}]}},A.annotationsOptions,A.bindings.arrowRay.annotationsOptions),this.chart.addAnnotation(r)},steps:[p.updateNthPoint(1)]},infinityLine:{className:"highcharts-infinity-line",start:function(r){var c=this.chart.pointer.getCoordinates(r);r=this.utils.getAssignedAxis(c.xAxis),c=this.utils.getAssignedAxis(c.yAxis);var A=this.chart.options.navigation;if(r&&c)return r=i({langKey:"infinityLine",type:"infinityLine",typeOptions:{type:"line",xAxis:r.axis.options.index,yAxis:c.axis.options.index,points:[{x:r.value,y:c.value},{x:r.value,y:c.value}]}},A.annotationsOptions,A.bindings.infinityLine.annotationsOptions),this.chart.addAnnotation(r)},steps:[p.updateNthPoint(1)]},arrowInfinityLine:{className:"highcharts-arrow-infinity-line",start:function(r){var c=this.chart.pointer.getCoordinates(r);r=this.utils.getAssignedAxis(c.xAxis),c=this.utils.getAssignedAxis(c.yAxis);var A=this.chart.options.navigation;if(r&&c)return r=i({langKey:"arrowInfinityLine",type:"infinityLine",typeOptions:{type:"line",line:{markerEnd:"arrow"},xAxis:r.axis.options.index,yAxis:c.axis.options.index,points:[{x:r.value,y:c.value},{x:r.value,y:c.value}]}},A.annotationsOptions,A.bindings.arrowInfinityLine.annotationsOptions),this.chart.addAnnotation(r)},steps:[p.updateNthPoint(1)]},horizontalLine:{className:"highcharts-horizontal-line",start:function(r){var c=this.chart.pointer.getCoordinates(r);r=this.utils.getAssignedAxis(c.xAxis),c=this.utils.getAssignedAxis(c.yAxis);var A=this.chart.options.navigation;r&&c&&(r=i({langKey:"horizontalLine",type:"infinityLine",draggable:"y",typeOptions:{type:"horizontalLine",xAxis:r.axis.options.index,yAxis:c.axis.options.index,points:[{x:r.value,y:c.value}]}},A.annotationsOptions,A.bindings.horizontalLine.annotationsOptions),this.chart.addAnnotation(r))}},verticalLine:{className:"highcharts-vertical-line",start:function(r){var c=this.chart.pointer.getCoordinates(r);r=this.utils.getAssignedAxis(c.xAxis),c=this.utils.getAssignedAxis(c.yAxis);var A=this.chart.options.navigation;r&&c&&(r=i({langKey:"verticalLine",type:"infinityLine",draggable:"x",typeOptions:{type:"verticalLine",xAxis:r.axis.options.index,yAxis:c.axis.options.index,points:[{x:r.value,y:c.value}]}},A.annotationsOptions,A.bindings.verticalLine.annotationsOptions),this.chart.addAnnotation(r))}},crooked3:{className:"highcharts-crooked3",start:function(r){var c=this.chart.pointer.getCoordinates(r);if(r=this.utils.getAssignedAxis(c.xAxis),c=this.utils.getAssignedAxis(c.yAxis),r&&c){var A=r.value,v=c.value,g=this.chart.options.navigation;return r=i({langKey:"crooked3",type:"crookedLine",typeOptions:{xAxis:r.axis.options.index,yAxis:c.axis.options.index,points:[{x:A,y:v},{x:A,y:v},{x:A,y:v}]}},g.annotationsOptions,g.bindings.crooked3.annotationsOptions),this.chart.addAnnotation(r)}},steps:[p.updateNthPoint(1),p.updateNthPoint(2)]},crooked5:{className:"highcharts-crooked5",start:function(r){var c=this.chart.pointer.getCoordinates(r);if(r=this.utils.getAssignedAxis(c.xAxis),c=this.utils.getAssignedAxis(c.yAxis),r&&c){var A=r.value,v=c.value,g=this.chart.options.navigation;return r=i({langKey:"crooked5",type:"crookedLine",typeOptions:{xAxis:r.axis.options.index,yAxis:c.axis.options.index,points:[{x:A,y:v},{x:A,y:v},{x:A,y:v},{x:A,y:v},{x:A,y:v}]}},g.annotationsOptions,g.bindings.crooked5.annotationsOptions),this.chart.addAnnotation(r)}},steps:[p.updateNthPoint(1),p.updateNthPoint(2),p.updateNthPoint(3),p.updateNthPoint(4)]},elliott3:{className:"highcharts-elliott3",start:function(r){var c=this.chart.pointer.getCoordinates(r);if(r=this.utils.getAssignedAxis(c.xAxis),c=this.utils.getAssignedAxis(c.yAxis),r&&c){var A=r.value,v=c.value,g=this.chart.options.navigation;return r=i({langKey:"elliott3",type:"elliottWave",typeOptions:{xAxis:r.axis.options.index,yAxis:c.axis.options.index,points:[{x:A,y:v},{x:A,y:v},{x:A,y:v},{x:A,y:v}]},labelOptions:{style:{color:"#666666"}}},g.annotationsOptions,g.bindings.elliott3.annotationsOptions),this.chart.addAnnotation(r)}},steps:[p.updateNthPoint(1),p.updateNthPoint(2),p.updateNthPoint(3)]},elliott5:{className:"highcharts-elliott5",start:function(r){var c=this.chart.pointer.getCoordinates(r);if(r=this.utils.getAssignedAxis(c.xAxis),c=this.utils.getAssignedAxis(c.yAxis),r&&c){var A=r.value,v=c.value,g=this.chart.options.navigation;return r=i({langKey:"elliott5",type:"elliottWave",typeOptions:{xAxis:r.axis.options.index,yAxis:c.axis.options.index,points:[{x:A,y:v},{x:A,y:v},{x:A,y:v},{x:A,y:v},{x:A,y:v},{x:A,y:v}]},labelOptions:{style:{color:"#666666"}}},g.annotationsOptions,g.bindings.elliott5.annotationsOptions),this.chart.addAnnotation(r)}},steps:[p.updateNthPoint(1),p.updateNthPoint(2),p.updateNthPoint(3),p.updateNthPoint(4),p.updateNthPoint(5)]},measureX:{className:"highcharts-measure-x",start:function(r){var c=this.chart.pointer.getCoordinates(r);if(r=this.utils.getAssignedAxis(c.xAxis),c=this.utils.getAssignedAxis(c.yAxis),r&&c){var A=this.chart.options.navigation;return r=i({langKey:"measure",type:"measure",typeOptions:{selectType:"x",xAxis:r.axis.options.index,yAxis:c.axis.options.index,point:{x:r.value,y:c.value},crosshairX:{strokeWidth:1,stroke:"#000000"},crosshairY:{enabled:!1,strokeWidth:0,stroke:"#000000"},background:{width:0,height:0,strokeWidth:0,stroke:"#ffffff"}},labelOptions:{style:{color:"#666666"}}},A.annotationsOptions,A.bindings.measureX.annotationsOptions),this.chart.addAnnotation(r)}},steps:[p.updateRectSize]},measureY:{className:"highcharts-measure-y",start:function(r){var c=this.chart.pointer.getCoordinates(r);if(r=this.utils.getAssignedAxis(c.xAxis),c=this.utils.getAssignedAxis(c.yAxis),r&&c){var A=this.chart.options.navigation;return r=i({langKey:"measure",type:"measure",typeOptions:{selectType:"y",xAxis:r.axis.options.index,yAxis:c.axis.options.index,point:{x:r.value,y:c.value},crosshairX:{enabled:!1,strokeWidth:0,stroke:"#000000"},crosshairY:{strokeWidth:1,stroke:"#000000"},background:{width:0,height:0,strokeWidth:0,stroke:"#ffffff"}},labelOptions:{style:{color:"#666666"}}},A.annotationsOptions,A.bindings.measureY.annotationsOptions),this.chart.addAnnotation(r)}},steps:[p.updateRectSize]},measureXY:{className:"highcharts-measure-xy",start:function(r){var c=this.chart.pointer.getCoordinates(r);if(r=this.utils.getAssignedAxis(c.xAxis),c=this.utils.getAssignedAxis(c.yAxis),r&&c){var A=this.chart.options.navigation;return r=i({langKey:"measure",type:"measure",typeOptions:{selectType:"xy",xAxis:r.axis.options.index,yAxis:c.axis.options.index,point:{x:r.value,y:c.value},background:{width:0,height:0,strokeWidth:10},crosshairX:{strokeWidth:1,stroke:"#000000"},crosshairY:{strokeWidth:1,stroke:"#000000"}},labelOptions:{style:{color:"#666666"}}},A.annotationsOptions,A.bindings.measureXY.annotationsOptions),this.chart.addAnnotation(r)}},steps:[p.updateRectSize]},fibonacci:{className:"highcharts-fibonacci",start:function(r){var c=this.chart.pointer.getCoordinates(r);if(r=this.utils.getAssignedAxis(c.xAxis),c=this.utils.getAssignedAxis(c.yAxis),r&&c){var A=r.value,v=c.value,g=this.chart.options.navigation;return r=i({langKey:"fibonacci",type:"fibonacci",typeOptions:{xAxis:r.axis.options.index,yAxis:c.axis.options.index,points:[{x:A,y:v},{x:A,y:v}]},labelOptions:{style:{color:"#666666"}}},g.annotationsOptions,g.bindings.fibonacci.annotationsOptions),this.chart.addAnnotation(r)}},steps:[p.updateNthPoint(1),p.updateHeight]},parallelChannel:{className:"highcharts-parallel-channel",start:function(r){var c=this.chart.pointer.getCoordinates(r);if(r=this.utils.getAssignedAxis(c.xAxis),c=this.utils.getAssignedAxis(c.yAxis),r&&c){var A=r.value,v=c.value,g=this.chart.options.navigation;return r=i({langKey:"parallelChannel",type:"tunnel",typeOptions:{xAxis:r.axis.options.index,yAxis:c.axis.options.index,points:[{x:A,y:v},{x:A,y:v}]}},g.annotationsOptions,g.bindings.parallelChannel.annotationsOptions),this.chart.addAnnotation(r)}},steps:[p.updateNthPoint(1),p.updateHeight]},pitchfork:{className:"highcharts-pitchfork",start:function(r){var c=this.chart.pointer.getCoordinates(r);if(r=this.utils.getAssignedAxis(c.xAxis),c=this.utils.getAssignedAxis(c.yAxis),r&&c){var A=r.value,v=c.value,g=this.chart.options.navigation;return r=i({langKey:"pitchfork",type:"pitchfork",typeOptions:{xAxis:r.axis.options.index,yAxis:c.axis.options.index,points:[{x:r.value,y:c.value,controlPoint:{style:{fill:"#f21313"}}},{x:A,y:v},{x:A,y:v}],innerBackground:{fill:"rgba(100, 170, 255, 0.8)"}},shapeOptions:{strokeWidth:2}},g.annotationsOptions,g.bindings.pitchfork.annotationsOptions),this.chart.addAnnotation(r)}},steps:[p.updateNthPoint(1),p.updateNthPoint(2)]},verticalCounter:{className:"highcharts-vertical-counter",start:function(r){r=p.attractToPoint(r,this.chart);var c=this.chart.options.navigation;r&&(this.verticalCounter=this.verticalCounter||0,r=i({langKey:"verticalCounter",type:"verticalLine",typeOptions:{point:{x:r.x,y:r.y,xAxis:r.xAxis,yAxis:r.yAxis},label:{offset:r.below?40:-40,text:this.verticalCounter.toString()}},labelOptions:{style:{color:"#666666",fontSize:"11px"}},shapeOptions:{stroke:"rgba(0, 0, 0, 0.75)",strokeWidth:1}},c.annotationsOptions,c.bindings.verticalCounter.annotationsOptions),r=this.chart.addAnnotation(r),this.verticalCounter++,r.options.events.click.call(r,{}))}},timeCycles:{className:"highcharts-time-cycles",start:function(r){r=p.attractToPoint(r,this.chart);var c=this.chart.options.navigation;if(r)return r=i({langKey:"timeCycles",type:"timeCycles",typeOptions:{xAxis:r.xAxis,yAxis:r.yAxis,points:[{x:r.x},{x:r.x}],line:{stroke:"rgba(0, 0, 0, 0.75)",fill:"transparent",strokeWidth:2}}},c.annotationsOptions,c.bindings.timeCycles.annotationsOptions),r=this.chart.addAnnotation(r),r.options.events.click.call(r,{}),r},steps:[p.updateNthPoint(1)]},verticalLabel:{className:"highcharts-vertical-label",start:function(r){r=p.attractToPoint(r,this.chart);var c=this.chart.options.navigation;r&&(r=i({langKey:"verticalLabel",type:"verticalLine",typeOptions:{point:{x:r.x,y:r.y,xAxis:r.xAxis,yAxis:r.yAxis},label:{offset:r.below?40:-40}},labelOptions:{style:{color:"#666666",fontSize:"11px"}},shapeOptions:{stroke:"rgba(0, 0, 0, 0.75)",strokeWidth:1}},c.annotationsOptions,c.bindings.verticalLabel.annotationsOptions),r=this.chart.addAnnotation(r),r.options.events.click.call(r,{}))}},verticalArrow:{className:"highcharts-vertical-arrow",start:function(r){r=p.attractToPoint(r,this.chart);var c=this.chart.options.navigation;r&&(r=i({langKey:"verticalArrow",type:"verticalLine",typeOptions:{point:{x:r.x,y:r.y,xAxis:r.xAxis,yAxis:r.yAxis},label:{offset:r.below?40:-40,format:" "},connector:{fill:"none",stroke:r.below?"#f21313":"#06b535"}},shapeOptions:{stroke:"rgba(0, 0, 0, 0.75)",strokeWidth:1}},c.annotationsOptions,c.bindings.verticalArrow.annotationsOptions),r=this.chart.addAnnotation(r),r.options.events.click.call(r,{}))}},fibonacciTimeZones:{className:"highcharts-fibonacci-time-zones",start:function(r){var c=this.chart.pointer.getCoordinates(r);if(r=this.utils.getAssignedAxis(c.xAxis),c=this.utils.getAssignedAxis(c.yAxis),r&&c){var A=this.chart.options.navigation;return r=i({type:"fibonacciTimeZones",langKey:"fibonacciTimeZones",typeOptions:{xAxis:r.axis.options.index,yAxis:c.axis.options.index,points:[{x:r.value}]}},A.annotationsOptions,A.bindings.fibonacciTimeZones.annotationsOptions),this.chart.addAnnotation(r)}},steps:[function(r,c){var A=c.options.typeOptions.points;A=A&&A[0].x;var v=this.chart.pointer.getCoordinates(r);r=this.utils.getAssignedAxis(v.xAxis),v=this.utils.getAssignedAxis(v.yAxis),c.update({typeOptions:{xAxis:r.axis.options.index,yAxis:v.axis.options.index,points:[{x:A},{x:r.value}]}})}]},flagCirclepin:{className:"highcharts-flag-circlepin",start:p.addFlagFromForm("circlepin")},flagDiamondpin:{className:"highcharts-flag-diamondpin",start:p.addFlagFromForm("flag")},flagSquarepin:{className:"highcharts-flag-squarepin",start:p.addFlagFromForm("squarepin")},flagSimplepin:{className:"highcharts-flag-simplepin",start:p.addFlagFromForm("nopin")},zoomX:{className:"highcharts-zoom-x",init:function(r){this.chart.update({chart:{zoomType:"x"}}),t(this,"deselectButton",{button:r})}},zoomY:{className:"highcharts-zoom-y",init:function(r){this.chart.update({chart:{zoomType:"y"}}),t(this,"deselectButton",{button:r})}},zoomXY:{className:"highcharts-zoom-xy",init:function(r){this.chart.update({chart:{zoomType:"xy"}}),t(this,"deselectButton",{button:r})}},seriesTypeLine:{className:"highcharts-series-type-line",init:function(r){this.chart.series[0].update({type:"line",useOhlcData:!0}),t(this,"deselectButton",{button:r})}},seriesTypeOhlc:{className:"highcharts-series-type-ohlc",init:function(r){this.chart.series[0].update({type:"ohlc"}),t(this,"deselectButton",{button:r})}},seriesTypeCandlestick:{className:"highcharts-series-type-candlestick",init:function(r){this.chart.series[0].update({type:"candlestick"}),t(this,"deselectButton",{button:r})}},seriesTypeHeikinAshi:{className:"highcharts-series-type-heikinashi",init:function(r){this.chart.series[0].update({type:"heikinashi"}),t(this,"deselectButton",{button:r})}},seriesTypeHLC:{className:"highcharts-series-type-hlc",init:function(r){this.chart.series[0].update({type:"hlc",useOhlcData:!0}),t(this,"deselectButton",{button:r})}},seriesTypeHollowCandlestick:{className:"highcharts-series-type-hollowcandlestick",init:function(r){this.chart.series[0].update({type:"hollowcandlestick"}),t(this,"deselectButton",{button:r})}},fullScreen:{className:"highcharts-full-screen",noDataState:"normal",init:function(r){this.chart.fullscreen.toggle(),t(this,"deselectButton",{button:r})}},currentPriceIndicator:{className:"highcharts-current-price-indicator",init:function(r){var c=this.chart,A=c.series,v=c.stockTools,g=p.isPriceIndicatorEnabled(c.series);v&&v.guiEnabled&&(A.forEach(function(P){P.update({lastPrice:{enabled:!g},lastVisiblePrice:{enabled:!g,label:{enabled:!0}}},!1)}),c.redraw()),t(this,"deselectButton",{button:r})}},indicators:{className:"highcharts-indicators",init:function(){var r=this;t(r,"showPopup",{formType:"indicators",options:{},onSubmit:function(c){r.utils.manageIndicators.call(r,c)}})}},toggleAnnotations:{className:"highcharts-toggle-annotations",init:function(r){var c=this.chart,A=c.stockTools,v=A.getIconsURL();this.toggledAnnotations=!this.toggledAnnotations,(c.annotations||[]).forEach(function(g){g.setVisibility(!this.toggledAnnotations)},this),A&&A.guiEnabled&&(r.firstChild.style["background-image"]=this.toggledAnnotations?'url("'+v+'annotations-hidden.svg")':'url("'+v+'annotations-visible.svg")'),t(this,"deselectButton",{button:r})}},saveChart:{className:"highcharts-save-chart",noDataState:"normal",init:function(r){var c=this.chart,A=[],v=[],g=[],P=[];c.annotations.forEach(function(x,k){A[k]=x.userOptions}),c.series.forEach(function(x){x.is("sma")?v.push(x.userOptions):x.type==="flags"&&g.push(x.userOptions)}),c.yAxis.forEach(function(x){p.isNotNavigatorYAxis(x)&&P.push(x.options)}),f.win.localStorage.setItem("highcharts-chart",JSON.stringify({annotations:A,indicators:v,flags:g,yAxes:P})),t(this,"deselectButton",{button:r})}}},u({navigation:{bindings:O}}),w.prototype.utils=i(p,w.prototype.utils)}),L(a,"Stock/StockToolsGui.js",[a["Core/Chart/Chart.js"],a["Core/Globals.js"],a["Extensions/Annotations/NavigationBindings.js"],a["Core/DefaultOptions.js"],a["Core/Utilities.js"]],function(u,f,w,C,O){C=C.setOptions;var S=O.addEvent,h=O.createElement,s=O.css,o=O.extend,t=O.fireEvent,e=O.getStyle,i=O.isArray,n=O.merge,l=O.pick;C({lang:{stockTools:{gui:{simpleShapes:"Simple shapes",lines:"Lines",crookedLines:"Crooked lines",measure:"Measure",advanced:"Advanced",toggleAnnotations:"Toggle annotations",verticalLabels:"Vertical labels",flags:"Flags",zoomChange:"Zoom change",typeChange:"Type change",saveChart:"Save chart",indicators:"Indicators",currentPriceIndicator:"Current Price Indicators",zoomX:"Zoom X",zoomY:"Zoom Y",zoomXY:"Zooom XY",fullScreen:"Fullscreen",typeOHLC:"OHLC",typeLine:"Line",typeCandlestick:"Candlestick",typeHLC:"HLC",typeHollowCandlestick:"Hollow Candlestick",typeHeikinAshi:"Heikin Ashi",circle:"Circle",ellipse:"Ellipse",label:"Label",rectangle:"Rectangle",flagCirclepin:"Flag circle",flagDiamondpin:"Flag diamond",flagSquarepin:"Flag square",flagSimplepin:"Flag simple",measureXY:"Measure XY",measureX:"Measure X",measureY:"Measure Y",segment:"Segment",arrowSegment:"Arrow segment",ray:"Ray",arrowRay:"Arrow ray",line:"Line",arrowInfinityLine:"Arrow line",horizontalLine:"Horizontal line",verticalLine:"Vertical line",infinityLine:"Infinity line",crooked3:"Crooked 3 line",crooked5:"Crooked 5 line",elliott3:"Elliott 3 line",elliott5:"Elliott 5 line",verticalCounter:"Vertical counter",verticalLabel:"Vertical label",verticalArrow:"Vertical arrow",fibonacci:"Fibonacci",fibonacciTimeZones:"Fibonacci Time Zones",pitchfork:"Pitchfork",parallelChannel:"Parallel channel",timeCycles:"Time Cycles"}},navigation:{popup:{circle:"Circle",ellipse:"Ellipse",rectangle:"Rectangle",label:"Label",segment:"Segment",arrowSegment:"Arrow segment",ray:"Ray",arrowRay:"Arrow ray",line:"Line",arrowInfinityLine:"Arrow line",horizontalLine:"Horizontal line",verticalLine:"Vertical line",crooked3:"Crooked 3 line",crooked5:"Crooked 5 line",elliott3:"Elliott 3 line",elliott5:"Elliott 5 line",verticalCounter:"Vertical counter",verticalLabel:"Vertical label",verticalArrow:"Vertical arrow",fibonacci:"Fibonacci",fibonacciTimeZones:"Fibonacci Time Zones",pitchfork:"Pitchfork",parallelChannel:"Parallel channel",infinityLine:"Infinity line",measure:"Measure",measureXY:"Measure XY",measureX:"Measure X",measureY:"Measure Y",timeCycles:"Time Cycles",flags:"Flags",addButton:"add",saveButton:"save",editButton:"edit",removeButton:"remove",series:"Series",volume:"Volume",connector:"Connector",innerBackground:"Inner background",outerBackground:"Outer background",crosshairX:"Crosshair X",crosshairY:"Crosshair Y",tunnel:"Tunnel",background:"Background",noFilterMatch:"No match",searchIndicators:"Search Indicators",clearFilter:"\u2715 clear filter",index:"Index",period:"Period",periods:"Periods",standardDeviation:"Standard deviation",periodTenkan:"Tenkan period",periodSenkouSpanB:"Senkou Span B period",periodATR:"ATR period",multiplierATR:"ATR multiplier",shortPeriod:"Short period",longPeriod:"Long period",signalPeriod:"Signal period",decimals:"Decimals",algorithm:"Algorithm",topBand:"Top band",bottomBand:"Bottom band",initialAccelerationFactor:"Initial acceleration factor",maxAccelerationFactor:"Max acceleration factor",increment:"Increment",multiplier:"Multiplier",ranges:"Ranges",highIndex:"High index",lowIndex:"Low index",deviation:"Deviation",xAxisUnit:"x-axis unit",factor:"Factor",fastAvgPeriod:"Fast average period",slowAvgPeriod:"Slow average period",average:"Average",indicatorAliases:{abands:["Acceleration Bands"],bb:["Bollinger Bands"],dema:["Double Exponential Moving Average"],ema:["Exponential Moving Average"],ikh:["Ichimoku Kinko Hyo"],keltnerchannels:["Keltner Channels"],linearRegression:["Linear Regression"],pivotpoints:["Pivot Points"],pc:["Price Channel"],priceenvelopes:["Price Envelopes"],psar:["Parabolic SAR"],sma:["Simple Moving Average"],supertrend:["Super Trend"],tema:["Triple Exponential Moving Average"],vbp:["Volume by Price"],vwap:["Volume Weighted Moving Average"],wma:["Weighted Moving Average"],zigzag:["Zig Zag"],apo:["Absolute price indicator"],ad:["Accumulation/Distribution"],aroon:["Aroon"],aroonoscillator:["Aroon oscillator"],atr:["Average True Range"],ao:["Awesome oscillator"],cci:["Commodity Channel Index"],chaikin:["Chaikin"],cmf:["Chaikin Money Flow"],cmo:["Chande Momentum Oscillator"],disparityindex:["Disparity Index"],dmi:["Directional Movement Index"],dpo:["Detrended price oscillator"],klinger:["Klinger Oscillator"],linearRegressionAngle:["Linear Regression Angle"],linearRegressionIntercept:["Linear Regression Intercept"],linearRegressionSlope:["Linear Regression Slope"],macd:["Moving Average Convergence Divergence"],mfi:["Money Flow Index"],momentum:["Momentum"],natr:["Normalized Average True Range"],obv:["On-Balance Volume"],ppo:["Percentage Price oscillator"],roc:["Rate of Change"],rsi:["Relative Strength Index"],slowstochastic:["Slow Stochastic"],stochastic:["Stochastic"],trix:["TRIX"],williamsr:["Williams %R"]}}}},stockTools:{gui:{enabled:!0,className:"highcharts-bindings-wrapper",toolbarClassName:"stocktools-toolbar",buttons:"indicators separator simpleShapes lines crookedLines measure advanced toggleAnnotations separator verticalLabels flags separator zoomChange fullScreen typeChange separator currentPriceIndicator saveChart".split(" "),definitions:{separator:{symbol:"separator.svg"},simpleShapes:{items:["label","circle","ellipse","rectangle"],circle:{symbol:"circle.svg"},ellipse:{symbol:"ellipse.svg"},rectangle:{symbol:"rectangle.svg"},label:{symbol:"label.svg"}},flags:{items:["flagCirclepin","flagDiamondpin","flagSquarepin","flagSimplepin"],flagSimplepin:{symbol:"flag-basic.svg"},flagDiamondpin:{symbol:"flag-diamond.svg"},flagSquarepin:{symbol:"flag-trapeze.svg"},flagCirclepin:{symbol:"flag-elipse.svg"}},lines:{items:"segment arrowSegment ray arrowRay line arrowInfinityLine horizontalLine verticalLine".split(" "),segment:{symbol:"segment.svg"},arrowSegment:{symbol:"arrow-segment.svg"},ray:{symbol:"ray.svg"},arrowRay:{symbol:"arrow-ray.svg"},line:{symbol:"line.svg"},arrowInfinityLine:{symbol:"arrow-line.svg"},verticalLine:{symbol:"vertical-line.svg"},horizontalLine:{symbol:"horizontal-line.svg"}},crookedLines:{items:["elliott3","elliott5","crooked3","crooked5"],crooked3:{symbol:"crooked-3.svg"},crooked5:{symbol:"crooked-5.svg"},elliott3:{symbol:"elliott-3.svg"},elliott5:{symbol:"elliott-5.svg"}},verticalLabels:{items:["verticalCounter","verticalLabel","verticalArrow"],verticalCounter:{symbol:"vertical-counter.svg"},verticalLabel:{symbol:"vertical-label.svg"},verticalArrow:{symbol:"vertical-arrow.svg"}},advanced:{items:["fibonacci","fibonacciTimeZones","pitchfork","parallelChannel","timeCycles"],pitchfork:{symbol:"pitchfork.svg"},fibonacci:{symbol:"fibonacci.svg"},fibonacciTimeZones:{symbol:"fibonacci-timezone.svg"},parallelChannel:{symbol:"parallel-channel.svg"},timeCycles:{symbol:"time-cycles.svg"}},measure:{items:["measureXY","measureX","measureY"],measureX:{symbol:"measure-x.svg"},measureY:{symbol:"measure-y.svg"},measureXY:{symbol:"measure-xy.svg"}},toggleAnnotations:{symbol:"annotations-visible.svg"},currentPriceIndicator:{symbol:"current-price-show.svg"},indicators:{symbol:"indicators.svg"},zoomChange:{items:["zoomX","zoomY","zoomXY"],zoomX:{symbol:"zoom-x.svg"},zoomY:{symbol:"zoom-y.svg"},zoomXY:{symbol:"zoom-xy.svg"}},typeChange:{items:"typeOHLC typeLine typeCandlestick typeHollowCandlestick typeHLC typeHeikinAshi".split(" "),typeOHLC:{symbol:"series-ohlc.svg"},typeLine:{symbol:"series-line.svg"},typeCandlestick:{symbol:"series-candlestick.svg"},typeHLC:{symbol:"series-hlc.svg"},typeHeikinAshi:{symbol:"series-heikin-ashi.svg"},typeHollowCandlestick:{symbol:"series-hollow-candlestick.svg"}},fullScreen:{symbol:"fullscreen.svg"},saveChart:{symbol:"save-chart.svg"}}}}}),S(u,"afterGetContainer",function(){this.setStockTools()}),S(u,"getMargins",function(){var r=this.stockTools&&this.stockTools.listWrapper;(r=r&&(r.startWidth+e(r,"padding-left")+e(r,"padding-right")||r.offsetWidth))&&r<this.plotWidth&&(this.plotLeft+=r,this.spacing[3]+=r)},{order:0}),["beforeRender","beforeRedraw"].forEach(function(r){S(u,r,function(){if(this.stockTools){var c=this.options.chart,A=this.stockTools.listWrapper;A=A&&(A.startWidth+e(A,"padding-left")+e(A,"padding-right")||A.offsetWidth);var v=!1;A&&A<this.plotWidth?(c=l(c.spacingLeft,c.spacing&&c.spacing[3],0)+A,v=c-this.spacingBox.x,this.spacingBox.x=c,this.spacingBox.width-=v,v=!0):A===0&&(v=!0),A!==this.stockTools.prevOffsetWidth&&(this.stockTools.prevOffsetWidth=A,v&&(this.isDirtyLegend=!0))}})}),S(u,"destroy",function(){this.stockTools&&this.stockTools.destroy()}),S(u,"redraw",function(){this.stockTools&&this.stockTools.guiEnabled&&this.stockTools.redraw()});var p=function(){function r(c,A,v){this.wrapper=this.toolbar=this.submenu=this.showhideBtn=this.listWrapper=this.arrowWrapper=this.arrowUp=this.arrowDown=void 0,this.chart=v,this.options=c,this.lang=A,this.iconsURL=this.getIconsURL(),this.guiEnabled=c.enabled,this.visible=l(c.visible,!0),this.placed=l(c.placed,!1),this.eventsToUnbind=[],this.guiEnabled&&(this.createHTML(),this.init(),this.showHideNavigatorion()),t(this,"afterInit")}return r.prototype.init=function(){var c=this,A=this.lang,v=this.options,g=this.toolbar,P=c.addSubmenu,x=v.definitions,k=g.childNodes,m;v.buttons.forEach(function(_){m=c.addButton(g,x,_,A),c.eventsToUnbind.push(S(m.buttonWrapper,"click",function(){c.eraseActiveButtons(k,m.buttonWrapper)})),i(x[_].items)&&P.call(c,m,x[_])})},r.prototype.addSubmenu=function(c,A){var v=this,g=c.submenuArrow,P=c.buttonWrapper,x=e(P,"width"),k=this.wrapper,m=this.listWrapper,_=this.toolbar.childNodes,M=0,D;this.submenu=D=h("ul",{className:"highcharts-submenu-wrapper"},void 0,P),this.addSubmenuItems(P,A),v.eventsToUnbind.push(S(g,"click",function(E){E.stopPropagation(),v.eraseActiveButtons(_,P),0<=P.className.indexOf("highcharts-current")?(m.style.width=m.startWidth+"px",P.classList.remove("highcharts-current"),D.style.display="none"):(D.style.display="block",M=D.offsetHeight-P.offsetHeight-3,D.offsetHeight+P.offsetTop>k.offsetHeight&&P.offsetTop>M||(M=0),s(D,{top:-M+"px",left:x+3+"px"}),P.className+=" highcharts-current",m.startWidth=k.offsetWidth,m.style.width=m.startWidth+e(m,"padding-left")+D.offsetWidth+3+"px")}))},r.prototype.addSubmenuItems=function(c,A){var v=this,g=this.submenu,P=this.lang,x=this.listWrapper,k;A.items.forEach(function(_){k=v.addButton(g,A,_,P),v.eventsToUnbind.push(S(k.mainButton,"click",function(){v.switchSymbol(this,c,!0),x.style.width=x.startWidth+"px",g.style.display="none"}))});var m=g.querySelectorAll("li > .highcharts-menu-item-btn")[0];v.switchSymbol(m,!1)},r.prototype.eraseActiveButtons=function(c,A,v){[].forEach.call(c,function(g){g!==A&&(g.classList.remove("highcharts-current"),g.classList.remove("highcharts-active"),v=g.querySelectorAll(".highcharts-submenu-wrapper"),0<v.length&&(v[0].style.display="none"))})},r.prototype.addButton=function(c,A,v,g){g===void 0&&(g={}),A=A[v];var P=A.items,x=A.className||"";if(v=h("li",{className:l(r.prototype.classMapping[v],"")+" "+x,title:g[v]||v},void 0,c),c=h("span",{className:"highcharts-menu-item-btn"},void 0,v),P&&P.length){var k=h("span",{className:"highcharts-submenu-item-arrow highcharts-arrow-right"},void 0,v);k.style.backgroundImage="url("+this.iconsURL+"arrow-bottom.svg)"}else c.style.backgroundImage="url("+this.iconsURL+A.symbol+")";return{buttonWrapper:v,mainButton:c,submenuArrow:k}},r.prototype.addNavigation=function(){var c=this.wrapper;this.arrowWrapper=h("div",{className:"highcharts-arrow-wrapper"}),this.arrowUp=h("div",{className:"highcharts-arrow-up"},void 0,this.arrowWrapper),this.arrowUp.style.backgroundImage="url("+this.iconsURL+"arrow-right.svg)",this.arrowDown=h("div",{className:"highcharts-arrow-down"},void 0,this.arrowWrapper),this.arrowDown.style.backgroundImage="url("+this.iconsURL+"arrow-right.svg)",c.insertBefore(this.arrowWrapper,c.childNodes[0]),this.scrollButtons()},r.prototype.scrollButtons=function(){var c=0,A=this.wrapper,v=this.toolbar,g=.1*A.offsetHeight;this.eventsToUnbind.push(S(this.arrowUp,"click",function(){0<c&&(c-=g,v.style.marginTop=-c+"px")})),this.eventsToUnbind.push(S(this.arrowDown,"click",function(){A.offsetHeight+c<=v.offsetHeight+g&&(c+=g,v.style.marginTop=-c+"px")}))},r.prototype.createHTML=function(){var c=this.chart,A=this.options,v=c.container,g=c.options.navigation,P=this.wrapper=h("div",{className:"highcharts-stocktools-wrapper "+A.className+" "+(g&&g.bindingsClassName)});v.appendChild(P),["mousedown","mousemove","click","touchstart"].forEach(function(x){S(P,x,function(k){return k.stopPropagation()})}),S(P,"mouseover",function(x){return c.pointer.onContainerMouseLeave(x)}),this.toolbar=v=h("ul",{className:"highcharts-stocktools-toolbar "+A.toolbarClassName}),this.listWrapper=A=h("div",{className:"highcharts-menu-wrapper"}),P.insertBefore(A,P.childNodes[0]),A.insertBefore(v,A.childNodes[0]),this.showHideToolbar(),this.addNavigation()},r.prototype.showHideNavigatorion=function(){this.visible&&this.toolbar.offsetHeight>this.wrapper.offsetHeight-50?this.arrowWrapper.style.display="block":(this.toolbar.style.marginTop="0px",this.arrowWrapper.style.display="none")},r.prototype.showHideToolbar=function(){var c=this.chart,A=this.wrapper,v=this.listWrapper,g=this.submenu,P=this.visible,x;this.showhideBtn=x=h("div",{className:"highcharts-toggle-toolbar highcharts-arrow-left"},void 0,A),x.style.backgroundImage="url("+this.iconsURL+"arrow-right.svg)",P?(A.style.height="100%",x.style.top=e(v,"padding-top")+"px",x.style.left=A.offsetWidth+e(v,"padding-left")+"px"):(g&&(g.style.display="none"),x.style.left="0px",this.visible=P=!1,v.classList.add("highcharts-hide"),x.classList.toggle("highcharts-arrow-right"),A.style.height=x.offsetHeight+"px"),this.eventsToUnbind.push(S(x,"click",function(){c.update({stockTools:{gui:{visible:!P,placed:!0}}})}))},r.prototype.switchSymbol=function(c,A){var v=c.parentNode,g=v.className;v=v.parentNode.parentNode,-1<g.indexOf("highcharts-disabled-btn")||(v.className="",g&&v.classList.add(g.trim()),v.querySelectorAll(".highcharts-menu-item-btn")[0].style.backgroundImage=c.style.backgroundImage,A&&this.toggleButtonAciveClass(v))},r.prototype.toggleButtonAciveClass=function(c){0<=c.className.indexOf("highcharts-active")?c.classList.remove("highcharts-active"):c.classList.add("highcharts-active")},r.prototype.unselectAllButtons=function(c){var A=c.parentNode.querySelectorAll(".highcharts-active");[].forEach.call(A,function(v){v!==c&&v.classList.remove("highcharts-active")})},r.prototype.update=function(c,A){n(!0,this.chart.options.stockTools,c),this.destroy(),this.chart.setStockTools(c),this.chart.navigationBindings&&this.chart.navigationBindings.update(),this.chart.isDirtyBox=!0,l(A,!0)&&this.chart.redraw()},r.prototype.destroy=function(){var c=this.wrapper,A=c&&c.parentNode;this.eventsToUnbind.forEach(function(v){v()}),A&&A.removeChild(c)},r.prototype.redraw=function(){this.showHideNavigatorion()},r.prototype.getIconsURL=function(){return this.chart.options.navigation.iconsURL||this.options.iconsURL||"https://code.highcharts.com/9.3.3/gfx/stock-icons/"},r}();return p.prototype.classMapping={circle:"highcharts-circle-annotation",ellipse:"highcharts-ellipse-annotation",rectangle:"highcharts-rectangle-annotation",label:"highcharts-label-annotation",segment:"highcharts-segment",arrowSegment:"highcharts-arrow-segment",ray:"highcharts-ray",arrowRay:"highcharts-arrow-ray",line:"highcharts-infinity-line",arrowInfinityLine:"highcharts-arrow-infinity-line",verticalLine:"highcharts-vertical-line",horizontalLine:"highcharts-horizontal-line",crooked3:"highcharts-crooked3",crooked5:"highcharts-crooked5",elliott3:"highcharts-elliott3",elliott5:"highcharts-elliott5",pitchfork:"highcharts-pitchfork",fibonacci:"highcharts-fibonacci",fibonacciTimeZones:"highcharts-fibonacci-time-zones",parallelChannel:"highcharts-parallel-channel",measureX:"highcharts-measure-x",measureY:"highcharts-measure-y",measureXY:"highcharts-measure-xy",timeCycles:"highcharts-time-cycles",verticalCounter:"highcharts-vertical-counter",verticalLabel:"highcharts-vertical-label",verticalArrow:"highcharts-vertical-arrow",currentPriceIndicator:"highcharts-current-price-indicator",indicators:"highcharts-indicators",flagCirclepin:"highcharts-flag-circlepin",flagDiamondpin:"highcharts-flag-diamondpin",flagSquarepin:"highcharts-flag-squarepin",flagSimplepin:"highcharts-flag-simplepin",zoomX:"highcharts-zoom-x",zoomY:"highcharts-zoom-y",zoomXY:"highcharts-zoom-xy",typeLine:"highcharts-series-type-line",typeOHLC:"highcharts-series-type-ohlc",typeHLC:"highcharts-series-type-hlc",typeCandlestick:"highcharts-series-type-candlestick",typeHollowCandlestick:"highcharts-series-type-hollowcandlestick",typeHeikinAshi:"highcharts-series-type-heikinashi",fullScreen:"highcharts-full-screen",toggleAnnotations:"highcharts-toggle-annotations",saveChart:"highcharts-save-chart",separator:"highcharts-separator"},o(u.prototype,{setStockTools:function(r){var c=this.options,A=c.lang;r=n(c.stockTools&&c.stockTools.gui,r&&r.gui),this.stockTools=new p(r,A&&A.stockTools&&A.stockTools.gui,this),this.stockTools.guiEnabled&&(this.isDirtyBox=!0)}}),S(w,"selectButton",function(r){var c=r.button,A=this.chart.stockTools;A&&A.guiEnabled&&(A.unselectAllButtons(r.button),0<=c.parentNode.className.indexOf("highcharts-submenu-wrapper")&&(c=c.parentNode.parentNode),A.toggleButtonAciveClass(c))}),S(w,"deselectButton",function(r){r=r.button;var c=this.chart.stockTools;c&&c.guiEnabled&&(0<=r.parentNode.className.indexOf("highcharts-submenu-wrapper")&&(r=r.parentNode.parentNode),c.toggleButtonAciveClass(r))}),S(u,"render",function(){var r=this.stockTools,c=r&&r.toolbar&&r.toolbar.querySelector(".highcharts-current-price-indicator");r&&this.navigationBindings&&this.options.series&&c&&(this.navigationBindings.constructor.prototype.utils.isPriceIndicatorEnabled(this.series)?c.firstChild.style["background-image"]='url("'+r.getIconsURL()+'current-price-hide.svg")':c.firstChild.style["background-image"]='url("'+r.getIconsURL()+'current-price-show.svg")')}),f.Toolbar=p,f.Toolbar}),L(a,"masters/modules/stock-tools.src.js",[],function(){})})})(zt);const Pt=zt.exports;var Xt={exports:{}};(function(y){(function(a){y.exports?(a.default=a,y.exports=a):a(typeof Highcharts!="undefined"?Highcharts:void 0)})(function(a){function L(u,f,w,C){u.hasOwnProperty(f)||(u[f]=C.apply(null,w))}a=a?a._modules:{},L(a,"Stock/Indicators/SMA/SMAComposition.js",[a["Core/Series/SeriesRegistry.js"],a["Core/Utilities.js"]],function(u,f){}),L(a,"Stock/Indicators/SMA/SMAIndicator.js",[a["Core/Chart/Chart.js"],a["Core/Series/SeriesRegistry.js"],a["Core/Utilities.js"]],function(u,f,w){var C=this&&this.__extends||function(){var n=function(l,p){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,c){r.__proto__=c}||function(r,c){for(var A in c)c.hasOwnProperty(A)&&(r[A]=c[A])},n(l,p)};return function(l,p){function r(){this.constructor=l}n(l,p),l.prototype=p===null?Object.create(p):(r.prototype=p.prototype,new r)}}(),O=f.seriesTypes.line,S=w.addEvent,h=w.error,s=w.extend,o=w.isArray,t=w.merge,e=w.pick,i=w.splat;return w=function(n){function l(){var p=n!==null&&n.apply(this,arguments)||this;return p.data=void 0,p.dataEventsToUnbind=void 0,p.linkedParent=void 0,p.options=void 0,p.points=void 0,p}return C(l,n),l.prototype.destroy=function(){this.dataEventsToUnbind.forEach(function(p){p()}),n.prototype.destroy.apply(this,arguments)},l.prototype.getName=function(){var p=this.name,r=[];return p||((this.nameComponents||[]).forEach(function(c,A){r.push(this.options.params[c]+e(this.nameSuffixes[A],""))},this),p=(this.nameBase||this.type.toUpperCase())+(this.nameComponents?" ("+r.join(", ")+")":"")),p},l.prototype.getValues=function(p,r){var c=r.period,A=p.xData;p=p.yData;var v=p.length,g=0,P=0,x=[],k=[],m=[],_=-1;if(!(A.length<c)){for(o(p[0])&&(_=r.index?r.index:0);g<c-1;)P+=0>_?p[g]:p[g][_],g++;for(r=g;r<v;r++){P+=0>_?p[r]:p[r][_];var M=[A[r],P/c];x.push(M),k.push(M[0]),m.push(M[1]),P-=0>_?p[r-g]:p[r-g][_]}return{values:x,xData:k,yData:m}}},l.prototype.init=function(p,r){var c=this;n.prototype.init.call(c,p,r),r=S(u,"afterLinkSeries",function(){var A=!!c.dataEventsToUnbind.length;if(c.linkedParent){if(A||(c.dataEventsToUnbind.push(S(c.linkedParent,"updatedData",function(){c.recalculateValues()})),c.calculateOn.xAxis&&c.dataEventsToUnbind.push(S(c.linkedParent.xAxis,c.calculateOn.xAxis,function(){c.recalculateValues()}))),c.calculateOn.chart==="init")c.processedYData||c.recalculateValues();else if(!A)var v=S(c.chart,c.calculateOn.chart,function(){c.recalculateValues(),v()})}else return h("Series "+c.options.linkedTo+" not found! Check `linkedTo`.",!1,p)},{order:0}),c.dataEventsToUnbind=[],c.eventsToUnbind.push(r)},l.prototype.recalculateValues=function(){var p=this.points||[],r=(this.xData||[]).length,c=this.getValues(this.linkedParent,this.options.params)||{values:[],xData:[],yData:[]},A=[],v=!0;if(r&&!this.hasGroupedData&&this.visible&&this.points)if(this.cropped){if(this.xAxis)var g=this.xAxis.min,P=this.xAxis.max;for(r=this.cropData(c.xData,c.yData,g,P),g=0;g<r.xData.length;g++)A.push([r.xData[g]].concat(i(r.yData[g])));r=c.xData.indexOf(this.xData[0]),g=c.xData.indexOf(this.xData[this.xData.length-1]),r===-1&&g===c.xData.length-2&&A[0][0]===p[0].x&&A.shift(),this.updateData(A)}else c.xData.length!==r-1&&c.xData.length!==r+1&&(v=!1,this.updateData(c.values));v&&(this.xData=c.xData,this.yData=c.yData,this.options.data=c.values),this.calculateOn.xAxis&&this.processedXData&&(delete this.processedXData,this.isDirty=!0,this.redraw()),this.isDirtyData=!1},l.prototype.processData=function(){var p=this.options.compareToMain,r=this.linkedParent;n.prototype.processData.apply(this,arguments),this.dataModify&&r&&r.dataModify&&r.dataModify.compareValue&&p&&(this.dataModify.compareValue=r.dataModify.compareValue)},l.defaultOptions=t(O.defaultOptions,{name:void 0,tooltip:{valueDecimals:4},linkedTo:void 0,compareToMain:!1,params:{index:3,period:14}}),l}(O),s(w.prototype,{calculateOn:{chart:"init"},hasDerivedData:!0,nameComponents:["period"],nameSuffixes:[],useCommonDataGrouping:!0}),f.registerSeriesType("sma",w),w}),L(a,"Stock/Indicators/EMA/EMAIndicator.js",[a["Core/Series/SeriesRegistry.js"],a["Core/Utilities.js"]],function(u,f){var w=this&&this.__extends||function(){var s=function(o,t){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var n in i)i.hasOwnProperty(n)&&(e[n]=i[n])},s(o,t)};return function(o,t){function e(){this.constructor=o}s(o,t),o.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),C=u.seriesTypes.sma,O=f.correctFloat,S=f.isArray,h=f.merge;return f=function(s){function o(){var t=s!==null&&s.apply(this,arguments)||this;return t.data=void 0,t.options=void 0,t.points=void 0,t}return w(o,s),o.prototype.accumulatePeriodPoints=function(t,e,i){for(var n=0,l=0,p;l<t;)p=0>e?i[l]:i[l][e],n+=p,l++;return n},o.prototype.calculateEma=function(t,e,i,n,l,p,r){return t=t[i-1],e=0>p?e[i-1]:e[i-1][p],n=typeof l=="undefined"?r:O(e*n+l*(1-n)),[t,n]},o.prototype.getValues=function(t,e){var i=e.period,n=t.xData,l=(t=t.yData)?t.length:0,p=2/(i+1),r=[],c=[],A=[],v=-1;if(!(l<i)){for(S(t[0])&&(v=e.index?e.index:0),e=this.accumulatePeriodPoints(i,v,t),e/=i;i<l+1;i++){var g=this.calculateEma(n,t,i,p,g,v,e);r.push(g),c.push(g[0]),A.push(g[1]),g=g[1]}return{values:r,xData:c,yData:A}}},o.defaultOptions=h(C.defaultOptions,{params:{index:3,period:9}}),o}(C),u.registerSeriesType("ema",f),f}),L(a,"Stock/Indicators/AD/ADIndicator.js",[a["Core/Series/SeriesRegistry.js"],a["Core/Utilities.js"]],function(u,f){var w=this&&this.__extends||function(){var s=function(o,t){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var n in i)i.hasOwnProperty(n)&&(e[n]=i[n])},s(o,t)};return function(o,t){function e(){this.constructor=o}s(o,t),o.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),C=u.seriesTypes.sma,O=f.error,S=f.extend,h=f.merge;return f=function(s){function o(){var t=s!==null&&s.apply(this,arguments)||this;return t.data=void 0,t.options=void 0,t.points=void 0,t}return w(o,s),o.populateAverage=function(t,e,i,n,l){l=e[n][1];var p=e[n][2];return e=e[n][3],i=i[n],[t[n],e===l&&e===p||l===p?0:(2*e-p-l)/(l-p)*i]},o.prototype.getValues=function(t,e){var i=e.period,n=t.xData,l=t.yData,p=e.volumeSeriesID,r=t.chart.get(p);e=r&&r.yData;var c=l?l.length:0,A=[],v=[],g=[];if(!(n.length<=i&&c&&l[0].length!==4)){if(r){for(p=i;p<c;p++)t=A.length,r=o.populateAverage(n,l,e,p,i),0<t&&(r[1]+=A[t-1][1]),A.push(r),v.push(r[0]),g.push(r[1]);return{values:A,xData:v,yData:g}}O("Series "+p+" not found! Check `volumeSeriesID`.",!0,t.chart)}},o.defaultOptions=h(C.defaultOptions,{params:{index:void 0,volumeSeriesID:"volume"}}),o}(C),S(f.prototype,{nameComponents:!1,nameBase:"Accumulation/Distribution"}),u.registerSeriesType("ad",f),f}),L(a,"Stock/Indicators/AO/AOIndicator.js",[a["Core/Globals.js"],a["Core/Series/SeriesRegistry.js"],a["Core/Utilities.js"]],function(u,f,w){var C=this&&this.__extends||function(){var e=function(i,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,p){l.__proto__=p}||function(l,p){for(var r in p)p.hasOwnProperty(r)&&(l[r]=p[r])},e(i,n)};return function(i,n){function l(){this.constructor=i}e(i,n),i.prototype=n===null?Object.create(n):(l.prototype=n.prototype,new l)}}();u=u.noop;var O=f.seriesTypes,S=O.sma;O=O.column;var h=w.extend,s=w.merge,o=w.correctFloat,t=w.isArray;return w=function(e){function i(){var n=e!==null&&e.apply(this,arguments)||this;return n.data=void 0,n.options=void 0,n.points=void 0,n}return C(i,e),i.prototype.drawGraph=function(){var n=this.options,l=this.points,p=n.greaterBarColor;n=n.lowerBarColor;var r=l[0];if(!this.userOptions.color&&r)for(r.color=p,r=1;r<l.length;r++)l[r].color=l[r].y>l[r-1].y?p:l[r].y<l[r-1].y?n:l[r-1].color},i.prototype.getValues=function(n){var l=n.xData||[];n=n.yData||[];var p=n.length,r=[],c=[],A=[],v=0,g=0,P;if(!(34>=l.length)&&t(n[0])&&n[0].length===4){for(P=0;33>P;P++){var x=(n[P][1]+n[P][2])/2;29<=P&&(v=o(v+x)),g=o(g+x)}for(P=33;P<p;P++){x=(n[P][1]+n[P][2])/2,v=o(v+x),g=o(g+x),x=v/5;var k=g/34;x=o(x-k),r.push([l[P],x]),c.push(l[P]),A.push(x),x=P+1-5,k=P+1-34,v=o(v-(n[x][1]+n[x][2])/2),g=o(g-(n[k][1]+n[k][2])/2)}return{values:r,xData:c,yData:A}}},i.defaultOptions=s(S.defaultOptions,{params:{index:void 0,period:void 0},greaterBarColor:"#06b535",lowerBarColor:"#f21313",threshold:0,groupPadding:.2,pointPadding:.2,crisp:!1,states:{hover:{halo:{size:0}}}}),i}(S),h(w.prototype,{nameBase:"AO",nameComponents:!1,markerAttribs:u,getColumnMetrics:O.prototype.getColumnMetrics,crispCol:O.prototype.crispCol,translate:O.prototype.translate,drawPoints:O.prototype.drawPoints}),f.registerSeriesType("ao",w),w}),L(a,"Stock/Indicators/MultipleLinesComposition.js",[a["Core/Series/SeriesRegistry.js"],a["Core/Utilities.js"]],function(u,f){var w=u.seriesTypes.sma,C=f.defined,O=f.error,S=f.merge,h;return function(s){function o(v){var g,P=[];if(v=v||this.points,this.fillGraph&&this.nextPoints){if((g=w.prototype.getGraphPath.call(this,this.nextPoints))&&g.length){g[0][0]="L",P=w.prototype.getGraphPath.call(this,v),g=g.slice(0,P.length);for(var x=g.length-1;0<=x;x--)P.push(g[x])}}else P=w.prototype.getGraphPath.apply(this,arguments);return P}function t(){var v=this,g=v.linesApiNames,P=v.areaLinesNames,x=v.points,k=v.options,m=v.graph,_={options:{gapSize:k.gapSize}},M=[],D=v.getTranslatedLinesNames(v.pointValKey),E=x.length,b;if(D.forEach(function(B,I){for(M[I]=[];E--;)b=x[E],M[I].push({x:b.x,plotX:b.plotX,plotY:b[B],isNull:!C(b[B])});E=x.length}),this.userOptions.fillColor&&P.length){var T=D.indexOf(i(P[0]));T=M[T],P=P.length===1?x:M[D.indexOf(i(P[1]))],D=v.color,v.points=P,v.nextPoints=T,v.color=this.userOptions.fillColor,v.options=S(x,_),v.graph=v.area,v.fillGraph=!0,u.seriesTypes.sma.prototype.drawGraph.call(v),v.area=v.graph,delete v.nextPoints,delete v.fillGraph,v.color=D}g.forEach(function(B,I){M[I]?(v.points=M[I],k[B]?v.options=S(k[B].styles,_):O('Error: "There is no '+B+' in DOCS options declared. Check if linesApiNames are consistent with your DOCS line names." at mixin/multiple-line.js:34'),v.graph=v["graph"+B],w.prototype.drawGraph.call(v),v["graph"+B]=v.graph):O('Error: "'+B+` doesn't have equivalent in pointArrayMap. To many elements in linesApiNames relative to pointArrayMap."`)}),v.points=x,v.options=k,v.graph=m,w.prototype.drawGraph.call(v)}function e(v){var g=[];return(this.pointArrayMap||[]).forEach(function(P){P!==v&&g.push(i(P))}),g}function i(v){return"plot"+v.charAt(0).toUpperCase()+v.slice(1)}function n(v){var g=[];return(this.pointArrayMap||[]).forEach(function(P){g.push(v[P])}),g}function l(){var v=this,g=v.pointArrayMap,P=[],x;P=v.getTranslatedLinesNames(),w.prototype.translate.apply(v,arguments),v.points.forEach(function(k){g.forEach(function(m,_){x=k[m],v.dataModify&&(x=v.dataModify.modifyValue(x)),x!==null&&(k[P[_]]=v.yAxis.toPixels(x,!0))})})}var p=[],r=["bottomLine"],c=["top","bottom"],A=["top"];s.compose=function(v){if(p.indexOf(v)===-1){p.push(v);var g=v.prototype;g.linesApiNames=g.linesApiNames||r.slice(),g.pointArrayMap=g.pointArrayMap||c.slice(),g.pointValKey=g.pointValKey||"top",g.areaLinesNames=g.areaLinesNames||A.slice(),g.drawGraph=t,g.getGraphPath=o,g.toYData=n,g.translate=l,g.getTranslatedLinesNames=e}return v}}(h||(h={})),h}),L(a,"Stock/Indicators/Aroon/AroonIndicator.js",[a["Stock/Indicators/MultipleLinesComposition.js"],a["Core/Series/SeriesRegistry.js"],a["Core/Utilities.js"]],function(u,f,w){function C(t,e){var i=t[0],n=0,l;for(l=1;l<t.length;l++)(e==="max"&&t[l]>=i||e==="min"&&t[l]<=i)&&(i=t[l],n=l);return n}var O=this&&this.__extends||function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,l){n.__proto__=l}||function(n,l){for(var p in l)l.hasOwnProperty(p)&&(n[p]=l[p])},t(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=i===null?Object.create(i):(n.prototype=i.prototype,new n)}}(),S=f.seriesTypes.sma,h=w.extend,s=w.merge,o=w.pick;return w=function(t){function e(){var i=t!==null&&t.apply(this,arguments)||this;return i.data=void 0,i.options=void 0,i.points=void 0,i}return O(e,t),e.prototype.getValues=function(i,n){n=n.period;var l=i.xData,p=(i=i.yData)?i.length:0,r=[],c=[],A=[],v;for(v=n-1;v<p;v++){var g=i.slice(v-n+1,v+2),P=C(g.map(function(x){return o(x[2],x)}),"min");g=C(g.map(function(x){return o(x[1],x)}),"max"),g=g/n*100,P=P/n*100,l[v+1]&&(r.push([l[v+1],g,P]),c.push(l[v+1]),A.push([g,P]))}return{values:r,xData:c,yData:A}},e.defaultOptions=s(S.defaultOptions,{params:{index:void 0,period:25},marker:{enabled:!1},tooltip:{pointFormat:'<span style="color:{point.color}">\u25CF</span><b> {series.name}</b><br/>Aroon Up: {point.y}<br/>Aroon Down: {point.aroonDown}<br/>'},aroonDown:{styles:{lineWidth:1,lineColor:void 0}},dataGrouping:{approximation:"averages"}}),e}(S),h(w.prototype,{areaLinesNames:[],linesApiNames:["aroonDown"],nameBase:"Aroon",pointArrayMap:["y","aroonDown"],pointValKey:"y"}),u.compose(w),f.registerSeriesType("aroon",w),w}),L(a,"Stock/Indicators/AroonOscillator/AroonOscillatorIndicator.js",[a["Stock/Indicators/MultipleLinesComposition.js"],a["Core/Series/SeriesRegistry.js"],a["Core/Utilities.js"]],function(u,f,w){var C=this&&this.__extends||function(){var o=function(t,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var l in n)n.hasOwnProperty(l)&&(i[l]=n[l])},o(t,e)};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=e===null?Object.create(e):(i.prototype=e.prototype,new i)}}(),O=f.seriesTypes.aroon,S=w.extend,h=w.merge,s=f.seriesTypes.aroon;return w=function(o){function t(){var e=o!==null&&o.apply(this,arguments)||this;return e.data=void 0,e.options=void 0,e.points=void 0,e}return C(t,o),t.prototype.getValues=function(e,i){var n=[],l=[],p=[];for(e=s.prototype.getValues.call(this,e,i),i=0;i<e.yData.length;i++){var r=e.yData[i][0],c=e.yData[i][1];r-=c,n.push([e.xData[i],r]),l.push(e.xData[i]),p.push(r)}return{values:n,xData:l,yData:p}},t.defaultOptions=h(O.defaultOptions,{tooltip:{pointFormat:'<span style="color:{point.color}">\u25CF</span><b> {series.name}</b>: {point.y}'}}),t}(O),S(w.prototype,{nameBase:"Aroon Oscillator",linesApiNames:[],pointArrayMap:["y"],pointValKey:"y"}),u.compose(O),f.registerSeriesType("aroonoscillator",w),w}),L(a,"Stock/Indicators/ATR/ATRIndicator.js",[a["Core/Series/SeriesRegistry.js"],a["Core/Utilities.js"]],function(u,f){function w(s,o){return Math.max(s[1]-s[2],typeof o=="undefined"?0:Math.abs(s[1]-o[3]),typeof o=="undefined"?0:Math.abs(s[2]-o[3]))}var C=this&&this.__extends||function(){var s=function(o,t){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var n in i)i.hasOwnProperty(n)&&(e[n]=i[n])},s(o,t)};return function(o,t){function e(){this.constructor=o}s(o,t),o.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),O=u.seriesTypes.sma,S=f.isArray,h=f.merge;return f=function(s){function o(){var t=s!==null&&s.apply(this,arguments)||this;return t.data=void 0,t.points=void 0,t.options=void 0,t}return C(o,s),o.prototype.getValues=function(t,e){e=e.period;var i=t.xData,n=(t=t.yData)?t.length:0,l=1,p=0,r=0,c=[],A=[],v=[],g,P=[[i[0],t[0]]];if(!(i.length<=e)&&S(t[0])&&t[0].length===4){for(g=1;g<=n;g++)if(P.push([i[g],t[g]]),e<l){var x=e,k=i[g-1],m=w(t[g-1],t[g-2]);x=[k,(p*(x-1)+m)/x],p=x[1],c.push(x),A.push(x[0]),v.push(x[1])}else e===l?(p=r/(g-1),c.push([i[g-1],p]),A.push(i[g-1]),v.push(p)):r+=w(t[g-1],t[g-2]),l++;return{values:c,xData:A,yData:v}}},o.defaultOptions=h(O.defaultOptions,{params:{index:void 0}}),o}(O),u.registerSeriesType("atr",f),f}),L(a,"Stock/Indicators/BB/BBIndicator.js",[a["Stock/Indicators/MultipleLinesComposition.js"],a["Core/Series/SeriesRegistry.js"],a["Core/Utilities.js"]],function(u,f,w){var C=this&&this.__extends||function(){var o=function(t,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var l in n)n.hasOwnProperty(l)&&(i[l]=n[l])},o(t,e)};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=e===null?Object.create(e):(i.prototype=e.prototype,new i)}}(),O=f.seriesTypes.sma,S=w.extend,h=w.isArray,s=w.merge;return w=function(o){function t(){var e=o!==null&&o.apply(this,arguments)||this;return e.data=void 0,e.options=void 0,e.points=void 0,e}return C(t,o),t.prototype.init=function(){f.seriesTypes.sma.prototype.init.apply(this,arguments),this.options=s({topLine:{styles:{lineColor:this.color}},bottomLine:{styles:{lineColor:this.color}}},this.options)},t.prototype.getValues=function(e,i){var n=i.period,l=i.standardDeviation,p=e.xData,r=(e=e.yData)?e.length:0,c=[],A=[],v=[],g;if(!(p.length<n)){var P=h(e[0]);for(g=n;g<=r;g++){var x=p.slice(g-n,g),k=e.slice(g-n,g),m=f.seriesTypes.sma.prototype.getValues.call(this,{xData:x,yData:k},i);x=m.xData[0],m=m.yData[0];for(var _=0,M=k.length,D=0;D<M;D++){var E=(P?k[D][i.index]:k[D])-m;_+=E*E}E=Math.sqrt(_/(M-1)),k=m+l*E,E=m-l*E,c.push([x,k,m,E]),A.push(x),v.push([k,m,E])}return{values:c,xData:A,yData:v}}},t.defaultOptions=s(O.defaultOptions,{params:{period:20,standardDeviation:2,index:3},bottomLine:{styles:{lineWidth:1,lineColor:void 0}},topLine:{styles:{lineWidth:1,lineColor:void 0}},tooltip:{pointFormat:'<span style="color:{point.color}">\u25CF</span><b> {series.name}</b><br/>Top: {point.top}<br/>Middle: {point.middle}<br/>Bottom: {point.bottom}<br/>'},marker:{enabled:!1},dataGrouping:{approximation:"averages"}}),t}(O),S(w.prototype,{areaLinesNames:["top","bottom"],pointArrayMap:["top","middle","bottom"],pointValKey:"middle",nameComponents:["period","standardDeviation"],linesApiNames:["topLine","bottomLine"]}),u.compose(w),f.registerSeriesType("bb",w),w}),L(a,"Stock/Indicators/CCI/CCIIndicator.js",[a["Core/Series/SeriesRegistry.js"],a["Core/Utilities.js"]],function(u,f){function w(s){return s.reduce(function(o,t){return o+t},0)}var C=this&&this.__extends||function(){var s=function(o,t){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var n in i)i.hasOwnProperty(n)&&(e[n]=i[n])},s(o,t)};return function(o,t){function e(){this.constructor=o}s(o,t),o.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),O=u.seriesTypes.sma,S=f.isArray,h=f.merge;return f=function(s){function o(){var t=s!==null&&s.apply(this,arguments)||this;return t.data=void 0,t.points=void 0,t.options=void 0,t}return C(o,s),o.prototype.getValues=function(t,e){e=e.period;var i=t.xData,n=(t=t.yData)?t.length:0,l=[],p=1,r=[],c=[],A=[];if(!(i.length<=e)&&S(t[0])&&t[0].length===4){for(;p<e;){var v=t[p-1];l.push((v[1]+v[2]+v[3])/3),p++}for(p=e;p<=n;p++){v=t[p-1],v=(v[1]+v[2]+v[3])/3;var g=l.push(v),P=l.slice(g-e);g=w(P)/e;var x,k=P.length,m=0;for(x=0;x<k;x++)m+=Math.abs(g-P[x]);P=m/e,v=(v-g)/(.015*P),r.push([i[p-1],v]),c.push(i[p-1]),A.push(v)}return{values:r,xData:c,yData:A}}},o.defaultOptions=h(O.defaultOptions,{params:{index:void 0}}),o}(O),u.registerSeriesType("cci",f),f}),L(a,"Stock/Indicators/CMF/CMFIndicator.js",[a["Core/Series/SeriesRegistry.js"],a["Core/Utilities.js"]],function(u,f){var w=this&&this.__extends||function(){var S=function(h,s){return S=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,t){o.__proto__=t}||function(o,t){for(var e in t)t.hasOwnProperty(e)&&(o[e]=t[e])},S(h,s)};return function(h,s){function o(){this.constructor=h}S(h,s),h.prototype=s===null?Object.create(s):(o.prototype=s.prototype,new o)}}(),C=u.seriesTypes.sma,O=f.merge;return f=function(S){function h(){var s=S!==null&&S.apply(this,arguments)||this;return s.data=void 0,s.options=void 0,s.points=void 0,s.volumeSeries=void 0,s.linkedParent=void 0,s.yData=void 0,s.nameBase="Chaikin Money Flow",s}return w(h,S),h.prototype.isValid=function(){var s=this.chart,o=this.options,t=this.linkedParent;s=this.volumeSeries||(this.volumeSeries=s.get(o.params.volumeSeriesID));var e=t&&t.yData&&t.yData[0].length===4;return!!(t&&s&&t.xData&&t.xData.length>=o.params.period&&s.xData&&s.xData.length>=o.params.period&&e)},h.prototype.getValues=function(s,o){if(this.isValid())return this.getMoneyFlow(s.xData,s.yData,this.volumeSeries.yData,o.period)},h.prototype.getMoneyFlow=function(s,o,t,e){function i(k,m){var _=k[1],M=k[2];return k=k[3],m!==null&&_!==null&&M!==null&&k!==null&&_!==M?(k-M-(_-k))/(_-M)*m:(P=g,null)}var n=o.length,l=[],p=0,r=0,c=[],A=[],v=[],g,P=-1;if(0<e&&e<=n){for(g=0;g<e;g++)l[g]=i(o[g],t[g]),p+=t[g],r+=l[g];for(c.push(s[g-1]),A.push(g-P>=e&&p!==0?r/p:null),v.push([c[0],A[0]]);g<n;g++){l[g]=i(o[g],t[g]),p-=t[g-e],p+=t[g],r-=l[g-e],r+=l[g];var x=[s[g],g-P>=e?r/p:null];c.push(x[0]),A.push(x[1]),v.push([x[0],x[1]])}}return{values:v,xData:c,yData:A}},h.defaultOptions=O(C.defaultOptions,{params:{index:void 0,volumeSeriesID:"volume"}}),h}(C),u.registerSeriesType("cmf",f),f}),L(a,"Stock/Indicators/DMI/DMIIndicator.js",[a["Stock/Indicators/MultipleLinesComposition.js"],a["Core/Series/SeriesRegistry.js"],a["Core/Utilities.js"]],function(u,f,w){var C=this&&this.__extends||function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,l){n.__proto__=l}||function(n,l){for(var p in l)l.hasOwnProperty(p)&&(n[p]=l[p])},t(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=i===null?Object.create(i):(n.prototype=i.prototype,new n)}}(),O=f.seriesTypes.sma,S=w.correctFloat,h=w.extend,s=w.isArray,o=w.merge;return w=function(t){function e(){var i=t!==null&&t.apply(this,arguments)||this;return i.options=void 0,i}return C(e,t),e.prototype.calculateDM=function(i,n,l){var p=i[n][1],r=i[n][2],c=i[n-1][1];return i=i[n-1][2],S(p-c>i-r?l?Math.max(p-c,0):0:l?0:Math.max(i-r,0))},e.prototype.calculateDI=function(i,n){return i/n*100},e.prototype.calculateDX=function(i,n){return S(Math.abs(i-n)/Math.abs(i+n)*100)},e.prototype.smoothValues=function(i,n,l){return S(i-i/l+n)},e.prototype.getTR=function(i,n){return S(Math.max(i[1]-i[2],n?Math.abs(i[1]-n[3]):0,n?Math.abs(i[2]-n[3]):0))},e.prototype.getValues=function(i,n){n=n.period;var l=i.xData,p=(i=i.yData)?i.length:0,r=[],c=[],A=[];if(!(l.length<=n)&&s(i[0])&&i[0].length===4){var v=0,g=0,P=0,x;for(x=1;x<p;x++)if(x<=n){var k=this.calculateDM(i,x,!0),m=this.calculateDM(i,x),_=this.getTR(i[x],i[x-1]);v+=k,g+=m,P+=_,x===n&&(_=this.calculateDI(v,P),m=this.calculateDI(g,P),k=this.calculateDX(v,g),r.push([l[x],k,_,m]),c.push(l[x]),A.push([k,_,m]))}else k=this.calculateDM(i,x,!0),m=this.calculateDM(i,x),_=this.getTR(i[x],i[x-1]),v=this.smoothValues(v,k,n),g=this.smoothValues(g,m,n),P=this.smoothValues(P,_,n),_=this.calculateDI(v,P),m=this.calculateDI(g,P),k=this.calculateDX(v,g),r.push([l[x],k,_,m]),c.push(l[x]),A.push([k,_,m]);return{values:r,xData:c,yData:A}}},e.defaultOptions=o(O.defaultOptions,{params:{index:void 0},marker:{enabled:!1},tooltip:{pointFormat:'<span style="color: {point.color}">\u25CF</span><b> {series.name}</b><br/><span style="color: {point.color}">DX</span>: {point.y}<br/><span style="color: {point.series.options.plusDILine.styles.lineColor}">+DI</span>: {point.plusDI}<br/><span style="color: {point.series.options.minusDILine.styles.lineColor}">-DI</span>: {point.minusDI}<br/>'},plusDILine:{styles:{lineWidth:1,lineColor:"#06b535"}},minusDILine:{styles:{lineWidth:1,lineColor:"#f21313"}},dataGrouping:{approximation:"averages"}}),e}(O),h(w.prototype,{areaLinesNames:[],nameBase:"DMI",linesApiNames:["plusDILine","minusDILine"],pointArrayMap:["y","plusDI","minusDI"],parallelArrays:["x","y","plusDI","minusDI"],pointValKey:"y"}),u.compose(w),f.registerSeriesType("dmi",w),w}),L(a,"Stock/Indicators/DPO/DPOIndicator.js",[a["Core/Series/SeriesRegistry.js"],a["Core/Utilities.js"]],function(u,f){function w(t,e,i,n,l){return e=o(e[i][n],e[i]),s(l?t-e:t+e)}var C=this&&this.__extends||function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,l){n.__proto__=l}||function(n,l){for(var p in l)l.hasOwnProperty(p)&&(n[p]=l[p])},t(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=i===null?Object.create(i):(n.prototype=i.prototype,new n)}}(),O=u.seriesTypes.sma,S=f.extend,h=f.merge,s=f.correctFloat,o=f.pick;return f=function(t){function e(){var i=t!==null&&t.apply(this,arguments)||this;return i.options=void 0,i.data=void 0,i.points=void 0,i}return C(e,t),e.prototype.getValues=function(i,n){var l=n.period;n=n.index;var p=l+Math.floor(l/2+1),r=i.xData||[];i=i.yData||[];var c=i.length,A=[],v=[],g=[],P=0,x,k;if(!(r.length<=p)){for(x=0;x<l-1;x++)P=w(P,i,x,n);for(k=0;k<=c-p;k++){var m=k+l-1;x=k+p-1,P=w(P,i,m,n),m=o(i[x][n],i[x]),m-=P/l,P=w(P,i,k,n,!0),A.push([r[x],m]),v.push(r[x]),g.push(m)}return{values:A,xData:v,yData:g}}},e.defaultOptions=h(O.defaultOptions,{params:{index:0,period:21}}),e}(O),S(f.prototype,{nameBase:"DPO"}),u.registerSeriesType("dpo",f),f}),L(a,"Stock/Indicators/Chaikin/ChaikinIndicator.js",[a["Core/Series/SeriesRegistry.js"],a["Core/Utilities.js"]],function(u,f){var w=this&&this.__extends||function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,l){n.__proto__=l}||function(n,l){for(var p in l)l.hasOwnProperty(p)&&(n[p]=l[p])},t(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=i===null?Object.create(i):(n.prototype=i.prototype,new n)}}(),C=u.seriesTypes,O=C.ad,S=C.ema,h=f.correctFloat;C=f.extend;var s=f.merge,o=f.error;return f=function(t){function e(){var i=t!==null&&t.apply(this,arguments)||this;return i.data=void 0,i.options=void 0,i.points=void 0,i}return w(e,t),e.prototype.getValues=function(i,n){var l=n.periods,p=n.period,r=[],c=[],A=[],v;if(l.length!==2||l[1]<=l[0])o('Error: "Chaikin requires two periods. Notice, first period should be lower than the second one."');else if((n=O.prototype.getValues.call(this,i,{volumeSeriesID:n.volumeSeriesID,period:p}))&&(i=S.prototype.getValues.call(this,n,{period:l[0]}),n=S.prototype.getValues.call(this,n,{period:l[1]}),i&&n)){for(l=l[1]-l[0],v=0;v<n.yData.length;v++)p=h(i.yData[v+l]-n.yData[v]),r.push([n.xData[v],p]),c.push(n.xData[v]),A.push(p);return{values:r,xData:c,yData:A}}},e.defaultOptions=s(S.defaultOptions,{params:{index:void 0,volumeSeriesID:"volume",period:9,periods:[3,10]}}),e}(S),C(f.prototype,{nameBase:"Chaikin Osc",nameComponents:["periods"]}),u.registerSeriesType("chaikin",f),f}),L(a,"Stock/Indicators/CMO/CMOIndicator.js",[a["Core/Series/SeriesRegistry.js"],a["Core/Utilities.js"]],function(u,f){var w=this&&this.__extends||function(){var h=function(s,o){return h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},h(s,o)};return function(s,o){function t(){this.constructor=s}h(s,o),s.prototype=o===null?Object.create(o):(t.prototype=o.prototype,new t)}}(),C=u.seriesTypes.sma,O=f.isNumber,S=f.merge;return f=function(h){function s(){var o=h!==null&&h.apply(this,arguments)||this;return o.data=void 0,o.options=void 0,o.points=void 0,o}return w(s,h),s.prototype.getValues=function(o,t){var e=t.period,i=o.xData,n=o.yData;o=n?n.length:0;var l=[],p=[],r=[],c,A=t.index;if(!(i.length<e)){O(n[0])?t=n:(A=Math.min(A,n[0].length-1),t=n.map(function(P){return P[A]}));var v=0,g=n=0;for(c=e;0<c;c--)t[c]>t[c-1]?n+=t[c]-t[c-1]:t[c]<t[c-1]&&(g+=t[c-1]-t[c]);for(v=0<n+g?100*(n-g)/(n+g):0,p.push(i[e]),r.push(v),l.push([i[e],v]),c=e+1;c<o;c++)v=Math.abs(t[c-e-1]-t[c-e]),t[c]>t[c-1]?n+=t[c]-t[c-1]:t[c]<t[c-1]&&(g+=t[c-1]-t[c]),t[c-e]>t[c-e-1]?n-=v:g-=v,v=0<n+g?100*(n-g)/(n+g):0,p.push(i[c]),r.push(v),l.push([i[c],v]);return{values:l,xData:p,yData:r}}},s.defaultOptions=S(C.defaultOptions,{params:{period:20,index:3}}),s}(C),u.registerSeriesType("cmo",f),f}),L(a,"Stock/Indicators/DEMA/DEMAIndicator.js",[a["Core/Series/SeriesRegistry.js"],a["Core/Utilities.js"]],function(u,f){var w=this&&this.__extends||function(){var s=function(o,t){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var n in i)i.hasOwnProperty(n)&&(e[n]=i[n])},s(o,t)};return function(o,t){function e(){this.constructor=o}s(o,t),o.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),C=u.seriesTypes.ema,O=f.correctFloat,S=f.isArray,h=f.merge;return f=function(s){function o(){var t=s!==null&&s.apply(this,arguments)||this;return t.EMApercent=void 0,t.data=void 0,t.options=void 0,t.points=void 0,t}return w(o,s),o.prototype.getEMA=function(t,e,i,n,l,p){return C.prototype.calculateEma(p||[],t,typeof l=="undefined"?1:l,this.EMApercent,e,typeof n=="undefined"?-1:n,i)},o.prototype.getValues=function(t,e){var i=e.period,n=2*i,l=t.xData,p=(t=t.yData)?t.length:0,r=-1,c=[],A=[],v=[],g=0,P=[],x;if(this.EMApercent=2/(i+1),!(p<2*i-1)){S(t[0])&&(r=e.index?e.index:0),e=C.prototype.accumulatePeriodPoints(i,r,t);var k=e/i;for(e=0,x=i;x<p+2;x++){x<p+1&&(g=this.getEMA(t,m,k,r,x)[1],P.push(g));var m=g;if(x<n)e+=g;else{x===n&&(k=e/i),g=P[x-i-1];var _=this.getEMA([g],_,k)[1],M=[l[x-2],O(2*g-_)];c.push(M),A.push(M[0]),v.push(M[1])}}return{values:c,xData:A,yData:v}}},o.defaultOptions=h(C.defaultOptions),o}(C),u.registerSeriesType("dema",f),f}),L(a,"Stock/Indicators/TEMA/TEMAIndicator.js",[a["Core/Series/SeriesRegistry.js"],a["Core/Utilities.js"]],function(u,f){var w=this&&this.__extends||function(){var s=function(o,t){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var n in i)i.hasOwnProperty(n)&&(e[n]=i[n])},s(o,t)};return function(o,t){function e(){this.constructor=o}s(o,t),o.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),C=u.seriesTypes.ema,O=f.correctFloat,S=f.isArray,h=f.merge;return f=function(s){function o(){var t=s!==null&&s.apply(this,arguments)||this;return t.EMApercent=void 0,t.data=void 0,t.options=void 0,t.points=void 0,t}return w(o,s),o.prototype.getEMA=function(t,e,i,n,l,p){return C.prototype.calculateEma(p||[],t,typeof l=="undefined"?1:l,this.EMApercent,e,typeof n=="undefined"?-1:n,i)},o.prototype.getTemaPoint=function(t,e,i,n){return[t[n-3],O(3*i.level1-3*i.level2+i.level3)]},o.prototype.getValues=function(t,e){var i=e.period,n=2*i,l=3*i,p=t.xData,r=(t=t.yData)?t.length:0,c=-1,A=[],v=[],g=[],P=[],x=[],k,m,_={};if(this.EMApercent=2/(i+1),!(r<3*i-2)){S(t[0])&&(c=e.index?e.index:0),e=C.prototype.accumulatePeriodPoints(i,c,t);var M=e/i;for(e=0,k=i;k<r+3;k++){k<r+1&&(_.level1=this.getEMA(t,D,M,c,k)[1],P.push(_.level1));var D=_.level1;if(k<n)e+=_.level1;else{k===n&&(M=e/i,e=0),_.level1=P[k-i-1],_.level2=this.getEMA([_.level1],E,M)[1],x.push(_.level2);var E=_.level2;k<l?e+=_.level2:(k===l&&(M=e/i),k===r+1&&(_.level1=P[k-i-1],_.level2=this.getEMA([_.level1],E,M)[1],x.push(_.level2)),_.level1=P[k-i-2],_.level2=x[k-2*i-1],_.level3=this.getEMA([_.level2],_.prevLevel3,M)[1],(m=this.getTemaPoint(p,l,_,k))&&(A.push(m),v.push(m[0]),g.push(m[1])),_.prevLevel3=_.level3)}}return{values:A,xData:v,yData:g}}},o.defaultOptions=h(C.defaultOptions),o}(C),u.registerSeriesType("tema",f),f}),L(a,"Stock/Indicators/TRIX/TRIXIndicator.js",[a["Core/Series/SeriesRegistry.js"],a["Core/Utilities.js"]],function(u,f){var w=this&&this.__extends||function(){var h=function(s,o){return h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},h(s,o)};return function(s,o){function t(){this.constructor=s}h(s,o),s.prototype=o===null?Object.create(o):(t.prototype=o.prototype,new t)}}(),C=u.seriesTypes.tema,O=f.correctFloat,S=f.merge;return f=function(h){function s(){var o=h!==null&&h.apply(this,arguments)||this;return o.data=void 0,o.options=void 0,o.points=void 0,o}return w(s,h),s.prototype.getTemaPoint=function(o,t,e,i){if(i>t)return[o[i-3],e.prevLevel3!==0?O(e.level3-e.prevLevel3)/e.prevLevel3*100:null]},s.defaultOptions=S(C.defaultOptions),s}(C),u.registerSeriesType("trix",f),f}),L(a,"Stock/Indicators/APO/APOIndicator.js",[a["Core/Series/SeriesRegistry.js"],a["Core/Utilities.js"]],function(u,f){var w=this&&this.__extends||function(){var s=function(o,t){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var n in i)i.hasOwnProperty(n)&&(e[n]=i[n])},s(o,t)};return function(o,t){function e(){this.constructor=o}s(o,t),o.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),C=u.seriesTypes.ema,O=f.extend,S=f.merge,h=f.error;return f=function(s){function o(){var t=s!==null&&s.apply(this,arguments)||this;return t.data=void 0,t.options=void 0,t.points=void 0,t}return w(o,s),o.prototype.getValues=function(t,e){var i=e.periods,n=e.index;e=[];var l=[],p=[],r;if(i.length!==2||i[1]<=i[0])h('Error: "APO requires two periods. Notice, first period should be lower than the second one."');else{var c=C.prototype.getValues.call(this,t,{index:n,period:i[0]});if(t=C.prototype.getValues.call(this,t,{index:n,period:i[1]}),c&&t){for(i=i[1]-i[0],r=0;r<t.yData.length;r++)n=c.yData[r+i]-t.yData[r],e.push([t.xData[r],n]),l.push(t.xData[r]),p.push(n);return{values:e,xData:l,yData:p}}}},o.defaultOptions=S(C.defaultOptions,{params:{period:void 0,periods:[10,20]}}),o}(C),O(f.prototype,{nameBase:"APO",nameComponents:["periods"]}),u.registerSeriesType("apo",f),f}),L(a,"Stock/Indicators/IKH/IKHIndicator.js",[a["Core/Color/Color.js"],a["Core/Globals.js"],a["Core/Series/SeriesRegistry.js"],a["Core/Utilities.js"]],function(u,f,w,C){function O(v){return v.reduce(function(g,P){return Math.max(g,P[1])},-1/0)}function S(v){return v.reduce(function(g,P){return Math.min(g,P[2])},1/0)}function h(v){return{high:O(v),low:S(v)}}function s(v){var g,P,x,k;return v.series.forEach(function(m){if(m.xData)for(x=m.xData,k=m.xIncrement?1:x.length-1;0<k;k--)P=x[k]-x[k-1],(typeof g=="undefined"||P<g)&&(g=P)}),g}function o(v,g,P,x){if(v&&g&&P&&x){var k=g.plotX-v.plotX;g=g.plotY-v.plotY;var m=x.plotX-P.plotX;x=x.plotY-P.plotY;var _=v.plotX-P.plotX,M=v.plotY-P.plotY;if(P=(-g*_+k*M)/(-m*g+k*x),m=(m*M-x*_)/(-m*g+k*x),0<=P&&1>=P&&0<=m&&1>=m)return{plotX:v.plotX+m*k,plotY:v.plotY+m*g}}return!1}function t(v){var g=v.indicator;g.points=v.points,g.nextPoints=v.nextPoints,g.color=v.color,g.options=c(v.options.senkouSpan.styles,v.gap),g.graph=v.graph,g.fillGraph=!0,w.seriesTypes.sma.prototype.drawGraph.call(g)}var e=this&&this.__extends||function(){var v=function(g,P){return v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(x,k){x.__proto__=k}||function(x,k){for(var m in k)k.hasOwnProperty(m)&&(x[m]=k[m])},v(g,P)};return function(g,P){function x(){this.constructor=g}v(g,P),g.prototype=P===null?Object.create(P):(x.prototype=P.prototype,new x)}}(),i=u.parse,n=w.seriesTypes.sma,l=C.defined;u=C.extend;var p=C.isArray,r=C.isNumber,c=C.merge,A=C.objectEach;return f.approximations["ichimoku-averages"]=function(){var v=[],g;return[].forEach.call(arguments,function(P,x){v.push(f.approximations.average(P)),g=!g&&typeof v[x]=="undefined"}),g?void 0:v},C=function(v){function g(){var P=v!==null&&v.apply(this,arguments)||this;return P.data=void 0,P.options=void 0,P.points=void 0,P.graphCollection=void 0,P.graphsenkouSpan=void 0,P.ikhMap=void 0,P.nextPoints=void 0,P}return e(g,v),g.prototype.init=function(){w.seriesTypes.sma.prototype.init.apply(this,arguments),this.options=c({tenkanLine:{styles:{lineColor:this.color}},kijunLine:{styles:{lineColor:this.color}},chikouLine:{styles:{lineColor:this.color}},senkouSpanA:{styles:{lineColor:this.color,fill:i(this.color).setOpacity(.5).get()}},senkouSpanB:{styles:{lineColor:this.color,fill:i(this.color).setOpacity(.5).get()}},senkouSpan:{styles:{fill:i(this.color).setOpacity(.2).get()}}},this.options)},g.prototype.toYData=function(P){return[P.tenkanSen,P.kijunSen,P.chikouSpan,P.senkouSpanA,P.senkouSpanB]},g.prototype.translate=function(){var P=this;w.seriesTypes.sma.prototype.translate.apply(P),P.points.forEach(function(x){P.pointArrayMap.forEach(function(k){var m=x[k];r(m)&&(x["plot"+k]=P.yAxis.toPixels(m,!0),x.plotY=x["plot"+k],x.tooltipPos=[x.plotX,x["plot"+k]],x.isNull=!1)})})},g.prototype.drawGraph=function(){var P=this,x=P.points,k=x.length,m=P.options,_=P.graph,M=P.color,D={options:{gapSize:m.gapSize}},E=P.pointArrayMap.length,b=[[],[],[],[],[],[]],T={tenkanLine:b[0],kijunLine:b[1],chikouLine:b[2],senkouSpanA:b[3],senkouSpanB:b[4],senkouSpan:b[5]},B=[],I=P.options.senkouSpan,N=I.color||I.styles.fill,V=I.negativeColor,j=[[],[]],R=[[],[]],F=0,Y,z,W;for(P.ikhMap=T;k--;){var $=x[k];for(Y=0;Y<E;Y++)I=P.pointArrayMap[Y],l($[I])&&b[Y].push({plotX:$.plotX,plotY:$["plot"+I],isNull:!1});V&&k!==x.length-1&&(I=T.senkouSpanB.length-1,$=o(T.senkouSpanA[I-1],T.senkouSpanA[I],T.senkouSpanB[I-1],T.senkouSpanB[I]),Y={plotX:$.plotX,plotY:$.plotY,isNull:!1,intersectPoint:!0},$&&(T.senkouSpanA.splice(I,0,Y),T.senkouSpanB.splice(I,0,Y),B.push(I)))}if(A(T,function(H,Z){m[Z]&&Z!=="senkouSpan"&&(P.points=b[F],P.options=c(m[Z].styles,D),P.graph=P["graph"+Z],P.fillGraph=!1,P.color=M,w.seriesTypes.sma.prototype.drawGraph.call(P),P["graph"+Z]=P.graph),F++}),P.graphCollection&&P.graphCollection.forEach(function(H){P[H].destroy(),delete P[H]}),P.graphCollection=[],V&&T.senkouSpanA[0]&&T.senkouSpanB[0]){for(B.unshift(0),B.push(T.senkouSpanA.length-1),E=0;E<B.length-1;E++){if(I=B[E],$=B[E+1],k=T.senkouSpanB.slice(I,$+1),I=T.senkouSpanA.slice(I,$+1),1<=Math.floor(k.length/2))if($=Math.floor(k.length/2),k[$].plotY===I[$].plotY){for(W=Y=$=0;W<k.length;W++)$+=k[W].plotY,Y+=I[W].plotY;$=$>Y?0:1}else $=k[$].plotY>I[$].plotY?0:1;else $=k[0].plotY>I[0].plotY?0:1;j[$]=j[$].concat(k),R[$]=R[$].concat(I)}["graphsenkouSpanColor","graphsenkouSpanNegativeColor"].forEach(function(H,Z){j[Z].length&&R[Z].length&&(z=Z===0?N:V,t({indicator:P,points:j[Z],nextPoints:R[Z],color:z,options:m,gap:D,graph:P[H]}),P[H]=P.graph,P.graphCollection.push(H))})}else t({indicator:P,points:T.senkouSpanB,nextPoints:T.senkouSpanA,color:N,options:m,gap:D,graph:P.graphsenkouSpan}),P.graphsenkouSpan=P.graph;delete P.nextPoints,delete P.fillGraph,P.points=x,P.options=m,P.graph=_,P.color=M},g.prototype.getGraphPath=function(P){var x=[],k;if(P=P||this.points,this.fillGraph&&this.nextPoints){if((k=w.seriesTypes.sma.prototype.getGraphPath.call(this,this.nextPoints))&&k.length){k[0][0]="L",x=w.seriesTypes.sma.prototype.getGraphPath.call(this,P),k=k.slice(0,x.length);for(var m=k.length-1;0<=m;m--)x.push(k[m])}}else x=w.seriesTypes.sma.prototype.getGraphPath.apply(this,arguments);return x},g.prototype.getValues=function(P,x){var k=x.period,m=x.periodTenkan;x=x.periodSenkouSpanB;var _=P.xData,M=P.yData,D=M&&M.length||0;P=s(P.xAxis);var E=[],b=[],T;if(!(_.length<=k)&&p(M[0])&&M[0].length===4){var B=_[0]-k*P;for(T=0;T<k;T++)b.push(B+T*P);for(T=0;T<D;T++){if(T>=m){var I=M.slice(T-m,T);I=h(I),I=(I.high+I.low)/2}if(T>=k){var N=M.slice(T-k,T);N=h(N),N=(N.high+N.low)/2;var V=(I+N)/2}if(T>=x){var j=M.slice(T-x,T);j=h(j),j=(j.high+j.low)/2}B=M[T][3];var R=_[T];typeof E[T]=="undefined"&&(E[T]=[]),typeof E[T+k]=="undefined"&&(E[T+k]=[]),E[T+k][0]=I,E[T+k][1]=N,E[T+k][2]=void 0,E[T][2]=B,T<=k&&(E[T+k][3]=void 0,E[T+k][4]=void 0),typeof E[T+2*k]=="undefined"&&(E[T+2*k]=[]),E[T+2*k][3]=V,E[T+2*k][4]=j,b.push(R)}for(T=1;T<=k;T++)b.push(R+T*P);return{values:E,xData:b,yData:E}}},g.defaultOptions=c(n.defaultOptions,{params:{index:void 0,period:26,periodTenkan:9,periodSenkouSpanB:52},marker:{enabled:!1},tooltip:{pointFormat:'<span style="color:{point.color}">\u25CF</span> <b> {series.name}</b><br/>TENKAN SEN: {point.tenkanSen:.3f}<br/>KIJUN SEN: {point.kijunSen:.3f}<br/>CHIKOU SPAN: {point.chikouSpan:.3f}<br/>SENKOU SPAN A: {point.senkouSpanA:.3f}<br/>SENKOU SPAN B: {point.senkouSpanB:.3f}<br/>'},tenkanLine:{styles:{lineWidth:1,lineColor:void 0}},kijunLine:{styles:{lineWidth:1,lineColor:void 0}},chikouLine:{styles:{lineWidth:1,lineColor:void 0}},senkouSpanA:{styles:{lineWidth:1,lineColor:void 0}},senkouSpanB:{styles:{lineWidth:1,lineColor:void 0}},senkouSpan:{styles:{fill:"rgba(255, 0, 0, 0.5)"}},dataGrouping:{approximation:"ichimoku-averages"}}),g}(n),u(C.prototype,{pointArrayMap:["tenkanSen","kijunSen","chikouSpan","senkouSpanA","senkouSpanB"],pointValKey:"tenkanSen",nameComponents:["periodSenkouSpanB","period","periodTenkan"]}),w.registerSeriesType("ikh",C),C}),L(a,"Stock/Indicators/KeltnerChannels/KeltnerChannelsIndicator.js",[a["Stock/Indicators/MultipleLinesComposition.js"],a["Core/Series/SeriesRegistry.js"],a["Core/Utilities.js"]],function(u,f,w){var C=this&&this.__extends||function(){var o=function(t,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var l in n)n.hasOwnProperty(l)&&(i[l]=n[l])},o(t,e)};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=e===null?Object.create(e):(i.prototype=e.prototype,new i)}}(),O=f.seriesTypes.sma,S=w.correctFloat,h=w.extend,s=w.merge;return w=function(o){function t(){var e=o!==null&&o.apply(this,arguments)||this;return e.data=void 0,e.options=void 0,e.points=void 0,e}return C(t,o),t.prototype.init=function(){f.seriesTypes.sma.prototype.init.apply(this,arguments),this.options=s({topLine:{styles:{lineColor:this.color}},bottomLine:{styles:{lineColor:this.color}}},this.options)},t.prototype.getValues=function(e,i){var n=i.period,l=i.periodATR,p=i.multiplierATR,r=e.yData;r=r?r.length:0;var c=[];i=f.seriesTypes.ema.prototype.getValues(e,{period:n,index:i.index});var A=f.seriesTypes.atr.prototype.getValues(e,{period:l}),v=[],g=[],P;if(!(r<n)){for(P=n;P<=r;P++){var x=i.values[P-n],k=A.values[P-l],m=x[0];e=S(x[1]+p*k[1]),k=S(x[1]-p*k[1]),x=x[1],c.push([m,e,x,k]),v.push(m),g.push([e,x,k])}return{values:c,xData:v,yData:g}}},t.defaultOptions=s(O.defaultOptions,{params:{index:0,period:20,periodATR:10,multiplierATR:2},bottomLine:{styles:{lineWidth:1,lineColor:void 0}},topLine:{styles:{lineWidth:1,lineColor:void 0}},tooltip:{pointFormat:'<span style="color:{point.color}">\u25CF</span><b> {series.name}</b><br/>Upper Channel: {point.top}<br/>EMA({series.options.params.period}): {point.middle}<br/>Lower Channel: {point.bottom}<br/>'},marker:{enabled:!1},dataGrouping:{approximation:"averages"},lineWidth:1}),t}(O),h(w.prototype,{nameBase:"Keltner Channels",areaLinesNames:["top","bottom"],nameComponents:["period","periodATR","multiplierATR"],linesApiNames:["topLine","bottomLine"],pointArrayMap:["top","middle","bottom"],pointValKey:"middle"}),u.compose(w),f.registerSeriesType("keltnerchannels",w),w}),L(a,"Stock/Indicators/Klinger/KlingerIndicator.js",[a["Stock/Indicators/MultipleLinesComposition.js"],a["Core/Series/SeriesRegistry.js"],a["Core/Utilities.js"]],function(u,f,w){var C=this&&this.__extends||function(){var i=function(n,l){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,r){p.__proto__=r}||function(p,r){for(var c in r)r.hasOwnProperty(c)&&(p[c]=r[c])},i(n,l)};return function(n,l){function p(){this.constructor=n}i(n,l),n.prototype=l===null?Object.create(l):(p.prototype=l.prototype,new p)}}(),O=f.seriesTypes,S=O.sma,h=O.ema,s=w.correctFloat,o=w.error;O=w.extend;var t=w.isArray,e=w.merge;return w=function(i){function n(){var l=i!==null&&i.apply(this,arguments)||this;return l.data=void 0,l.points=void 0,l.options=void 0,l.volumeSeries=void 0,l}return C(n,i),n.prototype.calculateTrend=function(l,p){return l[p][1]+l[p][2]+l[p][3]>l[p-1][1]+l[p-1][2]+l[p-1][3]?1:-1},n.prototype.isValidData=function(l){var p=this.chart,r=this.options,c=this.linkedParent;return l=t(l)&&l.length===4,(p=this.volumeSeries||(this.volumeSeries=p.get(r.params.volumeSeriesID)))||o("Series "+r.params.volumeSeriesID+" not found! Check `volumeSeriesID`.",!0,c.chart),!(![c,p].every(function(A){return A&&A.xData&&A.xData.length>=r.params.slowAvgPeriod})||!l)},n.prototype.getCM=function(l,p,r,c,A){return s(p+(r===c?l:A))},n.prototype.getDM=function(l,p){return s(l-p)},n.prototype.getVolumeForce=function(l){var p=[],r=1,c=0,A=l[0][1]-l[0][2],v=0;for(r;r<l.length;r++){var g=this.calculateTrend(l,r),P=this.getDM(l[r][1],l[r][2]);c=this.getCM(c,P,g,v,A),v=this.volumeSeries.yData[r]*g*Math.abs(2*(P/c-1))*100,p.push([v]),v=g,A=P}return p},n.prototype.getEMA=function(l,p,r,c,A,v,g){return h.prototype.calculateEma(g||[],l,typeof v=="undefined"?1:v,c,p,typeof A=="undefined"?-1:A,r)},n.prototype.getSMA=function(l,p,r){return h.prototype.accumulatePeriodPoints(l,p,r)/l},n.prototype.getValues=function(l,p){var r=[],c=l.xData;l=l.yData;var A=[],v=[],g=[],P,x=0,k=0,m=void 0,_=void 0,M=null;if(this.isValidData(l[0])){var D=this.getVolumeForce(l),E=this.getSMA(p.fastAvgPeriod,0,D),b=this.getSMA(p.slowAvgPeriod,0,D),T=2/(p.fastAvgPeriod+1),B=2/(p.slowAvgPeriod+1);for(x;x<l.length;x++)x>=p.fastAvgPeriod&&(m=k=this.getEMA(D,m,E,T,0,x,c)[1]),x>=p.slowAvgPeriod&&(_=P=this.getEMA(D,_,b,B,0,x,c)[1],P=s(k-P),g.push(P),g.length>=p.signalPeriod&&(M=g.slice(-p.signalPeriod).reduce(function(I,N){return I+N})/p.signalPeriod),r.push([c[x],P,M]),A.push(c[x]),v.push([P,M]));return{values:r,xData:A,yData:v}}},n.defaultOptions=e(S.defaultOptions,{params:{fastAvgPeriod:34,slowAvgPeriod:55,signalPeriod:13,volumeSeriesID:"volume"},signalLine:{styles:{lineWidth:1,lineColor:"#ff0000"}},dataGrouping:{approximation:"averages"},tooltip:{pointFormat:'<span style="color: {point.color}">\u25CF</span><b> {series.name}</b><br/><span style="color: {point.color}">Klinger</span>: {point.y}<br/><span style="color: {point.series.options.signalLine.styles.lineColor}">Signal</span>: {point.signal}<br/>'}}),n}(S),O(w.prototype,{areaLinesNames:[],linesApiNames:["signalLine"],nameBase:"Klinger",nameComponents:["fastAvgPeriod","slowAvgPeriod"],pointArrayMap:["y","signal"],parallelArrays:["x","y","signal"],pointValKey:"y"}),u.compose(w),f.registerSeriesType("klinger",w),w}),L(a,"Stock/Indicators/MACD/MACDIndicator.js",[a["Core/Globals.js"],a["Core/Series/SeriesRegistry.js"],a["Core/Utilities.js"]],function(u,f,w){var C=this&&this.__extends||function(){var e=function(i,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,p){l.__proto__=p}||function(l,p){for(var r in p)p.hasOwnProperty(r)&&(l[r]=p[r])},e(i,n)};return function(i,n){function l(){this.constructor=i}e(i,n),i.prototype=n===null?Object.create(n):(l.prototype=n.prototype,new l)}}(),O=u.noop,S=f.seriesTypes.sma,h=w.extend,s=w.correctFloat,o=w.defined,t=w.merge;return w=function(e){function i(){var n=e!==null&&e.apply(this,arguments)||this;return n.data=void 0,n.options=void 0,n.points=void 0,n.currentLineZone=void 0,n.graphmacd=void 0,n.graphsignal=void 0,n.macdZones=void 0,n.signalZones=void 0,n}return C(i,e),i.prototype.init=function(){f.seriesTypes.sma.prototype.init.apply(this,arguments),this.options&&(this.options=t({signalLine:{styles:{lineColor:this.color}},macdLine:{styles:{color:this.color}}},this.options),this.macdZones={zones:this.options.macdLine.zones,startIndex:0},this.signalZones={zones:this.macdZones.zones.concat(this.options.signalLine.zones),startIndex:this.macdZones.zones.length},this.resetZones=!0)},i.prototype.toYData=function(n){return[n.y,n.signal,n.MACD]},i.prototype.translate=function(){var n=this,l=["plotSignal","plotMACD"];u.seriesTypes.column.prototype.translate.apply(n),n.points.forEach(function(p){[p.signal,p.MACD].forEach(function(r,c){r!==null&&(p[l[c]]=n.yAxis.toPixels(r,!0))})})},i.prototype.destroy=function(){this.graph=null,this.graphmacd=this.graphmacd&&this.graphmacd.destroy(),this.graphsignal=this.graphsignal&&this.graphsignal.destroy(),f.seriesTypes.sma.prototype.destroy.apply(this,arguments)},i.prototype.drawGraph=function(){for(var n=this,l=n.points,p=l.length,r=n.options,c=n.zones,A={options:{gapSize:r.gapSize}},v=[[],[]],g;p--;)g=l[p],o(g.plotMACD)&&v[0].push({plotX:g.plotX,plotY:g.plotMACD,isNull:!o(g.plotMACD)}),o(g.plotSignal)&&v[1].push({plotX:g.plotX,plotY:g.plotSignal,isNull:!o(g.plotMACD)});["macd","signal"].forEach(function(P,x){n.points=v[x],n.options=t(r[P+"Line"].styles,A),n.graph=n["graph"+P],n.currentLineZone=P+"Zones",n.zones=n[n.currentLineZone].zones,f.seriesTypes.sma.prototype.drawGraph.call(n),n["graph"+P]=n.graph}),n.points=l,n.options=r,n.zones=c,n.currentLineZone=null},i.prototype.getZonesGraphs=function(n){var l=e.prototype.getZonesGraphs.call(this,n),p=l;return this.currentLineZone&&(p=l.splice(this[this.currentLineZone].startIndex+1),p.length?p.splice(0,0,n[0]):p=[n[0]]),p},i.prototype.applyZones=function(){var n=this.zones;this.zones=this.signalZones.zones,f.seriesTypes.sma.prototype.applyZones.call(this),this.graphmacd&&this.options.macdLine.zones.length&&this.graphmacd.hide(),this.zones=n},i.prototype.getValues=function(n,l){var p=l.longPeriod-l.shortPeriod,r=0,c=[],A=[],v=[];if(!(n.xData.length<l.longPeriod+l.signalPeriod)){var g=f.seriesTypes.ema.prototype.getValues(n,{period:l.shortPeriod,index:l.index}),P=f.seriesTypes.ema.prototype.getValues(n,{period:l.longPeriod,index:l.index});for(g=g.values,P=P.values,n=0;n<=g.length;n++)o(P[n])&&o(P[n][1])&&o(g[n+p])&&o(g[n+p][0])&&c.push([g[n+p][0],0,null,g[n+p][1]-P[n][1]]);for(n=0;n<c.length;n++)A.push(c[n][0]),v.push([0,null,c[n][3]]);for(l=f.seriesTypes.ema.prototype.getValues({xData:A,yData:v},{period:l.signalPeriod,index:2}),l=l.values,n=0;n<c.length;n++)c[n][0]>=l[0][0]&&(c[n][2]=l[r][1],v[n]=[0,l[r][1],c[n][3]],c[n][3]===null?(c[n][1]=0,v[n][0]=0):(c[n][1]=s(c[n][3]-l[r][1]),v[n][0]=s(c[n][3]-l[r][1])),r++);return{values:c,xData:A,yData:v}}},i.defaultOptions=t(S.defaultOptions,{params:{shortPeriod:12,longPeriod:26,signalPeriod:9,period:26},signalLine:{zones:[],styles:{lineWidth:1,lineColor:void 0}},macdLine:{zones:[],styles:{lineWidth:1,lineColor:void 0}},threshold:0,groupPadding:.1,pointPadding:.1,crisp:!1,states:{hover:{halo:{size:0}}},tooltip:{pointFormat:'<span style="color:{point.color}">\u25CF</span> <b> {series.name}</b><br/>Value: {point.MACD}<br/>Signal: {point.signal}<br/>Histogram: {point.y}<br/>'},dataGrouping:{approximation:"averages"},minPointLength:0}),i}(S),h(w.prototype,{nameComponents:["longPeriod","shortPeriod","signalPeriod"],pointArrayMap:["y","signal","MACD"],parallelArrays:["x","y","signal","MACD"],pointValKey:"y",markerAttribs:O,getColumnMetrics:u.seriesTypes.column.prototype.getColumnMetrics,crispCol:u.seriesTypes.column.prototype.crispCol,drawPoints:u.seriesTypes.column.prototype.drawPoints}),f.registerSeriesType("macd",w),w}),L(a,"Stock/Indicators/MFI/MFIIndicator.js",[a["Core/Series/SeriesRegistry.js"],a["Core/Utilities.js"]],function(u,f){function w(e){return e.reduce(function(i,n){return i+n})}function C(e){return(e[1]+e[2]+e[3])/3}var O=this&&this.__extends||function(){var e=function(i,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,p){l.__proto__=p}||function(l,p){for(var r in p)p.hasOwnProperty(r)&&(l[r]=p[r])},e(i,n)};return function(i,n){function l(){this.constructor=i}e(i,n),i.prototype=n===null?Object.create(n):(l.prototype=n.prototype,new l)}}(),S=u.seriesTypes.sma,h=f.extend,s=f.merge,o=f.error,t=f.isArray;return f=function(e){function i(){var n=e!==null&&e.apply(this,arguments)||this;return n.data=void 0,n.options=void 0,n.points=void 0,n}return O(i,e),i.prototype.getValues=function(n,l){var p=l.period,r=n.xData,c=n.yData,A=c?c.length:0,v=l.decimals,g=1,P=n.chart.get(l.volumeSeriesID),x=P&&P.yData,k=[],m=[],_=[],M=[],D=[];if(!P)o("Series "+l.volumeSeriesID+" not found! Check `volumeSeriesID`.",!0,n.chart);else if(!(r.length<=p)&&t(c[0])&&c[0].length===4&&x){for(n=C(c[g]);g<p+1;)l=n,n=C(c[g]),l=n>=l,P=n*x[g],M.push(l?P:0),D.push(l?0:P),g++;for(p=g-1;p<A;p++)p>g-1&&(M.shift(),D.shift(),l=n,n=C(c[p]),l=n>l,P=n*x[p],M.push(l?P:0),D.push(l?0:P)),l=w(D),P=w(M),l=P/l,l=parseFloat((100-100/(1+l)).toFixed(v)),k.push([r[p],l]),m.push(r[p]),_.push(l);return{values:k,xData:m,yData:_}}},i.defaultOptions=s(S.defaultOptions,{params:{index:void 0,volumeSeriesID:"volume",decimals:4}}),i}(S),h(f.prototype,{nameBase:"Money Flow Index"}),u.registerSeriesType("mfi",f),f}),L(a,"Stock/Indicators/Momentum/MomentumIndicator.js",[a["Core/Series/SeriesRegistry.js"],a["Core/Utilities.js"]],function(u,f){var w=this&&this.__extends||function(){var s=function(o,t){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var n in i)i.hasOwnProperty(n)&&(e[n]=i[n])},s(o,t)};return function(o,t){function e(){this.constructor=o}s(o,t),o.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),C=u.seriesTypes.sma,O=f.extend,S=f.isArray,h=f.merge;return f=function(s){function o(){var t=s!==null&&s.apply(this,arguments)||this;return t.data=void 0,t.options=void 0,t.points=void 0,t}return w(o,s),o.prototype.getValues=function(t,e){var i=e.period;e=e.index;var n=t.xData,l=(t=t.yData)?t.length:0,p=[],r=[],c=[],A;if(!(n.length<=i)&&S(t[0])){for(A=i+1;A<l;A++){var v=[n[A-1],t[A-1][e]-t[A-i-1][e]];p.push(v),r.push(v[0]),c.push(v[1])}return v=[n[A-1],t[A-1][e]-t[A-i-1][e]],p.push(v),r.push(v[0]),c.push(v[1]),{values:p,xData:r,yData:c}}},o.defaultOptions=h(C.defaultOptions,{params:{index:3}}),o}(C),O(f.prototype,{nameBase:"Momentum"}),u.registerSeriesType("momentum",f),f}),L(a,"Stock/Indicators/NATR/NATRIndicator.js",[a["Core/Series/SeriesRegistry.js"],a["Core/Utilities.js"]],function(u,f){var w=this&&this.__extends||function(){var S=function(h,s){return S=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,t){o.__proto__=t}||function(o,t){for(var e in t)t.hasOwnProperty(e)&&(o[e]=t[e])},S(h,s)};return function(h,s){function o(){this.constructor=h}S(h,s),h.prototype=s===null?Object.create(s):(o.prototype=s.prototype,new o)}}(),C=u.seriesTypes.atr,O=f.merge;return f=function(S){function h(){var s=S!==null&&S.apply(this,arguments)||this;return s.data=void 0,s.points=void 0,s.options=void 0,s}return w(h,S),h.prototype.getValues=function(s,o){var t=C.prototype.getValues.apply(this,arguments),e=t.values.length,i=o.period-1,n=s.yData,l=0;if(t){for(;l<e;l++)t.yData[l]=t.values[l][1]/n[i][3]*100,t.values[l][1]=t.yData[l],i++;return t}},h.defaultOptions=O(C.defaultOptions,{tooltip:{valueSuffix:"%"}}),h}(C),u.registerSeriesType("natr",f),f}),L(a,"Stock/Indicators/OBV/OBVIndicator.js",[a["Core/Series/SeriesRegistry.js"],a["Core/Utilities.js"]],function(u,f){var w=this&&this.__extends||function(){var o=function(t,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var l in n)n.hasOwnProperty(l)&&(i[l]=n[l])},o(t,e)};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=e===null?Object.create(e):(i.prototype=e.prototype,new i)}}(),C=u.seriesTypes.sma,O=f.isNumber,S=f.error,h=f.extend,s=f.merge;return f=function(o){function t(){var e=o!==null&&o.apply(this,arguments)||this;return e.data=void 0,e.points=void 0,e.options=void 0,e}return w(t,o),t.prototype.getValues=function(e,i){var n=e.chart.get(i.volumeSeriesID),l=e.xData,p=e.yData,r=[],c=[],A=[],v=!O(p[0]),g=1,P=0;if(n){n=n.yData,e=[l[0],P];var x=v?p[0][3]:p[0];for(r.push(e),c.push(l[0]),A.push(e[1]),g;g<p.length;g++)i=v?p[g][3]:p[g],P=i>x?P+n[g]:i===x?P:P-n[g],e=[l[g],P],x=i,r.push(e),c.push(l[g]),A.push(e[1]);return{values:r,xData:c,yData:A}}S("Series "+i.volumeSeriesID+" not found! Check `volumeSeriesID`.",!0,e.chart)},t.defaultOptions=s(C.defaultOptions,{marker:{enabled:!1},params:{index:void 0,period:void 0,volumeSeriesID:"volume"},tooltip:{valueDecimals:0}}),t}(C),h(f.prototype,{nameComponents:void 0}),u.registerSeriesType("obv",f),f}),L(a,"Stock/Indicators/PivotPoints/PivotPointsPoint.js",[a["Core/Series/SeriesRegistry.js"]],function(u){function f(C,O){var S=C.series.pointArrayMap,h=S.length;for(u.seriesTypes.sma.prototype.pointClass.prototype[O].call(C);h--;)O="dataLabel"+S[h],C[O]&&C[O].element&&C[O].destroy(),C[O]=null}var w=this&&this.__extends||function(){var C=function(O,S){return C=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,s){h.__proto__=s}||function(h,s){for(var o in s)s.hasOwnProperty(o)&&(h[o]=s[o])},C(O,S)};return function(O,S){function h(){this.constructor=O}C(O,S),O.prototype=S===null?Object.create(S):(h.prototype=S.prototype,new h)}}();return function(C){function O(){var S=C!==null&&C.apply(this,arguments)||this;return S.P=void 0,S.pivotLine=void 0,S.series=void 0,S}return w(O,C),O.prototype.destroyElements=function(){f(this,"destroyElements")},O.prototype.destroy=function(){f(this,"destroyElements")},O}(u.seriesTypes.sma.prototype.pointClass)}),L(a,"Stock/Indicators/PivotPoints/PivotPointsIndicator.js",[a["Stock/Indicators/PivotPoints/PivotPointsPoint.js"],a["Core/Series/SeriesRegistry.js"],a["Core/Utilities.js"]],function(u,f,w){var C=this&&this.__extends||function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,l){n.__proto__=l}||function(n,l){for(var p in l)l.hasOwnProperty(p)&&(n[p]=l[p])},t(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=i===null?Object.create(i):(n.prototype=i.prototype,new n)}}(),O=f.seriesTypes.sma,S=w.merge,h=w.extend,s=w.defined,o=w.isArray;return w=function(t){function e(){var i=t!==null&&t.apply(this,arguments)||this;return i.data=void 0,i.options=void 0,i.points=void 0,i.endPoint=void 0,i.plotEndPoint=void 0,i}return C(e,t),e.prototype.toYData=function(i){return[i.P]},e.prototype.translate=function(){var i=this;f.seriesTypes.sma.prototype.translate.apply(i),i.points.forEach(function(n){i.pointArrayMap.forEach(function(l){s(n[l])&&(n["plot"+l]=i.yAxis.toPixels(n[l],!0))})}),i.plotEndPoint=i.xAxis.toPixels(i.endPoint,!0)},e.prototype.getGraphPath=function(i){for(var n=this,l=i.length,p=[[],[],[],[],[],[],[],[],[]],r=[],c=n.plotEndPoint,A=n.pointArrayMap.length,v,g,P;l--;){for(g=i[l],P=0;P<A;P++)v=n.pointArrayMap[P],s(g[v])&&p[P].push({plotX:g.plotX,plotY:g["plot"+v],isNull:!1},{plotX:c,plotY:g["plot"+v],isNull:!1},{plotX:c,plotY:null,isNull:!0});c=g.plotX}return p.forEach(function(x){r=r.concat(f.seriesTypes.sma.prototype.getGraphPath.call(n,x))}),r},e.prototype.drawDataLabels=function(){var i=this,n=i.pointArrayMap,l,p,r;if(i.options.dataLabels.enabled){var c=i.points.length;n.concat([!1]).forEach(function(A,v){for(r=c;r--;)p=i.points[r],A?(p.y=p[A],p.pivotLine=A,p.plotY=p["plot"+A],l=p["dataLabel"+A],v&&(p["dataLabel"+n[v-1]]=p.dataLabel),p.dataLabels||(p.dataLabels=[]),p.dataLabels[0]=p.dataLabel=l=l&&l.element?l:null):p["dataLabel"+n[v-1]]=p.dataLabel;f.seriesTypes.sma.prototype.drawDataLabels.apply(i,arguments)})}},e.prototype.getValues=function(i,n){var l=n.period,p=i.xData,r=(i=i.yData)?i.length:0;n=this[n.algorithm+"Placement"];var c=[],A=[],v=[],g;if(!(p.length<l)&&o(i[0])&&i[0].length===4){for(g=l+1;g<=r+l;g+=l){var P=p.slice(g-l-1,g),x=i.slice(g-l-1,g),k=P.length,m=P[k-1];x=this.getPivotAndHLC(x),x=n(x),x=c.push([m].concat(x)),A.push(m),v.push(c[x-1].slice(1))}return this.endPoint=P[0]+(m-P[0])/k*l,{values:c,xData:A,yData:v}}},e.prototype.getPivotAndHLC=function(i){var n=-1/0,l=1/0,p=i[i.length-1][3];return i.forEach(function(r){n=Math.max(n,r[1]),l=Math.min(l,r[2])}),[(n+l+p)/3,n,l,p]},e.prototype.standardPlacement=function(i){var n=i[1]-i[2];return[null,null,i[0]+n,2*i[0]-i[2],i[0],2*i[0]-i[1],i[0]-n,null,null]},e.prototype.camarillaPlacement=function(i){var n=i[1]-i[2];return[i[3]+1.5*n,i[3]+1.25*n,i[3]+1.1666*n,i[3]+1.0833*n,i[0],i[3]-1.0833*n,i[3]-1.1666*n,i[3]-1.25*n,i[3]-1.5*n]},e.prototype.fibonacciPlacement=function(i){var n=i[1]-i[2];return[null,i[0]+n,i[0]+.618*n,i[0]+.382*n,i[0],i[0]-.382*n,i[0]-.618*n,i[0]-n,null]},e.defaultOptions=S(O.defaultOptions,{params:{index:void 0,period:28,algorithm:"standard"},marker:{enabled:!1},enableMouseTracking:!1,dataLabels:{enabled:!0,format:"{point.pivotLine}"},dataGrouping:{approximation:"averages"}}),e}(O),h(w.prototype,{nameBase:"Pivot Points",pointArrayMap:"R4 R3 R2 R1 P S1 S2 S3 S4".split(" "),pointValKey:"P",pointClass:u}),f.registerSeriesType("pivotpoints",w),w}),L(a,"Stock/Indicators/PPO/PPOIndicator.js",[a["Core/Series/SeriesRegistry.js"],a["Core/Utilities.js"]],function(u,f){var w=this&&this.__extends||function(){var o=function(t,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var l in n)n.hasOwnProperty(l)&&(i[l]=n[l])},o(t,e)};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=e===null?Object.create(e):(i.prototype=e.prototype,new i)}}(),C=u.seriesTypes.ema,O=f.correctFloat,S=f.extend,h=f.merge,s=f.error;return f=function(o){function t(){var e=o!==null&&o.apply(this,arguments)||this;return e.data=void 0,e.options=void 0,e.points=void 0,e}return w(t,o),t.prototype.getValues=function(e,i){var n=i.periods,l=i.index;i=[];var p=[],r=[],c;if(n.length!==2||n[1]<=n[0])s('Error: "PPO requires two periods. Notice, first period should be lower than the second one."');else{var A=C.prototype.getValues.call(this,e,{index:l,period:n[0]});if(e=C.prototype.getValues.call(this,e,{index:l,period:n[1]}),A&&e){for(n=n[1]-n[0],c=0;c<e.yData.length;c++)l=O((A.yData[c+n]-e.yData[c])/e.yData[c]*100),i.push([e.xData[c],l]),p.push(e.xData[c]),r.push(l);return{values:i,xData:p,yData:r}}}},t.defaultOptions=h(C.defaultOptions,{params:{period:void 0,periods:[12,26]}}),t}(C),S(f.prototype,{nameBase:"PPO",nameComponents:["periods"]}),u.registerSeriesType("ppo",f),f}),L(a,"Stock/Indicators/ArrayUtilities.js",[],function(){return{getArrayExtremes:function(u,f,w){return u.reduce(function(C,O){return[Math.min(C[0],O[f]),Math.max(C[1],O[w])]},[Number.MAX_VALUE,-Number.MAX_VALUE])}}}),L(a,"Stock/Indicators/PC/PCIndicator.js",[a["Stock/Indicators/ArrayUtilities.js"],a["Stock/Indicators/MultipleLinesComposition.js"],a["Core/Color/Palettes.js"],a["Core/Series/SeriesRegistry.js"],a["Core/Utilities.js"]],function(u,f,w,C,O){var S=this&&this.__extends||function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,l){n.__proto__=l}||function(n,l){for(var p in l)l.hasOwnProperty(p)&&(n[p]=l[p])},t(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=i===null?Object.create(i):(n.prototype=i.prototype,new n)}}(),h=C.seriesTypes.sma,s=O.merge;O=O.extend;var o=function(t){function e(){var i=t!==null&&t.apply(this,arguments)||this;return i.data=void 0,i.options=void 0,i.points=void 0,i}return S(e,t),e.prototype.getValues=function(i,n){n=n.period;var l=i.xData,p=(i=i.yData)?i.length:0,r=[],c=[],A=[],v;if(!(p<n)){for(v=n;v<=p;v++){var g=l[v-1],P=i.slice(v-n,v),x=u.getArrayExtremes(P,2,1);P=x[1];var k=x[0];x=(P+k)/2,r.push([g,P,x,k]),c.push(g),A.push([P,x,k])}return{values:r,xData:c,yData:A}}},e.defaultOptions=s(h.defaultOptions,{params:{index:void 0,period:20},lineWidth:1,topLine:{styles:{lineColor:w.colors[2],lineWidth:1}},bottomLine:{styles:{lineColor:w.colors[8],lineWidth:1}},dataGrouping:{approximation:"averages"}}),e}(h);return O(o.prototype,{areaLinesNames:["top","bottom"],nameBase:"Price Channel",nameComponents:["period"],linesApiNames:["topLine","bottomLine"],pointArrayMap:["top","middle","bottom"],pointValKey:"middle"}),f.compose(o),C.registerSeriesType("pc",o),o}),L(a,"Stock/Indicators/PriceEnvelopes/PriceEnvelopesIndicator.js",[a["Core/Series/SeriesRegistry.js"],a["Core/Utilities.js"]],function(u,f){var w=this&&this.__extends||function(){var s=function(o,t){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var n in i)i.hasOwnProperty(n)&&(e[n]=i[n])},s(o,t)};return function(o,t){function e(){this.constructor=o}s(o,t),o.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),C=u.seriesTypes.sma,O=f.extend,S=f.isArray,h=f.merge;return f=function(s){function o(){var t=s!==null&&s.apply(this,arguments)||this;return t.data=void 0,t.options=void 0,t.points=void 0,t}return w(o,s),o.prototype.init=function(){u.seriesTypes.sma.prototype.init.apply(this,arguments),this.options=h({topLine:{styles:{lineColor:this.color}},bottomLine:{styles:{lineColor:this.color}}},this.options)},o.prototype.toYData=function(t){return[t.top,t.middle,t.bottom]},o.prototype.translate=function(){var t=this,e=["plotTop","plotMiddle","plotBottom"];u.seriesTypes.sma.prototype.translate.apply(t),t.points.forEach(function(i){[i.top,i.middle,i.bottom].forEach(function(n,l){n!==null&&(i[e[l]]=t.yAxis.toPixels(n,!0))})})},o.prototype.drawGraph=function(){for(var t=this,e=t.points,i=e.length,n=t.options,l=t.graph,p={options:{gapSize:n.gapSize}},r=[[],[]],c;i--;)c=e[i],r[0].push({plotX:c.plotX,plotY:c.plotTop,isNull:c.isNull}),r[1].push({plotX:c.plotX,plotY:c.plotBottom,isNull:c.isNull});["topLine","bottomLine"].forEach(function(A,v){t.points=r[v],t.options=h(n[A].styles,p),t.graph=t["graph"+A],u.seriesTypes.sma.prototype.drawGraph.call(t),t["graph"+A]=t.graph}),t.points=e,t.options=n,t.graph=l,u.seriesTypes.sma.prototype.drawGraph.call(t)},o.prototype.getValues=function(t,e){var i=e.period,n=e.topBand,l=e.bottomBand,p=t.xData,r=(t=t.yData)?t.length:0,c=[],A=[],v=[],g;if(!(p.length<i)&&S(t[0])&&t[0].length===4){for(g=i;g<=r;g++){var P=p.slice(g-i,g),x=t.slice(g-i,g);x=u.seriesTypes.sma.prototype.getValues.call(this,{xData:P,yData:x},e),P=x.xData[0],x=x.yData[0];var k=x*(1+n),m=x*(1-l);c.push([P,k,x,m]),A.push(P),v.push([k,x,m])}return{values:c,xData:A,yData:v}}},o.defaultOptions=h(C.defaultOptions,{marker:{enabled:!1},tooltip:{pointFormat:'<span style="color:{point.color}">\u25CF</span><b> {series.name}</b><br/>Top: {point.top}<br/>Middle: {point.middle}<br/>Bottom: {point.bottom}<br/>'},params:{period:20,topBand:.1,bottomBand:.1},bottomLine:{styles:{lineWidth:1,lineColor:void 0}},topLine:{styles:{lineWidth:1}},dataGrouping:{approximation:"averages"}}),o}(C),O(f.prototype,{nameComponents:["period","topBand","bottomBand"],nameBase:"Price envelopes",pointArrayMap:["top","middle","bottom"],parallelArrays:["x","y","top","bottom"],pointValKey:"middle"}),u.registerSeriesType("priceenvelopes",f),f}),L(a,"Stock/Indicators/PSAR/PSARIndicator.js",[a["Core/Series/SeriesRegistry.js"],a["Core/Utilities.js"]],function(u,f){var w=this&&this.__extends||function(){var h=function(s,o){return h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},h(s,o)};return function(s,o){function t(){this.constructor=s}h(s,o),s.prototype=o===null?Object.create(o):(t.prototype=o.prototype,new t)}}(),C=u.seriesTypes.sma,O=f.merge;f=f.extend;var S=function(h){function s(){var o=h!==null&&h.apply(this,arguments)||this;return o.data=void 0,o.points=void 0,o.options=void 0,o}return w(s,h),s.prototype.getValues=function(o,t){var e=o.xData;o=o.yData;var i=o[0][1],n=t.maxAccelerationFactor,l=t.increment,p=t.initialAccelerationFactor,r=o[0][2],c=t.decimals,A=t.index,v=[],g=[],P=[],x=1,k;if(!(A>=o.length)){for(k=0;k<A;k++)i=Math.max(o[k][1],i),r=Math.min(o[k][2],parseFloat(r.toFixed(c)));var m=o[k][1]>r?1:-1;t=t.initialAccelerationFactor;var _=t*(i-r);for(v.push([e[A],r]),g.push(e[A]),P.push(parseFloat(r.toFixed(c))),k=A+1;k<o.length;k++){A=o[k-1][2];var M=o[k-2][2],D=o[k-1][1],E=o[k-2][1],b=o[k][1],T=o[k][2];M!==null&&E!==null&&A!==null&&D!==null&&b!==null&&T!==null&&(r=m===x?m===1?r+_<Math.min(M,A)?r+_:Math.min(M,A):r+_>Math.max(E,D)?r+_:Math.max(E,D):i,A=m===1?b>i?b:i:T<i?T:i,b=x===1&&T>r||x===-1&&b>r?1:-1,x=b,_=A,T=l,M=n,D=p,t=x===m?x===1&&_>i||x===-1&&_<i?t===M?M:parseFloat((t+T).toFixed(2)):t:D,i=A-r,_=t*i,v.push([e[k],parseFloat(r.toFixed(c))]),g.push(e[k]),P.push(parseFloat(r.toFixed(c))),x=m,m=b,i=A)}return{values:v,xData:g,yData:P}}},s.defaultOptions=O(C.defaultOptions,{lineWidth:0,marker:{enabled:!0},states:{hover:{lineWidthPlus:0}},params:{period:void 0,initialAccelerationFactor:.02,maxAccelerationFactor:.2,increment:.02,index:2,decimals:4}}),s}(C);return f(S.prototype,{nameComponents:void 0}),u.registerSeriesType("psar",S),S}),L(a,"Stock/Indicators/ROC/ROCIndicator.js",[a["Core/Series/SeriesRegistry.js"],a["Core/Utilities.js"]],function(u,f){var w=this&&this.__extends||function(){var s=function(o,t){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var n in i)i.hasOwnProperty(n)&&(e[n]=i[n])},s(o,t)};return function(o,t){function e(){this.constructor=o}s(o,t),o.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),C=u.seriesTypes.sma,O=f.isArray,S=f.merge;f=f.extend;var h=function(s){function o(){var t=s!==null&&s.apply(this,arguments)||this;return t.data=void 0,t.options=void 0,t.points=void 0,t}return w(o,s),o.prototype.getValues=function(t,e){var i=e.period,n=t.xData,l=(t=t.yData)?t.length:0,p=[],r=[],c=[],A=-1;if(!(n.length<=i)){for(O(t[0])&&(A=e.index),e=i;e<l;e++){var v=0>A?(v=t[e-i])?(t[e]-v)/v*100:null:(v=t[e-i][A])?(t[e][A]-v)/v*100:null;v=[n[e],v],p.push(v),r.push(v[0]),c.push(v[1])}return{values:p,xData:r,yData:c}}},o.defaultOptions=S(C.defaultOptions,{params:{index:3,period:9}}),o}(C);return f(h.prototype,{nameBase:"Rate of Change"}),u.registerSeriesType("roc",h),h}),L(a,"Stock/Indicators/RSI/RSIIndicator.js",[a["Core/Series/SeriesRegistry.js"],a["Core/Utilities.js"]],function(u,f){var w=this&&this.__extends||function(){var h=function(s,o){return h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},h(s,o)};return function(s,o){function t(){this.constructor=s}h(s,o),s.prototype=o===null?Object.create(o):(t.prototype=o.prototype,new t)}}(),C=u.seriesTypes.sma,O=f.isNumber,S=f.merge;return f=function(h){function s(){var o=h!==null&&h.apply(this,arguments)||this;return o.data=void 0,o.points=void 0,o.options=void 0,o}return w(s,h),s.prototype.getValues=function(o,t){var e=t.period,i=o.xData,n=o.yData;o=n?n.length:0;var l=t.decimals,p=1,r=[],c=[],A=[],v=t.index,g=t=0,P;if(!(i.length<e)){if(O(n[0]))var x=n;else v=Math.min(v,n[0].length-1),x=n.map(function(m){return m[v]});for(;p<e;){var k=parseFloat((x[p]-x[p-1]).toFixed(l));0<k?t+=k:g+=Math.abs(k),p++}for(n=parseFloat((t/(e-1)).toFixed(l)),P=parseFloat((g/(e-1)).toFixed(l));p<o;p++)k=parseFloat((x[p]-x[p-1]).toFixed(l)),0<k?(t=k,g=0):(t=0,g=Math.abs(k)),n=parseFloat(((n*(e-1)+t)/e).toFixed(l)),P=parseFloat(((P*(e-1)+g)/e).toFixed(l)),t=P===0?100:n===0?0:parseFloat((100-100/(1+n/P)).toFixed(l)),r.push([i[p],t]),c.push(i[p]),A.push(t);return{values:r,xData:c,yData:A}}},s.defaultOptions=S(C.defaultOptions,{params:{decimals:4,index:3}}),s}(C),u.registerSeriesType("rsi",f),f}),L(a,"Stock/Indicators/Stochastic/StochasticIndicator.js",[a["Stock/Indicators/ArrayUtilities.js"],a["Stock/Indicators/MultipleLinesComposition.js"],a["Core/Series/SeriesRegistry.js"],a["Core/Utilities.js"]],function(u,f,w,C){var O=this&&this.__extends||function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,l){n.__proto__=l}||function(n,l){for(var p in l)l.hasOwnProperty(p)&&(n[p]=l[p])},t(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=i===null?Object.create(i):(n.prototype=i.prototype,new n)}}(),S=w.seriesTypes.sma,h=C.extend,s=C.isArray,o=C.merge;return C=function(t){function e(){var i=t!==null&&t.apply(this,arguments)||this;return i.data=void 0,i.options=void 0,i.points=void 0,i}return O(e,t),e.prototype.init=function(){w.seriesTypes.sma.prototype.init.apply(this,arguments),this.options=o({smoothedLine:{styles:{lineColor:this.color}}},this.options)},e.prototype.getValues=function(i,n){var l=n.periods[0];n=n.periods[1];var p=i.xData,r=(i=i.yData)?i.length:0,c=[],A=[],v=[],g=null,P;if(!(r<l)&&s(i[0])&&i[0].length===4){for(P=l-1;P<r;P++){var x=i.slice(P-l+1,P+1),k=u.getArrayExtremes(x,2,1),m=k[0];x=i[P][3]-m,m=k[1]-m,x=x/m*100,A.push(p[P]),v.push([x,null]),P>=l-1+(n-1)&&(g=w.seriesTypes.sma.prototype.getValues.call(this,{xData:A.slice(-n),yData:v.slice(-n)},{period:n}),g=g.yData[0]),c.push([p[P],x,g]),v[v.length-1][1]=g}return{values:c,xData:A,yData:v}}},e.defaultOptions=o(S.defaultOptions,{params:{index:void 0,period:void 0,periods:[14,3]},marker:{enabled:!1},tooltip:{pointFormat:'<span style="color:{point.color}">\u25CF</span><b> {series.name}</b><br/>%K: {point.y}<br/>%D: {point.smoothed}<br/>'},smoothedLine:{styles:{lineWidth:1,lineColor:void 0}},dataGrouping:{approximation:"averages"}}),e}(S),h(C.prototype,{areaLinesNames:[],nameComponents:["periods"],nameBase:"Stochastic",pointArrayMap:["y","smoothed"],parallelArrays:["x","y","smoothed"],pointValKey:"y",linesApiNames:["smoothedLine"]}),f.compose(C),w.registerSeriesType("stochastic",C),C}),L(a,"Stock/Indicators/SlowStochastic/SlowStochasticIndicator.js",[a["Core/Series/SeriesRegistry.js"],a["Core/Utilities.js"]],function(u,f){var w=this&&this.__extends||function(){var s=function(o,t){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var n in i)i.hasOwnProperty(n)&&(e[n]=i[n])},s(o,t)};return function(o,t){function e(){this.constructor=o}s(o,t),o.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),C=u.seriesTypes.stochastic,O=u.seriesTypes,S=f.extend,h=f.merge;return f=function(s){function o(){var t=s!==null&&s.apply(this,arguments)||this;return t.data=void 0,t.options=void 0,t.points=void 0,t}return w(o,s),o.prototype.getValues=function(t,e){var i=e.periods,n=O.stochastic.prototype.getValues.call(this,t,e);if(t={values:[],xData:[],yData:[]},e=0,n){t.xData=n.xData.slice(i[1]-1),n=n.yData.slice(i[1]-1);var l=O.sma.prototype.getValues.call(this,{xData:t.xData,yData:n},{index:1,period:i[2]});if(l){for(var p=t.xData.length;e<p;e++)t.yData[e]=[n[e][1],l.yData[e-i[2]+1]||null],t.values[e]=[t.xData[e],n[e][1],l.yData[e-i[2]+1]||null];return t}}},o.defaultOptions=h(C.defaultOptions,{params:{periods:[14,3,3]}}),o}(C),S(f.prototype,{nameBase:"Slow Stochastic"}),u.registerSeriesType("slowstochastic",f),f}),L(a,"Stock/Indicators/Supertrend/SupertrendIndicator.js",[a["Core/Series/SeriesRegistry.js"],a["Core/Utilities.js"],a["Core/Chart/StockChart.js"]],function(u,f,w){function C(l,p,r){return{index:p,close:l.yData[p][r],x:l.xData[p]}}var O=this&&this.__extends||function(){var l=function(p,r){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,A){c.__proto__=A}||function(c,A){for(var v in A)A.hasOwnProperty(v)&&(c[v]=A[v])},l(p,r)};return function(p,r){function c(){this.constructor=p}l(p,r),p.prototype=r===null?Object.create(r):(c.prototype=r.prototype,new c)}}(),S=u.seriesTypes,h=S.atr,s=S.sma,o=f.addEvent,t=f.correctFloat,e=f.isArray;S=f.extend;var i=f.merge,n=f.objectEach;return f=function(l){function p(){var r=l!==null&&l.apply(this,arguments)||this;return r.data=void 0,r.linkedParent=void 0,r.options=void 0,r.points=void 0,r}return O(p,l),p.prototype.init=function(){var r;s.prototype.init.apply(this,arguments);var c=this,A=o(w,"afterLinkSeries",function(){if(c.options){var v=c.options;r=c.linkedParent.options,v.cropThreshold=r.cropThreshold-(v.params.period-1)}A()},{order:1})},p.prototype.drawGraph=function(){var r=this,c=r.options,A=r.linkedParent,v=A?A.points:[],g=r.points,P=r.graph,x=g.length,k=v.length-x;k=0<k?k:0;for(var m={options:{gapSize:c.gapSize}},_={top:[],bottom:[],intersect:[]},M={top:{styles:{lineWidth:c.lineWidth,lineColor:c.fallingTrendColor||c.color,dashStyle:c.dashStyle}},bottom:{styles:{lineWidth:c.lineWidth,lineColor:c.risingTrendColor||c.color,dashStyle:c.dashStyle}},intersect:c.changeTrendLine},D,E,b,T,B,I,N,V;x--;)D=g[x],E=g[x-1],b=v[x-1+k],T=v[x-2+k],B=v[x+k],I=v[x+k+1],N=D.options.color,V={x:D.x,plotX:D.plotX,plotY:D.plotY,isNull:!1},!T&&b&&A.yData[b.index-1]&&(T=C(A,b.index-1,3)),!I&&B&&A.yData[B.index+1]&&(I=C(A,B.index+1,3)),!b&&T&&A.yData[T.index+1]?b=C(A,T.index+1,3):!b&&B&&A.yData[B.index-1]&&(b=C(A,B.index-1,3)),D&&b&&B&&T&&D.x!==b.x&&(D.x===B.x?(T=b,b=B):D.x===T.x?(b=T,T={close:A.yData[b.index-1][3],x:A.xData[b.index-1]}):I&&D.x===I.x&&(b=I,T=B)),E&&T&&b?(B={x:E.x,plotX:E.plotX,plotY:E.plotY,isNull:!1},D.y>=b.close&&E.y>=T.close?(D.color=N||c.fallingTrendColor||c.color,_.top.push(V)):D.y<b.close&&E.y<T.close?(D.color=N||c.risingTrendColor||c.color,_.bottom.push(V)):(_.intersect.push(V),_.intersect.push(B),_.intersect.push(i(B,{isNull:!0})),D.y>=b.close&&E.y<T.close?(D.color=N||c.fallingTrendColor||c.color,E.color=N||c.risingTrendColor||c.color,_.top.push(V),_.top.push(i(B,{isNull:!0}))):D.y<b.close&&E.y>=T.close&&(D.color=N||c.risingTrendColor||c.color,E.color=N||c.fallingTrendColor||c.color,_.bottom.push(V),_.bottom.push(i(B,{isNull:!0}))))):b&&(D.y>=b.close?(D.color=N||c.fallingTrendColor||c.color,_.top.push(V)):(D.color=N||c.risingTrendColor||c.color,_.bottom.push(V)));n(_,function(j,R){r.points=j,r.options=i(M[R].styles,m),r.graph=r["graph"+R+"Line"],s.prototype.drawGraph.call(r),r["graph"+R+"Line"]=r.graph}),r.points=g,r.options=c,r.graph=P},p.prototype.getValues=function(r,c){var A=c.period;c=c.multiplier;var v=r.xData,g=r.yData,P=[],x=[],k=[],m=A===0?0:A-1,_=[],M=[],D;if(!(v.length<=A||!e(g[0])||g[0].length!==4||0>A)){for(r=h.prototype.getValues.call(this,r,{period:A}).yData,D=0;D<r.length;D++){var E=g[m+D],b=g[m+D-1]||[],T=_[D-1],B=M[D-1],I=k[D-1];D===0&&(T=B=I=0),A=t((E[1]+E[2])/2+c*r[D]);var N=t((E[1]+E[2])/2-c*r[D]);if(_[D]=A<T||b[3]>T?A:T,M[D]=N>B||b[3]<B?N:B,I===T&&E[3]<_[D]||I===B&&E[3]<M[D])var V=_[D];else(I===T&&E[3]>_[D]||I===B&&E[3]>M[D])&&(V=M[D]);P.push([v[m+D],V]),x.push(v[m+D]),k.push(V)}return{values:P,xData:x,yData:k}}},p.defaultOptions=i(s.defaultOptions,{params:{index:void 0,multiplier:3,period:10},risingTrendColor:"#06b535",fallingTrendColor:"#f21313",changeTrendLine:{styles:{lineWidth:1,lineColor:"#333333",dashStyle:"LongDash"}}}),p}(s),S(f.prototype,{nameBase:"Supertrend",nameComponents:["multiplier","period"]}),u.registerSeriesType("supertrend",f),f}),L(a,"Stock/Indicators/VBP/VBPPoint.js",[a["Core/Series/Point.js"],a["Core/Series/SeriesRegistry.js"]],function(u,f){var w=this&&this.__extends||function(){var C=function(O,S){return C=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,s){h.__proto__=s}||function(h,s){for(var o in s)s.hasOwnProperty(o)&&(h[o]=s[o])},C(O,S)};return function(O,S){function h(){this.constructor=O}C(O,S),O.prototype=S===null?Object.create(S):(h.prototype=S.prototype,new h)}}();return function(C){function O(){return C!==null&&C.apply(this,arguments)||this}return w(O,C),O.prototype.destroy=function(){return this.negativeGraphic&&(this.negativeGraphic=this.negativeGraphic.destroy()),u.prototype.destroy.apply(this,arguments)},O}(f.seriesTypes.sma.prototype.pointClass)}),L(a,"Stock/Indicators/VBP/VBPIndicator.js",[a["Stock/Indicators/VBP/VBPPoint.js"],a["Core/Animation/AnimationUtilities.js"],a["Core/Globals.js"],a["Core/Series/SeriesRegistry.js"],a["Core/Utilities.js"],a["Core/Chart/StockChart.js"]],function(u,f,w,C,O,S){var h=this&&this.__extends||function(){var P=function(x,k){return P=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,_){m.__proto__=_}||function(m,_){for(var M in _)_.hasOwnProperty(M)&&(m[M]=_[M])},P(x,k)};return function(x,k){function m(){this.constructor=x}P(x,k),x.prototype=k===null?Object.create(k):(m.prototype=k.prototype,new m)}}(),s=f.animObject;f=w.noop;var o=C.seriesTypes.sma,t=O.addEvent,e=O.arrayMax,i=O.arrayMin,n=O.correctFloat,l=O.defined,p=O.error,r=O.extend,c=O.isArray,A=O.merge,v=Math.abs,g=C.seriesTypes.column.prototype;return O=function(P){function x(){var k=P!==null&&P.apply(this,arguments)||this;return k.data=void 0,k.negWidths=void 0,k.options=void 0,k.points=void 0,k.posWidths=void 0,k.priceZones=void 0,k.rangeStep=void 0,k.volumeDataArray=void 0,k.zoneStarts=void 0,k.zoneLinesSVG=void 0,k}return h(x,P),x.prototype.init=function(k){var m=this,_,M,D;w.seriesTypes.sma.prototype.init.apply(m,arguments);var E=t(S,"afterLinkSeries",function(){m.options&&(_=m.options.params,M=m.linkedParent,D=k.get(_.volumeSeriesID),m.addCustomEvents(M,D)),E()},{order:1});return m},x.prototype.addCustomEvents=function(k,m){function _(){M.chart.redraw(),M.setData([]),M.zoneStarts=[],M.zoneLinesSVG&&(M.zoneLinesSVG=M.zoneLinesSVG.destroy())}var M=this;return M.dataEventsToUnbind.push(t(k,"remove",function(){_()})),m&&M.dataEventsToUnbind.push(t(m,"remove",function(){_()})),M},x.prototype.animate=function(k){var m=this,_=m.chart.inverted,M=m.group,D={};!k&&M&&(k=_?m.yAxis.top:m.xAxis.left,_?(M["forceAnimate:translateY"]=!0,D.translateY=k):(M["forceAnimate:translateX"]=!0,D.translateX=k),M.animate(D,r(s(m.options.animation),{step:function(E,b){m.group.attr({scaleX:Math.max(.001,b.pos)})}})))},x.prototype.drawPoints=function(){this.options.volumeDivision.enabled&&(this.posNegVolume(!0,!0),g.drawPoints.apply(this,arguments),this.posNegVolume(!1,!1)),g.drawPoints.apply(this,arguments)},x.prototype.posNegVolume=function(k,m){var _=m?["positive","negative"]:["negative","positive"],M=this.options.volumeDivision,D=this.points.length,E=[],b=[],T=0,B;for(k?(this.posWidths=E,this.negWidths=b):(E=this.posWidths,b=this.negWidths);T<D;T++){var I=this.points[T];if(I[_[0]+"Graphic"]=I.graphic,I.graphic=I[_[1]+"Graphic"],k){var N=I.shapeArgs.width,V=this.priceZones[T];(B=V.wholeVolumeData)?(E.push(N/B*V.positiveVolumeData),b.push(N/B*V.negativeVolumeData)):(E.push(0),b.push(0))}I.color=m?M.styles.positiveColor:M.styles.negativeColor,I.shapeArgs.width=m?this.posWidths[T]:this.negWidths[T],I.shapeArgs.x=m?I.shapeArgs.x:this.posWidths[T]}},x.prototype.translate=function(){var k=this,m=k.options,_=k.chart,M=k.yAxis,D=M.min,E=k.options.zoneLines,b=k.priceZones,T=0,B,I,N;g.translate.apply(k);var V=k.points;if(V.length){var j=.5>m.pointPadding?m.pointPadding:.1;m=k.volumeDataArray;var R=e(m),F=_.plotWidth/2,Y=_.plotTop,z=v(M.toPixels(D)-M.toPixels(D+k.rangeStep)),W=v(M.toPixels(D)-M.toPixels(D+k.rangeStep));j&&(D=v(z*(1-2*j)),T=v((z-D)/2),z=v(D)),V.forEach(function($,H){I=$.barX=$.plotX=0,N=$.plotY=M.toPixels(b[H].start)-Y-(M.reversed?z-W:z)-T,B=n(F*b[H].wholeVolumeData/R),$.pointWidth=B,$.shapeArgs=k.crispCol.apply(k,[I,N,B,z]),$.volumeNeg=b[H].negativeVolumeData,$.volumePos=b[H].positiveVolumeData,$.volumeAll=b[H].wholeVolumeData}),E.enabled&&k.drawZones(_,M,k.zoneStarts,E.styles)}},x.prototype.getValues=function(k,m){var _=k.processedXData,M=k.processedYData,D=this.chart,E=m.ranges,b=[],T=[],B=[],I;if(k.chart)if(I=D.get(m.volumeSeriesID))if((m=c(M[0]))&&M[0].length!==4)p("Type of "+k.name+" series is different than line, OHLC or candlestick.",!0,D);else return(this.priceZones=this.specifyZones(m,_,M,E,I)).forEach(function(N,V){b.push([N.x,N.end]),T.push(b[V][0]),B.push(b[V][1])}),{values:b,xData:T,yData:B};else p("Series "+m.volumeSeriesID+" not found! Check `volumeSeriesID`.",!0,D);else p("Base series not found! In case it has been removed, add a new one.",!0,D)},x.prototype.specifyZones=function(k,m,_,M,D){if(k){for(var E=_.length,b=_[0][3],T=b,B=1,I;B<E;B++)I=_[B][3],I<b&&(b=I),I>T&&(T=I);E={min:b,max:T}}else E=!1;E=(b=E)?b.min:i(_),I=b?b.max:e(_),b=this.zoneStarts=[],T=[];var N=0;B=1;var V=this.linkedParent;if(!this.options.compareToMain&&V.dataModify&&(E=V.dataModify.modifyValue(E),I=V.dataModify.modifyValue(I)),!l(E)||!l(I))return this.points.length&&(this.setData([]),this.zoneStarts=[],this.zoneLinesSVG&&(this.zoneLinesSVG=this.zoneLinesSVG.destroy())),[];for(V=this.rangeStep=n(I-E)/M,b.push(E);N<M-1;N++)b.push(n(b[N]+V));for(b.push(I),M=b.length;B<M;B++)T.push({index:B-1,x:m[0],start:b[B-1],end:b[B]});return this.volumePerZone(k,T,D,m,_)},x.prototype.volumePerZone=function(k,m,_,M,D){var E=this,b=_.processedXData,T=_.processedYData,B=m.length-1,I=D.length;_=T.length;var N,V,j,R,F;return v(I-_)&&(M[0]!==b[0]&&T.unshift(0),M[I-1]!==b[_-1]&&T.push(0)),E.volumeDataArray=[],m.forEach(function(Y){for(Y.wholeVolumeData=0,Y.positiveVolumeData=0,F=Y.negativeVolumeData=0;F<I;F++){j=V=!1,R=k?D[F][3]:D[F],N=F?k?D[F-1][3]:D[F-1]:R;var z=E.linkedParent;!E.options.compareToMain&&z.dataModify&&(R=z.dataModify.modifyValue(R),N=z.dataModify.modifyValue(N)),R<=Y.start&&Y.index===0&&(V=!0),R>=Y.end&&Y.index===B&&(j=!0),(R>Y.start||V)&&(R<Y.end||j)&&(Y.wholeVolumeData+=T[F],N>R?Y.negativeVolumeData+=T[F]:Y.positiveVolumeData+=T[F])}E.volumeDataArray.push(Y.wholeVolumeData)}),m},x.prototype.drawZones=function(k,m,_,M){var D=k.renderer,E=this.zoneLinesSVG,b=[],T=k.plotWidth,B=k.plotTop,I;_.forEach(function(N){I=m.toPixels(N)-B,b=b.concat(k.renderer.crispLine([["M",0,I],["L",T,I]],M.lineWidth))}),E?E.animate({d:b}):E=this.zoneLinesSVG=D.path(b).attr({"stroke-width":M.lineWidth,stroke:M.color,dashstyle:M.dashStyle,zIndex:this.group.zIndex+.1}).add(this.group)},x.defaultOptions=A(o.defaultOptions,{params:{index:void 0,period:void 0,ranges:12,volumeSeriesID:"volume"},zoneLines:{enabled:!0,styles:{color:"#0A9AC9",dashStyle:"LongDash",lineWidth:1}},volumeDivision:{enabled:!0,styles:{positiveColor:"rgba(144, 237, 125, 0.8)",negativeColor:"rgba(244, 91, 91, 0.8)"}},animationLimit:1e3,enableMouseTracking:!1,pointPadding:0,zIndex:-1,crisp:!0,dataGrouping:{enabled:!1},dataLabels:{allowOverlap:!0,enabled:!0,format:"P: {point.volumePos:.2f} | N: {point.volumeNeg:.2f}",padding:0,style:{fontSize:"7px"},verticalAlign:"top"}}),x}(o),r(O.prototype,{nameBase:"Volume by Price",nameComponents:["ranges"],calculateOn:{chart:"render",xAxis:"afterSetExtremes"},pointClass:u,markerAttribs:f,drawGraph:f,getColumnMetrics:g.getColumnMetrics,crispCol:g.crispCol}),C.registerSeriesType("vbp",O),O}),L(a,"Stock/Indicators/VWAP/VWAPIndicator.js",[a["Core/Series/SeriesRegistry.js"],a["Core/Utilities.js"]],function(u,f){var w=this&&this.__extends||function(){var s=function(o,t){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var n in i)i.hasOwnProperty(n)&&(e[n]=i[n])},s(o,t)};return function(o,t){function e(){this.constructor=o}s(o,t),o.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),C=u.seriesTypes.sma,O=f.error,S=f.isArray,h=f.merge;return f=function(s){function o(){var t=s!==null&&s.apply(this,arguments)||this;return t.data=void 0,t.points=void 0,t.options=void 0,t}return w(o,s),o.prototype.getValues=function(t,e){var i=t.chart,n=t.xData;t=t.yData;var l=e.period,p=!0,r;if(r=i.get(e.volumeSeriesID))return S(t[0])||(p=!1),this.calculateVWAPValues(p,n,t,r,l);O("Series "+e.volumeSeriesID+" not found! Check `volumeSeriesID`.",!0,i)},o.prototype.calculateVWAPValues=function(t,e,i,n,l){var p=n.yData,r=n.xData.length,c=e.length;n=[];var A=[],v=[],g=[],P=[],x;for(r=c<=r?c:r,x=c=0;c<r;c++){var k=t?(i[c][1]+i[c][2]+i[c][3])/3:i[c];k*=p[c],k=x?n[c-1]+k:k;var m=x?A[c-1]+p[c]:p[c];n.push(k),A.push(m),P.push([e[c],k/m]),v.push(P[c][0]),g.push(P[c][1]),x++,x===l&&(x=0)}return{values:P,xData:v,yData:g}},o.defaultOptions=h(C.defaultOptions,{params:{index:void 0,period:30,volumeSeriesID:"volume"}}),o}(C),u.registerSeriesType("vwap",f),f}),L(a,"Stock/Indicators/WilliamsR/WilliamsRIndicator.js",[a["Stock/Indicators/ArrayUtilities.js"],a["Core/Series/SeriesRegistry.js"],a["Core/Utilities.js"]],function(u,f,w){var C=this&&this.__extends||function(){var o=function(t,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var l in n)n.hasOwnProperty(l)&&(i[l]=n[l])},o(t,e)};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=e===null?Object.create(e):(i.prototype=e.prototype,new i)}}(),O=f.seriesTypes.sma,S=w.extend,h=w.isArray,s=w.merge;return w=function(o){function t(){var e=o!==null&&o.apply(this,arguments)||this;return e.data=void 0,e.options=void 0,e.points=void 0,e}return C(t,o),t.prototype.getValues=function(e,i){i=i.period;var n=e.xData,l=(e=e.yData)?e.length:0,p=[],r=[],c=[],A;if(!(n.length<i)&&h(e[0])&&e[0].length===4){for(A=i-1;A<l;A++){var v=e.slice(A-i+1,A+1),g=u.getArrayExtremes(v,2,1);v=g[0],g=g[1];var P=e[A][3];v=(g-P)/(g-v)*-100,n[A]&&(p.push([n[A],v]),r.push(n[A]),c.push(v))}return{values:p,xData:r,yData:c}}},t.defaultOptions=s(O.defaultOptions,{params:{index:void 0,period:14}}),t}(O),S(w.prototype,{nameBase:"Williams %R"}),f.registerSeriesType("williamsr",w),w}),L(a,"Stock/Indicators/WMA/WMAIndicator.js",[a["Core/Series/SeriesRegistry.js"],a["Core/Utilities.js"]],function(u,f){function w(o,t){return t*=(t+1)/2,o.reduce(function(e,i,n){return[null,e[1]+i[1]*(n+1)]})[1]/t}function C(o,t,e,i){return e=w(o,o.length),t=t[i-1],o.shift(),[t,e]}var O=this&&this.__extends||function(){var o=function(t,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var l in n)n.hasOwnProperty(l)&&(i[l]=n[l])},o(t,e)};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=e===null?Object.create(e):(i.prototype=e.prototype,new i)}}(),S=u.seriesTypes.sma,h=f.isArray,s=f.merge;return f=function(o){function t(){var e=o!==null&&o.apply(this,arguments)||this;return e.data=void 0,e.options=void 0,e.points=void 0,e}return O(t,o),t.prototype.getValues=function(e,i){var n=i.period,l=e.xData,p=(e=e.yData)?e.length:0,r=1,c=l[0],A=e[0],v=[],g=[],P=[],x=-1;if(!(l.length<n)){for(h(e[0])&&(x=i.index,A=e[0][x]),i=[[c,A]];r!==n;)i.push([l[r],0>x?e[r]:e[r][x]]),r++;for(n=r;n<p;n++)r=C(i,l,e,n),v.push(r),g.push(r[0]),P.push(r[1]),i.push([l[n],0>x?e[n]:e[n][x]]);return r=C(i,l,e,n),v.push(r),g.push(r[0]),P.push(r[1]),{values:v,xData:g,yData:P}}},t.defaultOptions=s(S.defaultOptions,{params:{index:3,period:9}}),t}(S),u.registerSeriesType("wma",f),f}),L(a,"Stock/Indicators/Zigzag/ZigzagIndicator.js",[a["Core/Series/SeriesRegistry.js"],a["Core/Utilities.js"]],function(u,f){var w=this&&this.__extends||function(){var h=function(s,o){return h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},h(s,o)};return function(s,o){function t(){this.constructor=s}h(s,o),s.prototype=o===null?Object.create(o):(t.prototype=o.prototype,new t)}}(),C=u.seriesTypes.sma,O=f.merge;f=f.extend;var S=function(h){function s(){var o=h!==null&&h.apply(this,arguments)||this;return o.data=void 0,o.points=void 0,o.options=void 0,o}return w(s,h),s.prototype.getValues=function(o,t){var e=t.lowIndex,i=t.highIndex,n=t.deviation/100;t=1+n;var l=1-n;n=o.xData;var p=o.yData;o=p?p.length:0;var r=[],c=[],A=[],v,g,P=!1,x=!1;if(!(!n||1>=n.length||o&&(typeof p[0][e]=="undefined"||typeof p[0][i]=="undefined"))){var k=p[0][e],m=p[0][i];for(v=1;v<o;v++){if(p[v][e]<=m*l){r.push([n[0],m]);var _=[n[v],p[v][e]];P=g=!0}else p[v][i]>=k*t&&(r.push([n[0],k]),_=[n[v],p[v][i]],g=!1,P=!0);if(P){c.push(r[0][0]),A.push(r[0][1]);var M=v++;v=o}}for(v=M;v<o;v++)g?(p[v][e]<=_[1]&&(_=[n[v],p[v][e]]),p[v][i]>=_[1]*t&&(x=i)):(p[v][i]>=_[1]&&(_=[n[v],p[v][i]]),p[v][e]<=_[1]*l&&(x=e)),x!==!1&&(r.push(_),c.push(_[0]),A.push(_[1]),_=[n[v],p[v][x]],g=!g,x=!1);return e=r.length,e!==0&&r[e-1][0]<n[o-1]&&(r.push(_),c.push(_[0]),A.push(_[1])),{values:r,xData:c,yData:A}}},s.defaultOptions=O(C.defaultOptions,{params:{index:void 0,period:void 0,lowIndex:2,highIndex:1,deviation:1}}),s}(C);return f(S.prototype,{nameComponents:["deviation"],nameSuffixes:["%"],nameBase:"Zig Zag"}),u.registerSeriesType("zigzag",S),S}),L(a,"Stock/Indicators/LinearRegression/LinearRegression.js",[a["Core/Series/SeriesRegistry.js"],a["Core/Utilities.js"]],function(u,f){var w=this&&this.__extends||function(){var s=function(o,t){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var n in i)i.hasOwnProperty(n)&&(e[n]=i[n])},s(o,t)};return function(o,t){function e(){this.constructor=o}s(o,t),o.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),C=u.seriesTypes.sma,O=f.isArray,S=f.extend,h=f.merge;return f=function(s){function o(){var t=s!==null&&s.apply(this,arguments)||this;return t.data=void 0,t.options=void 0,t.points=void 0,t}return w(o,s),o.prototype.getRegressionLineParameters=function(t,e){var i=this.options.params.index,n=function(P,x){return O(P)?P[x]:P},l=t.reduce(function(P,x){return x+P},0),p=e.reduce(function(P,x){return n(x,i)+P},0);l/=t.length,p/=e.length;var r=0,c=0,A;for(A=0;A<t.length;A++){var v=t[A]-l,g=n(e[A],i)-p;r+=v*g,c+=Math.pow(v,2)}return t=c?r/c:0,{slope:t,intercept:p-t*l}},o.prototype.getEndPointY=function(t,e){return t.slope*e+t.intercept},o.prototype.transformXData=function(t,e){var i=t[0];return t.map(function(n){return(n-i)/e})},o.prototype.findClosestDistance=function(t){var e,i;for(i=1;i<t.length-1;i++){var n=t[i]-t[i-1];0<n&&(typeof e=="undefined"||n<e)&&(e=n)}return e},o.prototype.getValues=function(t,e){var i=t.xData;t=t.yData,e=e.period;var n,l={xData:[],yData:[],values:[]},p=this.options.params.xAxisUnit||this.findClosestDistance(i);for(n=e-1;n<=i.length-1;n++){var r=n-e+1,c=n+1,A=i[n],v=i.slice(r,c);r=t.slice(r,c),c=this.transformXData(v,p),v=this.getRegressionLineParameters(c,r),r=this.getEndPointY(v,c[c.length-1]),l.values.push({regressionLineParameters:v,x:A,y:r}),l.xData.push(A),l.yData.push(r)}return l},o.defaultOptions=h(C.defaultOptions,{params:{xAxisUnit:null},tooltip:{valueDecimals:4}}),o}(C),S(f.prototype,{nameBase:"Linear Regression Indicator"}),u.registerSeriesType("linearRegression",f),f}),L(a,"Stock/Indicators/LinearRegressionSlopes/LinearRegressionSlopes.js",[a["Core/Series/SeriesRegistry.js"],a["Core/Utilities.js"]],function(u,f){var w=this&&this.__extends||function(){var h=function(s,o){return h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},h(s,o)};return function(s,o){function t(){this.constructor=s}h(s,o),s.prototype=o===null?Object.create(o):(t.prototype=o.prototype,new t)}}(),C=u.seriesTypes.linearRegression,O=f.extend,S=f.merge;return f=function(h){function s(){var o=h!==null&&h.apply(this,arguments)||this;return o.data=void 0,o.options=void 0,o.points=void 0,o}return w(s,h),s.prototype.getEndPointY=function(o){return o.slope},s.defaultOptions=S(C.defaultOptions),s}(C),O(f.prototype,{nameBase:"Linear Regression Slope Indicator"}),u.registerSeriesType("linearRegressionSlope",f),f}),L(a,"Stock/Indicators/LinearRegressionIntercept/LinearRegressionIntercept.js",[a["Core/Series/SeriesRegistry.js"],a["Core/Utilities.js"]],function(u,f){var w=this&&this.__extends||function(){var h=function(s,o){return h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},h(s,o)};return function(s,o){function t(){this.constructor=s}h(s,o),s.prototype=o===null?Object.create(o):(t.prototype=o.prototype,new t)}}(),C=u.seriesTypes.linearRegression,O=f.extend,S=f.merge;return f=function(h){function s(){var o=h!==null&&h.apply(this,arguments)||this;return o.data=void 0,o.options=void 0,o.points=void 0,o}return w(s,h),s.prototype.getEndPointY=function(o){return o.intercept},s.defaultOptions=S(C.defaultOptions),s}(C),O(f.prototype,{nameBase:"Linear Regression Intercept Indicator"}),u.registerSeriesType("linearRegressionIntercept",f),f}),L(a,"Stock/Indicators/LinearRegressionAngle/LinearRegressionAngle.js",[a["Core/Series/SeriesRegistry.js"],a["Core/Utilities.js"]],function(u,f){var w=this&&this.__extends||function(){var h=function(s,o){return h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},h(s,o)};return function(s,o){function t(){this.constructor=s}h(s,o),s.prototype=o===null?Object.create(o):(t.prototype=o.prototype,new t)}}(),C=u.seriesTypes.linearRegression,O=f.extend,S=f.merge;return f=function(h){function s(){var o=h!==null&&h.apply(this,arguments)||this;return o.data=void 0,o.options=void 0,o.points=void 0,o}return w(s,h),s.prototype.slopeToAngle=function(o){return 180/Math.PI*Math.atan(o)},s.prototype.getEndPointY=function(o){return this.slopeToAngle(o.slope)},s.defaultOptions=S(C.defaultOptions,{tooltip:{pointFormat:'<span style="color:{point.color}">\u25CF</span>{series.name}: <b>{point.y}\xB0</b><br/>'}}),s}(C),O(f.prototype,{nameBase:"Linear Regression Angle Indicator"}),u.registerSeriesType("linearRegressionAngle",f),f}),L(a,"Stock/Indicators/ABands/ABandsIndicator.js",[a["Stock/Indicators/MultipleLinesComposition.js"],a["Core/Series/SeriesRegistry.js"],a["Core/Utilities.js"]],function(u,f,w){var C=this&&this.__extends||function(){var o=function(t,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var l in n)n.hasOwnProperty(l)&&(i[l]=n[l])},o(t,e)};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=e===null?Object.create(e):(i.prototype=e.prototype,new i)}}(),O=f.seriesTypes.sma,S=w.correctFloat,h=w.extend,s=w.merge;return w=function(o){function t(){var e=o!==null&&o.apply(this,arguments)||this;return e.data=void 0,e.options=void 0,e.points=void 0,e}return C(t,o),t.prototype.getValues=function(e,i){var n=i.period,l=i.factor;i=i.index;var p=e.xData,r=(e=e.yData)?e.length:0,c=[],A=[],v=[],g=[],P=[],x;if(!(r<n)){for(x=0;x<=r;x++){if(x<r){var k=e[x][2],m=e[x][1],_=l;k=S(m-k)/(S(m+k)/2)*1e3*_,c.push(e[x][1]*S(1+2*k)),A.push(e[x][2]*S(1-2*k))}if(x>=n){k=p.slice(x-n,x);var M=e.slice(x-n,x);_=o.prototype.getValues.call(this,{xData:k,yData:c.slice(x-n,x)},{period:n}),m=o.prototype.getValues.call(this,{xData:k,yData:A.slice(x-n,x)},{period:n}),M=o.prototype.getValues.call(this,{xData:k,yData:M},{period:n,index:i}),k=M.xData[0],_=_.yData[0],m=m.yData[0],M=M.yData[0],v.push([k,_,M,m]),g.push(k),P.push([_,M,m])}}return{values:v,xData:g,yData:P}}},t.defaultOptions=s(O.defaultOptions,{params:{period:20,factor:.001,index:3},lineWidth:1,topLine:{styles:{lineWidth:1}},bottomLine:{styles:{lineWidth:1}},dataGrouping:{approximation:"averages"}}),t}(O),h(w.prototype,{areaLinesNames:["top","bottom"],linesApiNames:["topLine","bottomLine"],nameBase:"Acceleration Bands",nameComponents:["period","factor"],pointArrayMap:["top","middle","bottom"],pointValKey:"middle"}),u.compose(w),f.registerSeriesType("abands",w),w}),L(a,"Stock/Indicators/TrendLine/TrendLineIndicator.js",[a["Core/Series/SeriesRegistry.js"],a["Core/Utilities.js"]],function(u,f){var w=this&&this.__extends||function(){var s=function(o,t){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var n in i)i.hasOwnProperty(n)&&(e[n]=i[n])},s(o,t)};return function(o,t){function e(){this.constructor=o}s(o,t),o.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),C=u.seriesTypes.sma,O=f.extend,S=f.merge,h=f.isArray;return f=function(s){function o(){var t=s!==null&&s.apply(this,arguments)||this;return t.data=void 0,t.options=void 0,t.points=void 0,t}return w(o,s),o.prototype.getValues=function(t,e){var i=t.xData,n=t.yData;t=[];var l=[],p=[],r=0,c=0,A=0,v=0,g=i.length,P=e.index;for(e=0;e<g;e++){var x=i[e],k=h(n[e])?n[e][P]:n[e];r+=x,c+=k,A+=x*k,v+=x*x}for(n=(g*A-r*c)/(g*v-r*r),isNaN(n)&&(n=0),r=(c-n*r)/g,e=0;e<g;e++)x=i[e],k=n*x+r,t[e]=[x,k],l[e]=x,p[e]=k;return{xData:l,yData:p,values:t}},o.defaultOptions=S(C.defaultOptions,{params:{period:void 0,index:3}}),o}(C),O(f.prototype,{nameBase:"Trendline",nameComponents:!1}),u.registerSeriesType("trendline",f),f}),L(a,"Stock/Indicators/DisparityIndex/DisparityIndexIndicator.js",[a["Core/Series/SeriesRegistry.js"],a["Core/Utilities.js"]],function(u,f){var w=this&&this.__extends||function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,l){n.__proto__=l}||function(n,l){for(var p in l)l.hasOwnProperty(p)&&(n[p]=l[p])},t(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=i===null?Object.create(i):(n.prototype=i.prototype,new n)}}(),C=u.seriesTypes.sma,O=f.correctFloat,S=f.defined,h=f.extend,s=f.isArray,o=f.merge;return f=function(t){function e(){var i=t!==null&&t.apply(this,arguments)||this;return i.averageIndicator=void 0,i.data=void 0,i.options=void 0,i.points=void 0,i}return w(e,t),e.prototype.init=function(){var i=arguments,n=i[1].params;this.averageIndicator=u.seriesTypes[n&&n.average?n.average:void 0]||C,this.averageIndicator.prototype.init.apply(this,i)},e.prototype.calculateDisparityIndex=function(i,n){return O(i-n)/n*100},e.prototype.getValues=function(i,n){var l=n.index,p=i.xData,r=i.yData,c=r?r.length:0,A=[],v=[],g=[],P=this.averageIndicator,x=s(r[0]);if(n=P.prototype.getValues(i,n),i=n.yData,n=p.indexOf(n.xData[0]),i&&i.length!==0&&S(l)&&!(r.length<=n)){for(P=n;P<c;P++){var k=this.calculateDisparityIndex(x?r[P][l]:r[P],i[P-n]);A.push([p[P],k]),v.push(p[P]),g.push(k)}return{values:A,xData:v,yData:g}}},e.defaultOptions=o(C.defaultOptions,{params:{average:"sma",index:3},marker:{enabled:!1},dataGrouping:{approximation:"averages"}}),e}(C),h(f.prototype,{nameBase:"Disparity Index",nameComponents:["period","average"]}),u.registerSeriesType("disparityindex",f),f}),L(a,"masters/indicators/indicators-all.src.js",[],function(){})})})(Xt);const Gi=Xt.exports;/*!
  * vue-color-kit v1.0.4
  * (c) 2021 
  * @license MIT
  */function lt(y){let a={r:0,g:0,b:0,a:1};/#/.test(y)?a=Zi(y):/rgb/.test(y)?a=Vt(y):typeof y=="string"?a=Vt(`rgba(${y})`):Object.prototype.toString.call(y)==="[object Object]"&&(a=y);const{r:L,g:u,b:f,a:w}=a,{h:C,s:O,v:S}=qi(a);return{r:L,g:u,b:f,a:w===void 0?1:w,h:C,s:O,v:S}}function St(y){const a=document.createElement("canvas"),L=a.getContext("2d"),u=y*2;return a.width=u,a.height=u,L.fillStyle="#ffffff",L.fillRect(0,0,u,u),L.fillStyle="#ccd5db",L.fillRect(0,0,y,y),L.fillRect(y,y,y,y),a}function mt(y,a,L,u,f,w){const C=y==="l",O=a.createLinearGradient(0,0,C?L:0,C?0:u);O.addColorStop(.01,f),O.addColorStop(.99,w),a.fillStyle=O,a.fillRect(0,0,L,u)}function Ki({r:y,g:a,b:L},u){const f=C=>("0"+Number(C).toString(16)).slice(-2),w=`#${f(y)}${f(a)}${f(L)}`;return u?w.toUpperCase():w}function Zi(y){y=y.slice(1);const a=L=>parseInt(L,16)||0;return{r:a(y.slice(0,2)),g:a(y.slice(2,4)),b:a(y.slice(4,6))}}function Vt(y){return typeof y=="string"?(y=(/rgba?\((.*?)\)/.exec(y)||["","0,0,0,1"])[1].split(","),{r:Number(y[0])||0,g:Number(y[1])||0,b:Number(y[2])||0,a:Number(y[3]?y[3]:1)}):y}function qi({r:y,g:a,b:L}){y=y/255,a=a/255,L=L/255;const u=Math.max(y,a,L),f=Math.min(y,a,L),w=u-f;let C=0;u===f?C=0:u===y?a>=L?C=60*(a-L)/w:C=60*(a-L)/w+360:u===a?C=60*(L-y)/w+120:u===L&&(C=60*(y-a)/w+240),C=Math.floor(C);let O=parseFloat((u===0?0:1-f/u).toFixed(2)),S=parseFloat(u.toFixed(2));return{h:C,s:O,v:S}}var wt=d.defineComponent({props:{color:{type:String,default:"#000000"},hsv:{type:Object,default:null},size:{type:Number,default:152}},emits:["selectSaturation"],data(){return{slideSaturationStyle:{}}},mounted(){this.renderColor(),this.renderSlide()},methods:{renderColor(){const y=this.$refs.canvasSaturation,a=this.size,L=y.getContext("2d");y.width=a,y.height=a,L.fillStyle=this.color,L.fillRect(0,0,a,a),mt("l",L,a,a,"#FFFFFF","rgba(255,255,255,0)"),mt("p",L,a,a,"rgba(0,0,0,0)","#000000")},renderSlide(){this.slideSaturationStyle={left:this.hsv.s*this.size-5+"px",top:(1-this.hsv.v)*this.size-5+"px"}},selectSaturation(y){const{top:a,left:L}=this.$el.getBoundingClientRect(),u=y.target.getContext("2d"),f=C=>{let O=C.clientX-L,S=C.clientY-a;O<0&&(O=0),S<0&&(S=0),O>this.size&&(O=this.size),S>this.size&&(S=this.size),this.slideSaturationStyle={left:O-5+"px",top:S-5+"px"};const h=u.getImageData(Math.min(O,this.size-1),Math.min(S,this.size-1),1,1),[s,o,t]=h.data;this.$emit("selectSaturation",{r:s,g:o,b:t})};f(y);const w=()=>{document.removeEventListener("mousemove",f),document.removeEventListener("mouseup",w)};document.addEventListener("mousemove",f),document.addEventListener("mouseup",w)}}});const Ji={ref:"canvasSaturation"};function Qi(y,a,L,u,f,w){return d.openBlock(),d.createBlock("div",{class:"saturation",onMousedown:a[1]||(a[1]=d.withModifiers((...C)=>y.selectSaturation&&y.selectSaturation(...C),["prevent","stop"]))},[d.createVNode("canvas",Ji,null,512),d.createVNode("div",{style:y.slideSaturationStyle,class:"slide"},null,4)],32)}wt.render=Qi;wt.__file="src/color/Saturation.vue";var Ot=d.defineComponent({props:{hsv:{type:Object,default:null},width:{type:Number,default:15},height:{type:Number,default:152}},emits:["selectHue"],data(){return{slideHueStyle:{}}},mounted(){this.renderColor(),this.renderSlide()},methods:{renderColor(){const y=this.$refs.canvasHue,a=this.width,L=this.height,u=y.getContext("2d");y.width=a,y.height=L;const f=u.createLinearGradient(0,0,0,L);f.addColorStop(0,"#FF0000"),f.addColorStop(.17*1,"#FF00FF"),f.addColorStop(.17*2,"#0000FF"),f.addColorStop(.17*3,"#00FFFF"),f.addColorStop(.17*4,"#00FF00"),f.addColorStop(.17*5,"#FFFF00"),f.addColorStop(1,"#FF0000"),u.fillStyle=f,u.fillRect(0,0,a,L)},renderSlide(){this.slideHueStyle={top:(1-this.hsv.h/360)*this.height-2+"px"}},selectHue(y){const{top:a}=this.$el.getBoundingClientRect(),L=y.target.getContext("2d"),u=w=>{let C=w.clientY-a;C<0&&(C=0),C>this.height&&(C=this.height),this.slideHueStyle={top:C-2+"px"};const O=L.getImageData(0,Math.min(C,this.height-1),1,1),[S,h,s]=O.data;this.$emit("selectHue",{r:S,g:h,b:s})};u(y);const f=()=>{document.removeEventListener("mousemove",u),document.removeEventListener("mouseup",f)};document.addEventListener("mousemove",u),document.addEventListener("mouseup",f)}}});const to={ref:"canvasHue"};function eo(y,a,L,u,f,w){return d.openBlock(),d.createBlock("div",{class:"hue",onMousedown:a[1]||(a[1]=d.withModifiers((...C)=>y.selectHue&&y.selectHue(...C),["prevent","stop"]))},[d.createVNode("canvas",to,null,512),d.createVNode("div",{style:y.slideHueStyle,class:"slide"},null,4)],32)}Ot.render=eo;Ot.__file="src/color/Hue.vue";var bt=d.defineComponent({props:{color:{type:String,default:"#000000"},rgba:{type:Object,default:null},width:{type:Number,default:15},height:{type:Number,default:152}},emits:["selectAlpha"],data(){return{slideAlphaStyle:{},alphaSize:5}},watch:{color(){this.renderColor()},"rgba.a"(){this.renderSlide()}},mounted(){this.renderColor(),this.renderSlide()},methods:{renderColor(){const y=this.$refs.canvasAlpha,a=this.width,L=this.height,u=this.alphaSize,f=St(u),w=y.getContext("2d");y.width=a,y.height=L,w.fillStyle=w.createPattern(f,"repeat"),w.fillRect(0,0,a,L),mt("p",w,a,L,"rgba(255,255,255,0)",this.color)},renderSlide(){this.slideAlphaStyle={top:this.rgba.a*this.height-2+"px"}},selectAlpha(y){const{top:a}=this.$el.getBoundingClientRect(),L=f=>{let w=f.clientY-a;w<0&&(w=0),w>this.height&&(w=this.height);let C=parseFloat((w/this.height).toFixed(2));this.$emit("selectAlpha",C)};L(y);const u=()=>{document.removeEventListener("mousemove",L),document.removeEventListener("mouseup",u)};document.addEventListener("mousemove",L),document.addEventListener("mouseup",u)}}});const io={ref:"canvasAlpha"};function oo(y,a,L,u,f,w){return d.openBlock(),d.createBlock("div",{class:"color-alpha",onMousedown:a[1]||(a[1]=d.withModifiers((...C)=>y.selectAlpha&&y.selectAlpha(...C),["prevent","stop"]))},[d.createVNode("canvas",io,null,512),d.createVNode("div",{style:y.slideAlphaStyle,class:"slide"},null,4)],32)}bt.render=oo;bt.__file="src/color/Alpha.vue";var Et=d.defineComponent({props:{color:{type:String,default:"#000000"},width:{type:Number,default:100},height:{type:Number,default:30}},data(){return{alphaSize:5}},watch:{color(){this.renderColor()}},mounted(){this.renderColor()},methods:{renderColor(){const y=this.$el,a=this.width,L=this.height,u=this.alphaSize,f=St(u),w=y.getContext("2d");y.width=a,y.height=L,w.fillStyle=w.createPattern(f,"repeat"),w.fillRect(0,0,a,L),w.fillStyle=this.color,w.fillRect(0,0,a,L)}}});function no(y,a,L,u,f,w){return d.openBlock(),d.createBlock("canvas")}Et.render=no;Et.__file="src/color/Preview.vue";var Mt=d.defineComponent({props:{suckerCanvas:{type:Object,default:null},suckerArea:{type:Array,default:()=>[]}},data(){return{isOpenSucker:!1,suckerPreview:null,isSucking:!1}},watch:{suckerCanvas(y){this.isSucking=!1,this.suckColor(y)}},methods:{openSucker(){this.isOpenSucker?this.keydownHandler({keyCode:27}):(this.isOpenSucker=!0,this.isSucking=!0,this.$emit("openSucker",!0),document.addEventListener("keydown",this.keydownHandler))},keydownHandler(y){y.keyCode===27&&(this.isOpenSucker=!1,this.isSucking=!1,this.$emit("openSucker",!1),document.removeEventListener("keydown",this.keydownHandler),document.removeEventListener("mousemove",this.mousemoveHandler),document.removeEventListener("mouseup",this.mousemoveHandler),this.suckerPreview&&(document.body.removeChild(this.suckerPreview),this.suckerPreview=null))},mousemoveHandler(y){const{clientX:a,clientY:L}=y,{top:u,left:f,width:w,height:C}=this.suckerCanvas.getBoundingClientRect(),O=a-f,S=L-u,s=this.suckerCanvas.getContext("2d").getImageData(Math.min(O,w-1),Math.min(S,C-1),1,1);let[o,t,e,i]=s.data;i=parseFloat((i/255).toFixed(2));const n=this.suckerPreview.style;Object.assign(n,{position:"absolute",left:a+20+"px",top:L-36+"px",width:"24px",height:"24px",borderRadius:"50%",border:"2px solid #fff",boxShadow:"0 0 8px 0 rgba(0, 0, 0, 0.16)",background:`rgba(${o}, ${t}, ${e}, ${i})`,zIndex:95}),this.suckerArea.length&&a>=this.suckerArea[0]&&L>=this.suckerArea[1]&&a<=this.suckerArea[2]&&L<=this.suckerArea[3]?n.display="":n.display="none"},suckColor(y){y&&y.tagName!=="CANVAS"||(this.suckerPreview=document.createElement("div"),this.suckerPreview&&document.body.appendChild(this.suckerPreview),document.addEventListener("mousemove",this.mousemoveHandler),document.addEventListener("mouseup",this.mousemoveHandler),y.addEventListener("click",a=>{const{clientX:L,clientY:u}=a,{top:f,left:w,width:C,height:O}=y.getBoundingClientRect(),S=L-w,h=u-f,o=y.getContext("2d").getImageData(Math.min(S,C-1),Math.min(h,O-1),1,1);let[t,e,i,n]=o.data;n=parseFloat((n/255).toFixed(2)),this.$emit("selectSucker",{r:t,g:e,b:i,a:n})}))}}});const so=d.createVNode("path",{d:"M13.1,8.2l5.6,5.6c0.4,0.4,0.5,1.1,0.1,1.5s-1.1,0.5-1.5,0.1c0,0-0.1,0-0.1-0.1l-1.4-1.4l-7.7,7.7C7.9,21.9,7.6,22,7.3,22H3.1C2.5,22,2,21.5,2,20.9l0,0v-4.2c0-0.3,0.1-0.6,0.3-0.8l5.8-5.8C8.5,9.7,9.2,9.6,9.7,10s0.5,1.1,0.1,1.5c0,0,0,0.1-0.1,0.1l-5.5,5.5v2.7h2.7l7.4-7.4L8.7,6.8c-0.5-0.4-0.5-1-0.1-1.5s1.1-0.5,1.5-0.1c0,0,0.1,0,0.1,0.1l1.4,1.4l3.5-3.5c1.6-1.6,4.1-1.6,5.8-0.1c1.6,1.6,1.6,4.1,0.1,5.8L20.9,9l-3.6,3.6c-0.4,0.4-1.1,0.5-1.5,0.1"},null,-1),ro={key:1,class:"sucker",viewBox:"-16 -16 68 68",xmlns:"http://www.w3.org/2000/svg",stroke:"#9099a4"},ao=d.createVNode("g",{fill:"none","fill-rule":"evenodd"},[d.createVNode("g",{transform:"translate(1 1)","stroke-width":"4"},[d.createVNode("circle",{"stroke-opacity":".5",cx:"18",cy:"18",r:"18"}),d.createVNode("path",{d:"M36 18c0-9.94-8.06-18-18-18"},[d.createVNode("animateTransform",{attributeName:"transform",type:"rotate",from:"0 18 18",to:"360 18 18",dur:"1s",repeatCount:"indefinite"})])])],-1);function lo(y,a,L,u,f,w){return d.openBlock(),d.createBlock("div",null,[y.isSucking?d.createCommentVNode("v-if",!0):(d.openBlock(),d.createBlock("svg",{key:0,class:[{active:y.isOpenSucker},"sucker"],xmlns:"http://www.w3.org/2000/svg",viewBox:"-12 -12 48 48",onClick:a[1]||(a[1]=(...C)=>y.openSucker&&y.openSucker(...C))},[so],2)),y.isSucking?(d.openBlock(),d.createBlock("svg",ro,[ao])):d.createCommentVNode("v-if",!0)])}Mt.render=lo;Mt.__file="src/color/Sucker.vue";var Dt=d.defineComponent({props:{name:{type:String,default:""},color:{type:String,default:""}},emits:["inputColor"],setup(y,{emit:a}){return{modelColor:d.computed({get(){return y.color||""},set(u){a("inputColor",u)}})}}});const co={class:"color-type"},po={class:"name"};function ho(y,a,L,u,f,w){return d.openBlock(),d.createBlock("div",co,[d.createVNode("span",po,d.toDisplayString(y.name),1),d.withDirectives(d.createVNode("input",{"onUpdate:modelValue":a[1]||(a[1]=C=>y.modelColor=C),class:"value"},null,512),[[d.vModelText,y.modelColor]])])}Dt.render=ho;Dt.__file="src/color/Box.vue";var Tt=d.defineComponent({name:"ColorPicker",props:{color:{type:String,default:"#000000"},colorsDefault:{type:Array,default:()=>[]},colorsHistoryKey:{type:String,default:""}},emits:["selectColor"],setup(y,{emit:a}){const L=d.ref(),u=d.ref([]),f=d.ref();y.colorsHistoryKey&&localStorage&&(u.value=JSON.parse(localStorage.getItem(y.colorsHistoryKey))||[]),f.value=St(4).toDataURL(),d.onUnmounted(()=>{w(L.value)});function w(O){if(!O)return;const S=u.value||[],h=S.indexOf(O);h>=0&&S.splice(h,1),S.length>=8&&(S.length=7),S.unshift(O),u.value=S||[],localStorage&&y.colorsHistoryKey&&localStorage.setItem(y.colorsHistoryKey,JSON.stringify(S))}function C(O){a("selectColor",O)}return{setColorsHistory:w,colorsHistory:u,color:L,imgAlphaBase64:f,selectColor:C}}});const uo={class:"colors"},fo={key:0,class:"colors history"};function go(y,a,L,u,f,w){return d.openBlock(),d.createBlock("div",null,[d.createVNode("ul",uo,[(d.openBlock(!0),d.createBlock(d.Fragment,null,d.renderList(y.colorsDefault,C=>(d.openBlock(),d.createBlock("li",{key:C,class:"item",onClick:O=>y.selectColor(C)},[d.createVNode("div",{style:{background:`url(${y.imgAlphaBase64})`},class:"alpha"},null,4),d.createVNode("div",{style:{background:C},class:"color"},null,4)],8,["onClick"]))),128))]),y.colorsHistory.length?(d.openBlock(),d.createBlock("ul",fo,[(d.openBlock(!0),d.createBlock(d.Fragment,null,d.renderList(y.colorsHistory,C=>(d.openBlock(),d.createBlock("li",{key:C,class:"item",onClick:O=>y.selectColor(C)},[d.createVNode("div",{style:{background:`url(${y.imgAlphaBase64})`},class:"alpha"},null,4),d.createVNode("div",{style:{background:C},class:"color"},null,4)],8,["onClick"]))),128))])):d.createCommentVNode("v-if",!0)])}Tt.render=go;Tt.__file="src/color/Colors.vue";var pt=d.defineComponent({components:{Saturation:wt,Hue:Ot,Alpha:bt,Preview:Et,Sucker:Mt,Box:Dt,Colors:Tt},emits:["changeColor","openSucker"],props:{color:{type:String,default:"#000000"},theme:{type:String,default:"dark"},suckerHide:{type:Boolean,default:!0},suckerCanvas:{type:null,default:null},suckerArea:{type:Array,default:()=>[]},colorsDefault:{type:Array,default:()=>["#000000","#FFFFFF","#FF1900","#F47365","#FFB243","#FFE623","#6EFF2A","#1BC7B1","#00BEFF","#2E81FF","#5D61FF","#FF89CF","#FC3CAD","#BF3DCE","#8E00A7","rgba(0,0,0,0)"]},colorsHistoryKey:{type:String,default:"vue-colorpicker-history"}},data(){return{hueWidth:15,hueHeight:152,previewHeight:30,modelRgba:"",modelHex:"",r:0,g:0,b:0,a:1,h:0,s:0,v:0}},computed:{isLightTheme(){return this.theme==="light"},totalWidth(){return this.hueHeight+(this.hueWidth+8)*2},previewWidth(){return this.totalWidth-(this.suckerHide?0:this.previewHeight)},rgba(){return{r:this.r,g:this.g,b:this.b,a:this.a}},hsv(){return{h:this.h,s:this.s,v:this.v}},rgbString(){return`rgb(${this.r}, ${this.g}, ${this.b})`},rgbaStringShort(){return`${this.r}, ${this.g}, ${this.b}, ${this.a}`},rgbaString(){return`rgba(${this.rgbaStringShort})`},hexString(){return Ki(this.rgba,!0)}},created(){Object.assign(this,lt(this.color)),this.setText(),this.$watch("rgba",()=>{this.$emit("changeColor",{rgba:this.rgba,hsv:this.hsv,hex:this.modelHex})})},methods:{selectSaturation(y){const{r:a,g:L,b:u,h:f,s:w,v:C}=lt(y);Object.assign(this,{r:a,g:L,b:u,h:f,s:w,v:C}),this.setText()},selectHue(y){const{r:a,g:L,b:u,h:f,s:w,v:C}=lt(y);Object.assign(this,{r:a,g:L,b:u,h:f,s:w,v:C}),this.setText(),this.$nextTick(()=>{this.$refs.saturation.renderColor(),this.$refs.saturation.renderSlide()})},selectAlpha(y){this.a=y,this.setText()},inputHex(y){const{r:a,g:L,b:u,a:f,h:w,s:C,v:O}=lt(y);Object.assign(this,{r:a,g:L,b:u,a:f,h:w,s:C,v:O}),this.modelHex=y,this.modelRgba=this.rgbaStringShort,this.$nextTick(()=>{this.$refs.saturation.renderColor(),this.$refs.saturation.renderSlide(),this.$refs.hue.renderSlide()})},inputRgba(y){const{r:a,g:L,b:u,a:f,h:w,s:C,v:O}=lt(y);Object.assign(this,{r:a,g:L,b:u,a:f,h:w,s:C,v:O}),this.modelHex=this.hexString,this.modelRgba=y,this.$nextTick(()=>{this.$refs.saturation.renderColor(),this.$refs.saturation.renderSlide(),this.$refs.hue.renderSlide()})},setText(){this.modelHex=this.hexString,this.modelRgba=this.rgbaStringShort},openSucker(y){this.$emit("openSucker",y)},selectSucker(y){const{r:a,g:L,b:u,a:f,h:w,s:C,v:O}=lt(y);Object.assign(this,{r:a,g:L,b:u,a:f,h:w,s:C,v:O}),this.setText(),this.$nextTick(()=>{this.$refs.saturation.renderColor(),this.$refs.saturation.renderSlide(),this.$refs.hue.renderSlide()})},selectColor(y){const{r:a,g:L,b:u,a:f,h:w,s:C,v:O}=lt(y);Object.assign(this,{r:a,g:L,b:u,a:f,h:w,s:C,v:O}),this.setText(),this.$nextTick(()=>{this.$refs.saturation.renderColor(),this.$refs.saturation.renderSlide(),this.$refs.hue.renderSlide()})}}});const yo={class:"color-set"};function vo(y,a,L,u,f,w){const C=d.resolveComponent("Saturation"),O=d.resolveComponent("Hue"),S=d.resolveComponent("Alpha"),h=d.resolveComponent("Preview"),s=d.resolveComponent("Sucker"),o=d.resolveComponent("Box"),t=d.resolveComponent("Colors");return d.openBlock(),d.createBlock("div",{class:["hu-color-picker",{light:y.isLightTheme}],style:{width:y.totalWidth+"px"}},[d.createVNode("div",yo,[d.createVNode(C,{ref:"saturation",color:y.rgbString,hsv:y.hsv,size:y.hueHeight,onSelectSaturation:y.selectSaturation},null,8,["color","hsv","size","onSelectSaturation"]),d.createVNode(O,{ref:"hue",hsv:y.hsv,width:y.hueWidth,height:y.hueHeight,onSelectHue:y.selectHue},null,8,["hsv","width","height","onSelectHue"]),d.createVNode(S,{ref:"alpha",color:y.rgbString,rgba:y.rgba,width:y.hueWidth,height:y.hueHeight,onSelectAlpha:y.selectAlpha},null,8,["color","rgba","width","height","onSelectAlpha"])]),d.createVNode("div",{style:{height:y.previewHeight+"px"},class:"color-show"},[d.createVNode(h,{color:y.rgbaString,width:y.previewWidth,height:y.previewHeight},null,8,["color","width","height"]),y.suckerHide?d.createCommentVNode("v-if",!0):(d.openBlock(),d.createBlock(s,{key:0,"sucker-canvas":y.suckerCanvas,"sucker-area":y.suckerArea,onOpenSucker:y.openSucker,onSelectSucker:y.selectSucker},null,8,["sucker-canvas","sucker-area","onOpenSucker","onSelectSucker"]))],4),d.createVNode(o,{name:"HEX",color:y.modelHex,onInputColor:y.inputHex},null,8,["color","onInputColor"]),d.createVNode(o,{name:"RGBA",color:y.modelRgba,onInputColor:y.inputRgba},null,8,["color","onInputColor"]),d.createVNode(t,{color:y.rgbaString,"colors-default":y.colorsDefault,"colors-history-key":y.colorsHistoryKey,onSelectColor:y.selectColor},null,8,["color","colors-default","colors-history-key","onSelectColor"]),d.createCommentVNode(" custom options "),d.renderSlot(y.$slots,"default")],6)}pt.render=vo;pt.__file="src/color/ColorPicker.vue";pt.install=y=>{y.component(pt.name,pt)};const mo=d.defineComponent({name:"TechnicalAnalysisPageChartLeftUtils",components:{ColorPicker:pt},setup(){const y=tt(),a=ut(),L=d.ref(!1),u=d.ref(!1),f=d.ref(14);return a.on(nt.closeAnnotationChangeColor,()=>{L.value=!1,u.value=!1}),{onClickAnnotation:()=>{y.addAnnotationToggle()},onClickAddText:()=>{document.body.style.cursor="crosshair"},onClickChangeColors:()=>{a.emit(nt.clickAnnotationChangeColor)},onChangeAnnotationStrokeColor:i=>{y.changeSelectedAnnotationsColors("stroke",i),a.emit(nt.changeAnnotationStrokeColor)},onChangeAnnotationFillColor:i=>{y.changeSelectedAnnotationsColors("fill",i),a.emit(nt.changeAnnotationFillColor)},onClickAnnotationStrokeColor:()=>{u.value=!1,L.value=!L.value},onClickAnnotationFillColor:()=>{L.value=!1,u.value=!u.value},onClickColorMode:()=>{y.toggleDarkMode()},changeChartMode:i=>{y.$patch({selectedChartMode:i})},getAnnotationStrokeColor:d.computed(()=>y.selectedAnnotationsColors.stroke),getAnnotationFillColor:d.computed(()=>y.selectedAnnotationsColors.fill),getDarkModeStatus:d.computed(()=>y.isDarkMode),getSelectedChartMode:d.computed(()=>y.selectedChartMode),isStrokeColorActive:L,isFillColorActive:u,fontSize:f}}}),xo="/109.68.213.103/build/assets/plus.8af3cc55.svg";const X=y=>(d.pushScopeId("data-v-362d4c1c"),y=y(),d.popScopeId(),y),Ao={class:"chart-wrapper"},Co={class:"highcharts-stocktools-wrapper highcharts-bindings-container highcharts-bindings-wrapper"},ko={class:"highcharts-menu-wrapper"},_o={class:"utils__item",title:"\u0426\u0432\u0435\u0442\u0430"},Po=X(()=>d.createElementVNode("svg",{fill:"none",height:"18",viewBox:"0 0 19 18",width:"19",xmlns:"http://www.w3.org/2000/svg"},[d.createElementVNode("path",{d:"M2.5 11H1.5V15H9.75M2.5 11V1H6M2.5 11H17M17 11H18V15H9.75M17 11V1H6M9.75 15V17.5M6 1V7.5",stroke:"black","stroke-width":"2"})],-1)),So={class:"utils__menu"},wo=X(()=>d.createElementVNode("div",{class:"utils__wrap-title"},"\u0426\u0432\u0435\u0442 \u043B\u0438\u043D\u0438\u0438",-1)),Oo=X(()=>d.createElementVNode("div",{class:"utils__wrap-title"},"\u0426\u0432\u0435\u0442 \u0437\u0430\u043B\u0438\u0432\u043A\u0438",-1)),bo={class:"utils__item",title:"\u042D\u043B\u0435\u043C\u0435\u043D\u0442\u044B"},Eo=X(()=>d.createElementVNode("svg",{fill:"none",height:"16",viewBox:"0 0 16 16",width:"16",xmlns:"http://www.w3.org/2000/svg"},[d.createElementVNode("path",{d:"M1 1L14.5 14.5",stroke:"black","stroke-width":"2"})],-1)),Mo={class:"utils__menu"},Do=X(()=>d.createElementVNode("div",{class:"utils__wrap-title"},"\u041B\u0438\u043D\u0438\u0438",-1)),To={class:"utils__grid"},Lo=X(()=>d.createElementVNode("span",{class:"highcharts-menu-item-btn"},null,-1)),Bo=[Lo],Io=X(()=>d.createElementVNode("span",{class:"highcharts-menu-item-btn"},null,-1)),No=[Io],Vo=X(()=>d.createElementVNode("span",{class:"highcharts-menu-item-btn"},null,-1)),jo=[Vo],Fo=X(()=>d.createElementVNode("span",{class:"highcharts-menu-item-btn"},null,-1)),$o=[Fo],Ro=X(()=>d.createElementVNode("span",{class:"highcharts-menu-item-btn"},null,-1)),Yo=[Ro],Uo=X(()=>d.createElementVNode("div",{class:"utils__wrap-title"},"\u041E\u0431\u043B\u0430\u0441\u0442\u0438",-1)),Ho={class:"utils__grid"},zo=X(()=>d.createElementVNode("span",{class:"highcharts-menu-item-btn"},null,-1)),Xo=[zo],Wo=X(()=>d.createElementVNode("span",{class:"highcharts-menu-item-btn"},null,-1)),Go=[Wo],Ko=X(()=>d.createElementVNode("span",{class:"highcharts-menu-item-btn"},null,-1)),Zo=[Ko],qo=X(()=>d.createElementVNode("div",{class:"utils__wrap-title"},"\u041A\u0430\u043D\u0430\u043B\u044B",-1)),Jo={class:"utils__grid"},Qo=X(()=>d.createElementVNode("span",{class:"highcharts-menu-item-btn"},null,-1)),tn=[Qo],en=X(()=>d.createElementVNode("div",{class:"utils__wrap-title"},"\u0424\u0438\u0433\u0443\u0440\u044B",-1)),on={class:"utils__grid"},nn=X(()=>d.createElementVNode("span",{class:"highcharts-menu-item-btn"},null,-1)),sn=[nn],rn=X(()=>d.createElementVNode("span",{class:"highcharts-menu-item-btn"},null,-1)),an=[rn],ln=X(()=>d.createElementVNode("span",{class:"highcharts-menu-item-btn"},null,-1)),cn=[ln],pn=X(()=>d.createElementVNode("div",{class:"utils__wrap-title"},"\u0424\u0438\u0431\u043E\u043D\u0430\u0447\u0447\u0438",-1)),hn={class:"utils__grid"},un=X(()=>d.createElementVNode("span",{class:"highcharts-menu-item-btn"},null,-1)),dn=[un],fn=X(()=>d.createElementVNode("span",{class:"highcharts-menu-item-btn"},null,-1)),gn=[fn],yn={class:"utils__item",title:"\u041C\u0430\u0440\u043A\u0435\u0440\u044B"},vn=X(()=>d.createElementVNode("svg",{fill:"none",height:"17",viewBox:"0 0 18 17",width:"18",xmlns:"http://www.w3.org/2000/svg"},[d.createElementVNode("path",{d:"M1.5 14V15.5H3M8 9.5L11.5 6M3 11L4.5 8L11 1.5L13.5 3.75L16 6L9.5 12.5L6 14L3 11Z",stroke:"black","stroke-width":"2"})],-1)),mn={class:"utils__menu"},xn=X(()=>d.createElementVNode("div",{class:"utils__wrap-title"},"\u041C\u0430\u0440\u043A\u0435\u0440\u044B",-1)),An={class:"utils__grid"},Cn=X(()=>d.createElementVNode("span",{class:"highcharts-menu-item-btn"},null,-1)),kn=[Cn],_n=X(()=>d.createElementVNode("span",{class:"highcharts-menu-item-btn"},null,-1)),Pn=[_n],Sn=X(()=>d.createElementVNode("span",{class:"highcharts-menu-item-btn"},null,-1)),wn=[Sn],On={class:"utils__item",title:"\u041D\u0430\u0441\u0442\u0440\u043E\u0439\u043A\u0438 \u0442\u0435\u043A\u0441\u0442\u0430"},bn=X(()=>d.createElementVNode("svg",{fill:"none",height:"15",viewBox:"0 0 13 15",width:"13",xmlns:"http://www.w3.org/2000/svg"},[d.createElementVNode("path",{d:"M6.5 14.5V1M6.5 1H0.5M6.5 1H12.5",stroke:"black","stroke-width":"2"})],-1)),En={class:"utils__menu"},Mn=X(()=>d.createElementVNode("div",{class:"utils__wrap-title"},"\u0417\u0430\u043C\u0435\u0442\u043A\u0430",-1)),Dn={class:"utils__tools-grid"},Tn={class:"utils__tool",title:"\u0414\u043E\u0431\u0430\u0432\u0438\u0442\u044C"},Ln=X(()=>d.createElementVNode("img",{alt:"\u0414\u043E\u0431\u0430\u0432\u0438\u0442\u044C",src:xo},null,-1)),Bn=[Ln],In={class:"utils__input-field utils__input-field--number"},Nn=X(()=>d.createElementVNode("label",{for:"fontSize"},"\u0420\u0430\u0437\u043C\u0435\u0440 \u0448\u0440\u0438\u0444\u0442\u0430",-1)),Vn=X(()=>d.createElementVNode("svg",{fill:"none",height:"19",viewBox:"0 0 19 19",width:"19",xmlns:"http://www.w3.org/2000/svg"},[d.createElementVNode("path",{"clip-rule":"evenodd",d:"M5.79285 1.70708L7.08574 2.99998L0.792847 9.29287L0.0857407 9.99998L0.792847 10.7071L7.79285 17.7071L8.49995 18.4142L9.20706 17.7071L16.2071 10.7071L16.9142 9.99998L16.2071 9.29287L9.20706 2.29287L8.49995 1.58576L7.20706 0.29287L5.79285 1.70708ZM2.91417 9.99998L8.49995 4.41419L14.0857 9.99998L8.49995 15.5858L2.91417 9.99998ZM17 19C18.1045 19 19 18.1045 19 17C19 15.8954 18.1045 15 17 15C15.8954 15 15 15.8954 15 17C15 18.1045 15.8954 19 17 19Z",fill:"black","fill-rule":"evenodd"})],-1)),jn=[Vn],Fn={class:"utils__item utils__item--chart-mode",title:"\u0421\u043C\u0435\u043D\u0438\u0442\u044C \u0432\u0438\u0434 \u0433\u0440\u0430\u0444\u0438\u043A\u0430"},$n=X(()=>d.createElementVNode("svg",{height:"24",viewBox:"0 0 24 24",width:"24",xmlns:"http://www.w3.org/2000/svg"},[d.createElementVNode("path",{d:"M5 19h-4v-8h4v8zm6 0h-4v-18h4v18zm6 0h-4v-12h4v12zm6 0h-4v-4h4v4zm1 2h-24v2h24v-2z"})],-1)),Rn={class:"utils__menu"},Yn=X(()=>d.createElementVNode("div",{class:"utils__wrap-title"},"\u0412\u0438\u0434 \u0433\u0440\u0430\u0444\u0438\u043A\u0430",-1)),Un=X(()=>d.createElementVNode("li",{class:"utils__item utils__item--eye highcharts-toggle-annotations right",title:"\u0421\u043A\u0440\u044B\u0442\u044C \u0430\u043D\u043D\u043E\u0442\u0430\u0446\u0438\u0438"},[d.createElementVNode("svg",{fill:"none",height:"13",viewBox:"0 0 15 13",width:"15",xmlns:"http://www.w3.org/2000/svg"},[d.createElementVNode("path",{d:"M7.32615 1.44849C3.47545 1.44849 1.52542 4.90424 1.03174 6.63212C1.402 8.36 3.17924 11.8158 7.32615 11.8158C11.4731 11.8158 13.2503 8.36 13.6206 6.63212C13.1269 4.90424 11.1769 1.44849 7.32615 1.44849Z",stroke:"black","stroke-width":"1.48104"})])],-1));function Hn(y,a,L,u,f,w){const C=d.resolveComponent("ColorPicker");return d.openBlock(),d.createElementBlock("div",Ao,[d.createElementVNode("div",Co,[d.createElementVNode("div",ko,[d.createElementVNode("ul",{class:d.normalizeClass(["utils highcharts-stocktools-toolbar stocktools-toolbar",[{"utils--dark-mode":y.getDarkModeStatus}]])},[d.createElementVNode("li",_o,[Po,d.createElementVNode("div",So,[wo,d.createVNode(C,{class:d.normalizeClass(["utils__color-picker",{"utils__color-picker--active":y.isStrokeColorActive}]),color:y.getAnnotationStrokeColor,style:{width:"220px"},theme:"light",onChangeColor:y.onChangeAnnotationStrokeColor},null,8,["class","color","onChangeColor"]),d.createElementVNode("div",{class:d.normalizeClass(["utils__color-field",{"utils__color-field--active":y.isStrokeColorActive}]),title:"\u0418\u0437\u043C\u0435\u043D\u0438\u0442\u044C \u0446\u0432\u0435\u0442 \u043B\u0438\u043D\u0438\u0438",onClick:a[0]||(a[0]=(...O)=>y.onClickAnnotationStrokeColor&&y.onClickAnnotationStrokeColor(...O))},[d.createElementVNode("div",{class:"utils__color",style:d.normalizeStyle(`background: ${y.getAnnotationStrokeColor}`)},null,4)],2),Oo,d.createVNode(C,{class:d.normalizeClass(["utils__color-picker",{"utils__color-picker--active":y.isFillColorActive}]),color:y.getAnnotationStrokeColor,style:{width:"220px"},theme:"light",onChangeColor:y.onChangeAnnotationFillColor},null,8,["class","color","onChangeColor"]),d.createElementVNode("div",{class:d.normalizeClass(["utils__color-field",{"utils__color-field--active":y.isFillColorActive}]),title:"\u0418\u0437\u043C\u0435\u043D\u0438\u0442\u044C \u0446\u0432\u0435\u0442 \u0437\u0430\u043B\u0438\u0432\u043A\u0438",onClick:a[1]||(a[1]=(...O)=>y.onClickAnnotationFillColor&&y.onClickAnnotationFillColor(...O))},[d.createElementVNode("div",{class:"utils__color",style:d.normalizeStyle(`background: ${y.getAnnotationFillColor}`)},null,4)],2)])]),d.createElementVNode("li",bo,[Eo,d.createElementVNode("div",Mo,[Do,d.createElementVNode("ul",To,[d.createElementVNode("li",{class:"highcharts-segment",title:"\u041E\u0442\u0440\u0435\u0437\u043E\u043A",onClick:a[2]||(a[2]=(...O)=>y.onClickAnnotation&&y.onClickAnnotation(...O))},Bo),d.createElementVNode("li",{class:"highcharts-horizontal-line",title:"\u0413\u043E\u0440\u0438\u0437\u043E\u043D\u0442\u0430\u043B\u044C\u043D\u0430\u044F \u043F\u0440\u044F\u043C\u0430\u044F",onClick:a[3]||(a[3]=(...O)=>y.onClickAnnotation&&y.onClickAnnotation(...O))},No),d.createElementVNode("li",{class:"highcharts-vertical-line",title:"\u0412\u0435\u0440\u0442\u0438\u043A\u0430\u043B\u044C\u043D\u0430\u044F \u043F\u0440\u044F\u043C\u0430\u044F",onClick:a[4]||(a[4]=(...O)=>y.onClickAnnotation&&y.onClickAnnotation(...O))},jo),d.createElementVNode("li",{class:"highcharts-infinity-line",title:"\u041F\u0440\u044F\u043C\u0430\u044F",onClick:a[5]||(a[5]=(...O)=>y.onClickAnnotation&&y.onClickAnnotation(...O))},$o),d.createElementVNode("li",{class:"highcharts-arrow-ray",title:"\u041B\u0443\u0447",onClick:a[6]||(a[6]=(...O)=>y.onClickAnnotation&&y.onClickAnnotation(...O))},Yo)]),Uo,d.createElementVNode("ul",Ho,[d.createElementVNode("li",{class:"highcharts-parallel-channel",title:"\u041F\u0430\u0440\u0430\u043B\u043B\u0435\u043B\u044C\u043D\u044B\u0435 \u043A\u0430\u043D\u0430\u043B\u044B",onClick:a[7]||(a[7]=(...O)=>y.onClickAnnotation&&y.onClickAnnotation(...O))},Xo),d.createElementVNode("li",{class:"highcharts-measure-y",title:"\u041E\u0431\u043B\u0430\u0441\u0442\u044C Y",onClick:a[8]||(a[8]=(...O)=>y.onClickAnnotation&&y.onClickAnnotation(...O))},Go),d.createElementVNode("li",{class:"highcharts-measure-x",title:"\u041E\u0431\u043B\u0430\u0441\u0442\u044C X",onClick:a[9]||(a[9]=(...O)=>y.onClickAnnotation&&y.onClickAnnotation(...O))},Zo)]),qo,d.createElementVNode("ul",Jo,[d.createElementVNode("li",{class:"highcharts-pitchfork",title:"\u0412\u0438\u043B\u044B",onClick:a[10]||(a[10]=(...O)=>y.onClickAnnotation&&y.onClickAnnotation(...O))},tn)]),en,d.createElementVNode("ul",on,[d.createElementVNode("li",{class:"highcharts-circle-annotation",title:"\u041A\u0440\u0443\u0433",onClick:a[11]||(a[11]=(...O)=>y.onClickAnnotation&&y.onClickAnnotation(...O))},sn),d.createElementVNode("li",{class:"highcharts-rectangle-annotation",title:"\u041F\u0440\u044F\u043C\u043E\u0443\u0433\u043E\u043B\u044C\u043D\u0438\u043A",onClick:a[12]||(a[12]=(...O)=>y.onClickAnnotation&&y.onClickAnnotation(...O))},an),d.createElementVNode("li",{class:"highcharts-ellipse-annotation",title:"\u042D\u043B\u043B\u0438\u043F\u0441",onClick:a[13]||(a[13]=(...O)=>y.onClickAnnotation&&y.onClickAnnotation(...O))},cn)]),pn,d.createElementVNode("ul",hn,[d.createElementVNode("li",{class:"highcharts-fibonacci",title:"\u0424\u0438\u0431\u043E\u043D\u0430\u0447\u0447\u0438",onClick:a[14]||(a[14]=(...O)=>y.onClickAnnotation&&y.onClickAnnotation(...O))},dn),d.createElementVNode("li",{class:"highcharts-fibonacci-time-zones",title:"\u0427\u0430\u0441\u043E\u0432\u044B\u0435 \u043F\u043E\u044F\u0441\u0430 \u0424\u0438\u0431\u043E\u043D\u0430\u0447\u0447\u0438",onClick:a[15]||(a[15]=(...O)=>y.onClickAnnotation&&y.onClickAnnotation(...O))},gn)])])]),d.createElementVNode("li",yn,[vn,d.createElementVNode("div",mn,[xn,d.createElementVNode("ul",An,[d.createElementVNode("li",{class:"highcharts-circle-annotation",title:"\u041A\u0440\u0443\u0433",onClick:a[16]||(a[16]=(...O)=>y.onClickAnnotation&&y.onClickAnnotation(...O))},kn),d.createElementVNode("li",{class:"highcharts-rectangle-annotation",title:"\u041F\u0440\u044F\u043C\u043E\u0443\u0433\u043E\u043B\u044C\u043D\u0438\u043A",onClick:a[17]||(a[17]=(...O)=>y.onClickAnnotation&&y.onClickAnnotation(...O))},Pn),d.createElementVNode("li",{class:"highcharts-ellipse-annotation",title:"\u042D\u043B\u043B\u0438\u043F\u0441",onClick:a[18]||(a[18]=(...O)=>y.onClickAnnotation&&y.onClickAnnotation(...O))},wn)])])]),d.createElementVNode("li",On,[bn,d.createElementVNode("div",En,[Mn,d.createElementVNode("div",Dn,[d.createElementVNode("div",Tn,[d.createElementVNode("div",{class:"utils__tool-icon highcharts-inputText-annotation",onClick:a[19]||(a[19]=(...O)=>y.onClickAddText&&y.onClickAddText(...O))},Bn)])]),d.createElementVNode("div",In,[Nn,d.withDirectives(d.createElementVNode("input",{id:"fontSize","onUpdate:modelValue":a[20]||(a[20]=O=>y.fontSize=O),type:"number"},null,512),[[d.vModelText,y.fontSize]])])])]),d.createElementVNode("li",{class:"utils__item utils__item--color-mode",title:"\u0426\u0432\u0435\u0442 \u0444\u043E\u043D\u0430",onClick:a[21]||(a[21]=(...O)=>y.onClickColorMode&&y.onClickColorMode(...O))},jn),d.createElementVNode("li",Fn,[$n,d.createElementVNode("div",Rn,[Yn,d.createElementVNode("div",{class:d.normalizeClass(["utils__chart-mode-item",{"utils__chart-mode-item--active":y.getSelectedChartMode==="ohlc"}]),onClick:a[22]||(a[22]=O=>y.changeChartMode("ohlc"))}," OHLC ",2),d.createElementVNode("div",{class:d.normalizeClass(["utils__chart-mode-item",{"utils__chart-mode-item--active":y.getSelectedChartMode==="candle"}]),onClick:a[23]||(a[23]=O=>y.changeChartMode("candle"))}," \u0421\u0432\u0435\u0447\u0438 ",2),d.createElementVNode("div",{class:d.normalizeClass(["utils__chart-mode-item",{"utils__chart-mode-item--active":y.getSelectedChartMode==="line"}]),onClick:a[24]||(a[24]=O=>y.changeChartMode("line"))}," \u041B\u0438\u043D\u0438\u0438 ",2)])]),Un],2)])])])}const zn=J(mo,[["render",Hn],["__scopeId","data-v-362d4c1c"]]),Xn=d.defineComponent({name:"TechnicalAnalysisPageChartTopUtils",setup(){const y=ut(),a=tt(),L=d.ref("line");return{onClickRange:w=>{a.changeCurrentRange(w)},onClickType:w=>{a.changeCurrentType(w),a.changeIsDisablePage(!0),y.emit(nt.updateCurrentTypeTechAn)},getCurrentRange:d.computed(()=>a.currentRange),getCurrentType:d.computed(()=>a.currentType),getDarkModeStatus:d.computed(()=>a.isDarkMode),currentType:L}}});const Lt=y=>(d.pushScopeId("data-v-e9d88f44"),y=y(),d.popScopeId(),y),Wn={class:"utils__mobile"},Gn={class:"utils__select"},Kn=Lt(()=>d.createElementVNode("option",{value:"line"},"\u041B\u0438\u043D\u0435\u0439\u043D\u044B\u0439",-1)),Zn=Lt(()=>d.createElementVNode("option",{value:"proc"},"\u041F\u0440\u043E\u0446\u0435\u043D\u0442\u043D\u044B\u0439",-1)),qn=[Kn,Zn],Jn=Lt(()=>d.createElementVNode("svg",{fill:"none",height:"9",viewBox:"0 0 14 9",width:"14",xmlns:"http://www.w3.org/2000/svg"},[d.createElementVNode("path",{d:"M1 1.3335L7 7.3335L13 1.3335",stroke:"black"})],-1)),Qn={class:"utils__desktop"},ts={class:"utils__types"},es={class:"utils__period"},is={class:"utils__periodPresets"};function os(y,a,L,u,f,w){return d.openBlock(),d.createElementBlock("div",{class:d.normalizeClass(["utils",[{"utils--dark-mode":y.getDarkModeStatus}]])},[d.createElementVNode("div",Wn,[d.createElementVNode("div",Gn,[d.withDirectives(d.createElementVNode("select",{"onUpdate:modelValue":a[0]||(a[0]=C=>y.currentType=C),onChange:a[1]||(a[1]=C=>y.onClickType(y.currentType))},qn,544),[[d.vModelSelect,y.currentType]]),Jn])]),d.createElementVNode("div",Qn,[d.createElementVNode("div",ts,[d.createElementVNode("div",{class:d.normalizeClass(["utils__type",{"utils__type--active":y.getCurrentType==="line"}]),onClick:a[2]||(a[2]=C=>y.onClickType("line"))}," \u041B\u0438\u043D\u0435\u0439\u043D\u044B\u0439 ",2),d.createElementVNode("div",{class:d.normalizeClass(["utils__type",{"utils__type--active":y.getCurrentType==="proc"}]),onClick:a[3]||(a[3]=C=>y.onClickType("proc"))}," \u041F\u0440\u043E\u0446\u0435\u043D\u0442\u043D\u044B\u0439 ",2)]),d.createElementVNode("div",es,[d.createElementVNode("div",is,[d.createElementVNode("div",{id:"techAnRangeOneMonth",class:d.normalizeClass(["utils__periodPreset",{"utils__periodPreset--active":y.getCurrentRange==="1m"}]),onClick:a[4]||(a[4]=C=>y.onClickRange("1m"))}," 1\u043C ",2),d.createElementVNode("div",{id:"techAnRangeThreeMonth",class:d.normalizeClass(["utils__periodPreset",{"utils__periodPreset--active":y.getCurrentRange==="3m"}]),onClick:a[5]||(a[5]=C=>y.onClickRange("3m"))}," 3\u043C ",2),d.createElementVNode("div",{id:"techAnRangeSixMonth",class:d.normalizeClass(["utils__periodPreset",{"utils__periodPreset--active":y.getCurrentRange==="6m"}]),onClick:a[6]||(a[6]=C=>y.onClickRange("6m"))}," 6\u043C ",2),d.createElementVNode("div",{id:"techAnRangeOneYear",class:d.normalizeClass(["utils__periodPreset",{"utils__periodPreset--active":y.getCurrentRange==="1\u0433"}]),onClick:a[7]||(a[7]=C=>y.onClickRange("1\u0433"))}," 1\u0433 ",2),d.createElementVNode("div",{id:"techAnRangeTwoYear",class:d.normalizeClass(["utils__periodPreset",{"utils__periodPreset--active":y.getCurrentRange==="2\u0433"}]),onClick:a[8]||(a[8]=C=>y.onClickRange("2\u0433"))}," 2\u0433 ",2),d.createElementVNode("div",{id:"techAnRangeMax",class:d.normalizeClass(["utils__periodPreset",{"utils__periodPreset--active":y.getCurrentRange==="max"}]),onClick:a[9]||(a[9]=C=>y.onClickRange("max"))}," max ",2)])])])],2)}const ns=J(Xn,[["render",os],["__scopeId","data-v-e9d88f44"]]),ss=d.defineComponent({name:"TechnicalAnalysisPageChartBottomUtils"});const rs={class:"chart-wrapper"},as=d.createStaticVNode('<div class="highcharts-stocktools-wrapper highcharts-bindings-container highcharts-bindings-wrapper" data-v-f9702a0d><div class="highcharts-menu-wrapper" data-v-f9702a0d><div class="utils" data-v-f9702a0d><div class="utils__left" data-v-f9702a0d><div id="techAnClearBtn" class="utils__btn utils__btn--mr" data-v-f9702a0d><svg fill="none" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg" data-v-f9702a0d><path d="M12.5 21L21.5 11.5L13.5 3L9.25019 7.24981M12.5 21H8.5L2 14.5L9.25019 7.24981M12.5 21L17.5 15.5L9.25019 7.24981M12.5 21H21.5" stroke="white" data-v-f9702a0d></path></svg><span data-v-f9702a0d>\u041E\u0447\u0438\u0441\u0442\u0438\u0442\u044C \u0433\u0440\u0430\u0444\u0438\u043A</span></div><div id="techAnDeleteBtn" class="utils__btn" data-v-f9702a0d><svg fill="none" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg" data-v-f9702a0d><path d="M5.07317 5.66667L6.03877 21.0626C6.07182 21.5895 6.50883 22 7.03681 22H17.451C17.979 22 18.416 21.5895 18.449 21.0626L19.4146 5.66667H16.3415M2 5.66667H8.14634M23 5.66667H19.6707H16.3415M16.3415 5.66667V2C16.3415 1.44771 15.8937 1 15.3415 1H9.14634C8.59406 1 8.14634 1.44772 8.14634 2V5.66667M16.3415 5.66667H8.14634M8.65854 8L9.17073 18.7333M12.2439 18.7333V8M15.3171 18.7333L15.8293 8" stroke="white" data-v-f9702a0d></path></svg><span data-v-f9702a0d>\u0423\u0434\u0430\u043B\u0438\u0442\u044C \u044D\u043B\u0435\u043C\u0435\u043D\u0442</span></div></div><div class="utils__right" data-v-f9702a0d><div class="utils__btn highcharts-full-screen" data-v-f9702a0d><svg fill="none" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg" data-v-f9702a0d><path clip-rule="evenodd" d="M2.5 2H2V2.5V8V9.20711L2.85355 8.35355L3.35355 7.85355L4.35355 6.85355L5.25 5.95711L11.2929 12L5.25 18.0429L4.35355 17.1464L3.60355 16.3964L2.85355 15.6464L2 14.7929V16V21.5V22H2.5H8H9.20711L8.35355 21.1464L7.85355 20.6464L6.85355 19.6464L5.95711 18.75L12 12.7071L18.0429 18.75L17.6464 19.1464L17.1464 19.6464L16.3964 20.3964L16.0214 20.7714L15.6464 21.1464L14.7929 22H16H17.375H18.75H20H20.75H21.5H22V21.5V21V20.5V19.5V18.5V16V14.7929L21.1464 15.6464L20.3964 16.3964L19.6464 17.1464L19.0214 17.7714L18.75 18.0429L12.7071 12L18.75 5.95711L19.1464 6.35355L19.6464 6.85355L20.3964 7.60355L20.7714 7.97855L21.1464 8.35355L22 9.20711V8V6.625V5.25V4V3.25V2.5V2H21.5H21H20.5H19.5H18.5H16H14.7929L15.6464 2.85355L16.3964 3.60355L17.1464 4.35355L17.7714 4.97855L18.0429 5.25L12 11.2929L5.95711 5.25L6.85355 4.35355L7.60355 3.60355L8.35355 2.85355L9.20711 2H8H2.5ZM5.29289 4.5L5.25 4.54289L5.20711 4.5H5.29289ZM4.54289 5.25L4.5 5.20711V5.29289L4.54289 5.25ZM4.5 18.7071L4.54289 18.75L4.5 18.7929L4.5 18.7071ZM5.25 19.4571L5.20711 19.5H5.29289L5.25 19.4571Z" fill="white" fill-rule="evenodd" data-v-f9702a0d></path></svg><span data-v-f9702a0d>\u041D\u0430 \u0432\u0435\u0441\u044C \u044D\u043A\u0440\u0430\u043D</span></div></div></div></div></div>',1),ls=[as];function cs(y,a,L,u,f,w){return d.openBlock(),d.createElementBlock("div",rs,ls)}const ps=J(ss,[["render",cs],["__scopeId","data-v-f9702a0d"]]),hs=()=>{const y=d.ref(!1),a=tt(),L=ut(),u=d.ref({}),f=d.ref({}),w=d.ref(void 0),C=d.ref(void 0),O=d.computed(()=>u.value);L.on(nt.updateCurrentTypeTechAn,()=>{try{a.currentType==="proc"?C.value.update({plotOptions:{series:{compare:"percent"}},tooltip:{changeDecimals:2,valueDecimals:2,formatter(){let g="";return this.points.forEach(P=>{g+=`<span style="color:${P.color}">${P.series.name}</span>: <b>${P.y}</b> (${P.point.change.toFixed(2)}%)<br/>`}),g}}}):a.currentType==="line"&&C.value.update({plotOptions:{series:{compare:void 0}},tooltip:{valueDecimals:void 0,formatter(){return this.points[0].series.chart.tooltip.defaultFormatter.call(this,this.points[0].series.chart.tooltip)}}})}catch(g){console.error("updateCurrentType settings"),console.error(g)}finally{a.changeIsDisablePage(!1)}}),L.on(nt.changeAnnotationStrokeColor,()=>{try{if(!w.value)return;w.value.shapes.forEach(g=>{g.update({stroke:a.selectedAnnotationsColors.stroke})}),w.value.userOptions.typeOptions?(w.value.userOptions.typeOptions.line={stroke:a.selectedAnnotationsColors.stroke},w.value.userOptions.typeOptions.background={stroke:a.selectedAnnotationsColors.stroke},w.value.userOptions.typeOptions.innerBackground={stroke:a.selectedAnnotationsColors.stroke},w.value.userOptions.typeOptions.outerBackground={stroke:a.selectedAnnotationsColors.stroke}):w.value.userOptions.shapes.forEach(g=>{g.stroke=a.selectedAnnotationsColors.stroke}),l(C.value)}catch(g){console.error("change stroke color error"),console.error(g)}}),L.on(nt.changeAnnotationFillColor,()=>{try{if(!w.value)return;w.value.shapes.forEach(g=>{g.update({fill:a.selectedAnnotationsColors.fill})}),w.value.userOptions.typeOptions?(w.value.userOptions.typeOptions.line={fill:a.selectedAnnotationsColors.fill},w.value.userOptions.typeOptions.background={fill:a.selectedAnnotationsColors.fill},w.value.userOptions.typeOptions.innerBackground={fill:a.selectedAnnotationsColors.fill},w.value.userOptions.typeOptions.outerBackground={fill:a.selectedAnnotationsColors.fill}):w.value.userOptions.shapes.forEach(g=>{g.fill=a.selectedAnnotationsColors.fill}),l(C.value)}catch(g){console.error("change fill color error"),console.error(g)}}),L.on(nt.clickAnnotationChangeColor,()=>{});const S=()=>{try{if(!Array.isArray(a.chartMainYAxis)||!C.value)return;if(a.selectedAssets.length===0){C.value.series.forEach((g,P)=>{const{type:x}=g;x==="ohlc"&&C.value.series[P].remove()});return}if(C.value.series.length>a.chartMainYAxis.length){if(a.chartMainYAxis.length===0){for(let g=0;g<C.value.series.length;g++)C.value.series[g].remove();return}C.value.series.forEach(g=>{const{type:P}=g;if(P!=="ohlc")return;let x=g.userOptions.id;a.chartMainYAxis.forEach(k=>{g.userOptions.id===k.id&&(x=-1)}),x!==-1&&C.value.get(x).remove()})}a.chartMainYAxis.forEach(g=>{C.value.get(g.id)||C.value.addSeries(ct(at({},g),{tooltip:{customPointFormatter(){let P="";return this.points.forEach(x=>{P===""&&(P=`<b>${f.value.dateFormat("%b %e, %Y",this.x)}</b><br />`),x.point.close&&(P+=`<b><span style = "color:${x.series.color};">${x.series.name}</b><br />`,P+=`<span style ="color:${x.series.color};">Open</span>: ${x.point.open}<br/><span style ="color:${x.series.color};">High</span>: ${x.point.high}<br/><span style ="color:${x.series.color};">Low</span>: ${x.point.low}<br/><span style ="color:${x.series.color};">Close</span>: ${x.point.close}<br/>`)}),P}}}))})}catch(g){console.error("updateMainYAxis settings"),console.error(g)}},h=()=>a.selectedIndicators.length===0?(C.value.series.forEach((g,P)=>{const{type:x}=g;x!=="ohlc"&&x!=="areaspline"&&(C.value.series[P].remove(),C.value.yAxis.forEach((k,m)=>{k.userOptions.relatedIndicator===x&&C.value.yAxis[m].remove()}),a.decreaseCountAxis())}),!0):!1,s=()=>{try{if(h()||(C.value.series.forEach((g,P)=>{const{type:x}=g;if(x!=="ohlc"&&x!=="areaspline"){let k=!1;const{userOptions:m}=g,{id:_}=m;_&&a.selectedIndicators.forEach(M=>{M.ID===_&&(k=!0)}),k||(C.value.series[P].remove(),C.value.yAxis.forEach((M,D)=>{M.userOptions.relatedIndicator===x&&C.value.yAxis[D].remove()}),a.decreaseCountAxis())}}),h())||a.selectedAssets.length===0)return;a.selectedIndicators.forEach(g=>{let P=!1;if(C.value.series.forEach((x,k)=>{const{type:m}=x;if(m!=="ohlc"&&m!=="areaspline"){const{userOptions:_}=x,{id:M}=_;M&&g.ID===M&&(P=!0)}}),!P){let x=g.CODE.toLowerCase(),k={};x==="adl"&&(x="ad",k={period:0,volumeSeriesID:a.basicAsset.ID}),x==="atr"&&(k={period:10}),C.value.addAxis({crosshair:{snap:!1,label:{enabled:!0,format:"{value:.2f}"}},labels:{align:"left",x:10,style:{fontSize:"10px",color:"#838383",fontFamily:"Montserrat"}},offset:0,endOnTick:!1,opposite:!0,lineColor:"#c2c2c2",gridLineColor:"#c2c2c2",lineWidth:1,title:{text:""},relatedIndicator:x,id:a.getNextAxisId,top:`${100-C.value.yAxis.length-15}%`,height:`${15-C.value.yAxis.length}%`,isIndicator:!0}),C.value.addSeries({type:x,params:k,linkedTo:a.basicAsset.ID,yAxis:a.getNextAxisId,id:g.ID}),a.increaseNextAxisId(),a.increaseCountAxis()}})}catch(g){console.error("updateIndicators settings"),console.error(g)}},o=g=>{try{if(g.length!==0)C.value.yAxis[g[0]].remove(),g.splice(0,1),g.forEach((P,x)=>{g[x]=P-1}),o(g);else return}catch(P){console.error("deleteIndicatorsByIndexes"),console.error(P)}},t=()=>{try{if(!a.isNeedUpdateBasicAsset)return;const g=[];a.$patch({isNeedUpdateBasicAsset:!1}),C.value.yAxis.forEach((P,x)=>{P.userOptions.isIndicator&&g.push(x)}),o(g),C.value.colorCounter=C.value.yAxis.length,s(),e()}catch(g){console.error("updateBasicAsset settings"),console.error(g)}},e=()=>{try{C.value.setSize(null,a.getCurrentChartHeight);let g=0,P=-1;C.value.yAxis.forEach((x,k)=>{const{id:m}=x.userOptions;m==="root"?P=k:m!=="navigator-y-axis"&&(x.update({top:`${70-(g-1)*10}%`,height:`${10}%`}),g+=1)}),C.value.yAxis[P].update({height:`${70-(g-1)*10}%`}),C.value.redraw()}catch(g){console.error("updateChartHeight settings"),console.error(g)}},i=g=>{const P=[];return g.forEach(x=>{const{userOptions:k}=x,{type:m}=x.userOptions;if(!k.isInternal)try{if(k.draggable&&k.labels&&k.labels.forEach(_=>{_.controlPoints=null}),m==="measure"){const{selectType:_}=k.typeOptions;_==="y"?(k.typeOptions.point.y=x.startYMin||k.typeOptions.point.y,k.typeOptions.background.height=x.startYMin-x.startYMax):_==="x"&&(k.typeOptions.point.x=x.startXMin||k.typeOptions.point.x,k.typeOptions.background.width=x.startXMax-x.startXMin)}P.push(k)}catch(_){console.error("getOptions error"),console.error(_)}}),P},n=()=>{try{if(y.value)return;Array.isArray(a.annotations)&&a.annotations.forEach(g=>{g.typeOptions&&g.typeOptions.points&&g.typeOptions.points.forEach(P=>{!P.controlPoint||(P.controlPoint.visible=!1)}),C.value.addAnnotation(g)}),y.value=!0}catch(g){console.error("load error"),console.error(g)}},l=g=>{try{const{userOptions:P}=g;Array.isArray(g.annotations)&&(P.annotations=i(g.annotations)),localStorage.setItem("customStockToolsChart",JSON.stringify({presetName:a.selectedPreset,annotations:P.annotations}))}catch(P){console.error("save chart error"),console.error(P)}},p=g=>{try{Array.isArray(g.annotations)&&g.annotations.length>0&&g.annotations.forEach(P=>{g.removeAnnotation(P),p(g)})}catch(P){console.error("clearChart error"),console.error(P)}},r=g=>{try{w.value=g.navigationBindings.activeAnnotation,w.value?w.value.userOptions.typeOptions?w.value.userOptions.typeOptions.line?a.initColors(w.value.userOptions.typeOptions.line):w.value.userOptions.typeOptions.background&&a.initColors(w.value.userOptions.typeOptions.background):w.value.userOptions.shapes&&a.initColors(w.value.userOptions.shapes[0]):(w.value=void 0,a.resetColors(),L.emit(nt.closeAnnotationChangeColor))}catch(P){console.error("change color error"),console.error(P)}},c=()=>a.selectedChartMode==="ohlc",A=g=>{try{C.value=g;const P=Date.now(),k=864e5*365,m=P-k*1,_=P+k*1;f.value.addEvent(g.container,"click",M=>{l(g),r(g),a.updateAddAnnotation()}),g.rectangles=[],document.querySelector("#techAnDeleteBtn").addEventListener("click",()=>{!g.navigationBindings.activeAnnotation||!c()||(g.removeAnnotation(g.navigationBindings.activeAnnotation),l(g))}),document.querySelector("#techAnClearBtn").addEventListener("click",()=>{!c()||(p(g),l(g))}),document.querySelector("#techAnRangeOneMonth").addEventListener("click",()=>{!c()||g.xAxis[0].setExtremes(P-k/12,P+k/12)}),document.querySelector("#techAnRangeThreeMonth").addEventListener("click",()=>{!c()||g.xAxis[0].setExtremes(P-k/6,P+k/6)}),document.querySelector("#techAnRangeSixMonth").addEventListener("click",()=>{!c()||g.xAxis[0].setExtremes(P-k/3,P+k/3)}),document.querySelector("#techAnRangeOneYear").addEventListener("click",()=>{!c()||g.xAxis[0].setExtremes(P-k,P+k)}),document.querySelector("#techAnRangeTwoYear").addEventListener("click",()=>{!c()||g.xAxis[0].setExtremes(P-k*2,P+k*2)}),document.querySelector("#techAnRangeMax").addEventListener("click",()=>{!c()||g.xAxis[0].setExtremes(g.xAxis.dataMin,g.xAxis.dataMax)})}catch(P){console.error("addEvents chart error"),console.error(P)}};return{setup:g=>U(void 0,null,function*(){try{f.value=g,u.value={annotations:[],navigation:{annotationsOptions:{shapeOptions:{fill:"rgba(30,204,30,0.2)",stroke:"rgba(51,199,32,0.8)",strokeWidth:2,borderWidth:2}},bindings:{inputText:{className:"highcharts-inputText-annotation",start(P){document.body.style.cursor="default";const x=P.chartX-this.chart.plotLeft,k=P.chartY-this.chart.plotTop,m=this.chart.pointer.getCoordinates(P),_=m.xAxis[0].value,M=m.yAxis[0].value,{navigation:D}=this.chart.options,E=[{positioner(N){return N.graphic.placed?{x:_-this.graphic.width/2,y:M-this.graphic.height/2}:{x:0,y:-9e7}},events:{drag(N,V){const j=this.mouseMoveToTranslation(N);V.translate(j.x,j.y),V.annotation.labels[0].options=V.options,V.redraw(!1)}}}],b=this,T=document.getElementById("labelTextForm"),B=function(){b.chart.addAnnotation(f.value.merge({animation:{defer:0},type:"basicAnnotation",langKey:"label",labelOptions:{backgroundColor:"rgba(0,0,0,0.75)",format:T.querySelector("#labelTextInput").value,style:{fontSize:"14px",color:"contrast"}},labels:[{point:{xAxis:0,yAxis:0,x:_,y:M},padding:8,overflow:"none",crop:!0,text:T.querySelector("#labelTextInput").value,controlPoints:E}]},D.annotationsOptions,D.bindings.labelAnnotation.annotationsOptions))};f.value.css(T,{top:`${P.pageY-10}px`,left:`${P.pageX-10}px`,display:"block"});const I=f.value.addEvent(T.querySelector("#labelTextButton"),"click",()=>{B(),f.value.css(T,{display:"none"}),I()});return T.querySelector("#labelTextInput").value="",!0}}}},chart:{backgroundColor:"",animation:!1,events:{load(){A(this)},redraw(){},render(){}}},rangeSelector:{buttons:[]},title:{text:""},legend:{enabled:!1},credits:{enabled:!1},xAxis:{crosshair:{snap:!1},lineColor:"#c2c2c2",type:"datetime",labels:{formatter(){return f.value.dateFormat("%e-%b-%Y",this.value)}}},yAxis:[{crosshair:{snap:!1,label:{enabled:!0,format:"{value:.2f}"}},id:"root",labels:{align:"left",x:10,style:{fontSize:"14px",color:"#838383",fontFamily:"Montserrat"}},height:"100%",resize:{enabled:!1},endOnTick:!1,opposite:!0,lineColor:"#c2c2c2",gridLineColor:"#c2c2c2",lineWidth:1,title:{text:""}}],tooltip:{xDateFormat:"%d %b 20%y \u0433.",backgroundColor:"#666666",style:{color:"#fff"},useHTML:!0,shape:"square",headerShape:"callout",borderWidth:0,shadow:!1,positioner(P,x,k){const{chart:m}=this;let _;return k.isHeader?_={x:Math.max(m.plotLeft,Math.min(k.plotX+m.plotLeft-P/2,m.chartWidth-P-m.marginRight)),y:k.plotY}:_={x:k.series.chart.plotLeft,y:k.series.yAxis.top-m.plotTop},_}},stockTools:{gui:{enabled:!1}},scrollbar:{liveRedraw:!1},plotOptions:{series:{turboThreshold:0,trackByArea:!1,dataGrouping:{enabled:!1},animation:!1,states:{inactive:{opacity:1}}}},navigator:{adaptToUpdatedData:!0,outlineWidth:0,handles:{backgroundColor:"#FFFFFF",borderColor:"#D1D1D1"},xAxis:{gridLineWidth:0,labels:{enabled:!1}},yAxis:{plotBands:[{color:"rgba(115, 113, 115, 0.2)",from:0,to:1}]}},series:[]}}catch(P){console.error("setup chart settings"),console.error(P)}}),load:n,updateMainYAxis:S,updateIndicators:s,updateBasicAsset:t,updateChartHeight:e,getSettings:O,settings:u.value}},us=()=>{const y=tt();ut();const{_catch:a}=gt("candle settings"),L=d.ref({}),u=d.ref({}),f=d.ref(!1),w=d.ref(!1),C=d.ref({}),O=o=>{try{L.value.addSeries(ct(at({},o),{tooltip:{customPointFormatter(){let t="";return this.points.forEach(e=>{t===""&&(t=`<b>${u.value.dateFormat("%b %e, %Y",this.x)}</b><br />`),e.point.close&&(t+=`<b><span style = "color:${e.series.color};">${e.series.name}</b><br />`,t+=`<span style ="color:${e.series.color};">Open</span>: ${e.point.open}<br/><span style ="color:${e.series.color};">High</span>: ${e.point.high}<br/><span style ="color:${e.series.color};">Low</span>: ${e.point.low}<br/><span style ="color:${e.series.color};">Close</span>: ${e.point.close}<br/>`)}),t}}}))}catch(t){a(t,"addSeries")}},S=()=>{};return{init:o=>U(void 0,null,function*(){try{u.value=o,C.value={annotations:[],navigation:{annotationsOptions:{shapeOptions:{fill:"rgba(30,204,30,0.2)",stroke:"rgba(51,199,32,0.8)",strokeWidth:2,borderWidth:2}},bindings:{inputText:{className:"highcharts-inputText-annotation",start(t){document.body.style.cursor="default";const e=t.chartX-this.chart.plotLeft,i=t.chartY-this.chart.plotTop,n=this.chart.pointer.getCoordinates(t),l=n.xAxis[0].value,p=n.yAxis[0].value,{navigation:r}=this.chart.options,c=[{positioner(x){return x.graphic.placed?{x:l-this.graphic.width/2,y:p-this.graphic.height/2}:{x:0,y:-9e7}},events:{drag(x,k){const m=this.mouseMoveToTranslation(x);k.translate(m.x,m.y),k.annotation.labels[0].options=k.options,k.redraw(!1)}}}],A=this,v=document.getElementById("labelTextForm"),g=function(){A.chart.addAnnotation(u.value.merge({animation:{defer:0},type:"basicAnnotation",langKey:"label",labelOptions:{backgroundColor:"rgba(0,0,0,0.75)",format:v.querySelector("#labelTextInput").value,style:{fontSize:"14px",color:"contrast"}},labels:[{point:{xAxis:0,yAxis:0,x:l,y:p},padding:8,overflow:"none",crop:!0,text:v.querySelector("#labelTextInput").value,controlPoints:c}]},r.annotationsOptions,r.bindings.labelAnnotation.annotationsOptions))};u.value.css(v,{top:`${t.pageY-10}px`,left:`${t.pageX-10}px`,display:"block"});const P=u.value.addEvent(v.querySelector("#labelTextButton"),"click",()=>{g(),u.value.css(v,{display:"none"}),P()});return v.querySelector("#labelTextInput").value="",!0}}}},chart:{backgroundColor:"",animation:!1,events:{load(){L.value=this,S()},redraw(){},render(){}}},rangeSelector:{enabled:!1},title:{text:""},legend:{enabled:!1},credits:{enabled:!1},xAxis:{crosshair:{snap:!1},lineColor:"#c2c2c2",type:"datetime",labels:{formatter(){return u.value.dateFormat("%e-%b-%Y",this.value)}}},yAxis:[{crosshair:{snap:!1,label:{enabled:!0,format:"{value:.2f}"}},id:"root",labels:{align:"left",x:10,style:{fontSize:"14px",color:"#838383",fontFamily:"Montserrat"}},height:"100%",resize:{enabled:!1},endOnTick:!1,opposite:!0,lineColor:"#c2c2c2",gridLineColor:"#c2c2c2",lineWidth:1,title:{text:""}}],tooltip:{xDateFormat:"%d %b 20%y \u0433.",backgroundColor:"#666666",style:{color:"#fff"},useHTML:!0,shape:"square",headerShape:"callout",borderWidth:0,shadow:!1,positioner(t,e,i){const{chart:n}=this;let l;return i.isHeader?l={x:Math.max(n.plotLeft,Math.min(i.plotX+n.plotLeft-t/2,n.chartWidth-t-n.marginRight)),y:i.plotY}:l={x:i.series.chart.plotLeft,y:i.series.yAxis.top-n.plotTop},l}},stockTools:{gui:{enabled:!1}},scrollbar:{liveRedraw:!1},plotOptions:{series:{showInNavigator:!0,turboThreshold:0,trackByArea:!1,dataGrouping:{enabled:!1},animation:!1,states:{inactive:{opacity:1}}}},navigator:{adaptToUpdatedData:!0,outlineWidth:0,handles:{backgroundColor:"#FFFFFF",borderColor:"#D1D1D1"},xAxis:{gridLineWidth:0,labels:{enabled:!1}},yAxis:{plotBands:[{color:"rgba(115, 113, 115, 0.2)",from:0,to:1}]}},series:[]}}catch(t){a(t,"init")}}),initSeries:()=>{w.value||(y.candleChart.mainSeries.forEach(o=>O(o)),w.value=!0)},getSettings:d.computed(()=>C.value),getIsInit:f.value}},ds={class:"chart"},fs=d.defineComponent({name:"TechAnCandleChart"}),gs=d.defineComponent(ct(at({},fs),{setup(y){const a=tt(),{_catch:L}=gt("TechAnCandleChart"),u=us(),f=d.ref(!1),w=()=>U(this,null,function*(){try{if(f.value)return;At(K),Ct(K),kt(K),_t(K),Pt(K),xt(K),yield u.init(K),f.value=!0}catch(C){L(C,"init")}});return d.onMounted(()=>U(this,null,function*(){yield w()})),d.watch(()=>a.selectedChartMode,()=>{a.selectedChartMode==="candle"&&u.initSeries()}),(C,O)=>{const S=d.resolveComponent("highcharts");return d.openBlock(),d.createElementBlock("div",ds,[f.value?(d.openBlock(),d.createBlock(S,{key:0,class:"chart__hc","constructor-type":"stockChart",options:d.unref(u).getSettings.value},null,8,["options"])):d.createCommentVNode("",!0)])}}}));const ys=J(gs,[["__scopeId","data-v-b1c34cb9"]]),vs=()=>{const y=tt();ut();const{_catch:a}=gt("line settings"),L=d.ref({}),u=d.ref({}),f=d.ref(!1),w=d.ref(!1),C=d.ref(!1),O=d.ref({}),S=e=>{try{L.value.addSeries(ct(at({},e),{tooltip:{customPointFormatter(){let i="";return this.points.forEach(n=>{i===""&&(i=`<b>${u.value.dateFormat("%b %e, %Y",this.x)}</b><br />`),n.point.close&&(i+=`<b><span style = "color:${n.series.color};">${n.series.name}</b><br />`,i+=`<span style ="color:${n.series.color};">Open</span>: ${n.point.open}<br/><span style ="color:${n.series.color};">High</span>: ${n.point.high}<br/><span style ="color:${n.series.color};">Low</span>: ${n.point.low}<br/><span style ="color:${n.series.color};">Close</span>: ${n.point.close}<br/>`)}),i}}}))}catch(i){a(i,"addSeries")}},h=()=>{};return{init:e=>U(void 0,null,function*(){try{u.value=e,O.value={annotations:[],navigation:{annotationsOptions:{shapeOptions:{fill:"rgba(30,204,30,0.2)",stroke:"rgba(51,199,32,0.8)",strokeWidth:2,borderWidth:2}},bindings:{inputText:{className:"highcharts-inputText-annotation",start(i){document.body.style.cursor="default";const n=i.chartX-this.chart.plotLeft,l=i.chartY-this.chart.plotTop,p=this.chart.pointer.getCoordinates(i),r=p.xAxis[0].value,c=p.yAxis[0].value,{navigation:A}=this.chart.options,v=[{positioner(m){return m.graphic.placed?{x:r-this.graphic.width/2,y:c-this.graphic.height/2}:{x:0,y:-9e7}},events:{drag(m,_){const M=this.mouseMoveToTranslation(m);_.translate(M.x,M.y),_.annotation.labels[0].options=_.options,_.redraw(!1)}}}],g=this,P=document.getElementById("labelTextForm"),x=function(){g.chart.addAnnotation(u.value.merge({animation:{defer:0},type:"basicAnnotation",langKey:"label",labelOptions:{backgroundColor:"rgba(0,0,0,0.75)",format:P.querySelector("#labelTextInput").value,style:{fontSize:"14px",color:"contrast"}},labels:[{point:{xAxis:0,yAxis:0,x:r,y:c},padding:8,overflow:"none",crop:!0,text:P.querySelector("#labelTextInput").value,controlPoints:v}]},A.annotationsOptions,A.bindings.labelAnnotation.annotationsOptions))};u.value.css(P,{top:`${i.pageY-10}px`,left:`${i.pageX-10}px`,display:"block"});const k=u.value.addEvent(P.querySelector("#labelTextButton"),"click",()=>{x(),u.value.css(P,{display:"none"}),k()});return P.querySelector("#labelTextInput").value="",!0}}}},chart:{backgroundColor:"",animation:!1,events:{load(){L.value=this,h()},redraw(){},render(){}}},rangeSelector:{enabled:!1},title:{text:""},legend:{enabled:!1},credits:{enabled:!1},xAxis:{crosshair:{snap:!1},lineColor:"#c2c2c2",type:"datetime",labels:{formatter(){return u.value.dateFormat("%e-%b-%Y",this.value)}}},yAxis:[{crosshair:{snap:!1,label:{enabled:!0,format:"{value:.2f}"}},id:"root",labels:{align:"left",x:10,style:{fontSize:"14px",color:"#838383",fontFamily:"Montserrat"}},height:"100%",resize:{enabled:!1},endOnTick:!1,opposite:!0,lineColor:"#c2c2c2",gridLineColor:"#c2c2c2",lineWidth:1,title:{text:""}}],tooltip:{xDateFormat:"%d %b 20%y \u0433.",backgroundColor:"#666666",style:{color:"#fff"},useHTML:!0,shape:"square",headerShape:"callout",borderWidth:0,shadow:!1,positioner(i,n,l){const{chart:p}=this;let r;return l.isHeader?r={x:Math.max(p.plotLeft,Math.min(l.plotX+p.plotLeft-i/2,p.chartWidth-i-p.marginRight)),y:l.plotY}:r={x:l.series.chart.plotLeft,y:l.series.yAxis.top-p.plotTop},r}},stockTools:{gui:{enabled:!1}},scrollbar:{liveRedraw:!1},plotOptions:{series:{showInNavigator:!0,turboThreshold:0,trackByArea:!1,dataGrouping:{enabled:!1},animation:!1,states:{inactive:{opacity:1}}}},navigator:{adaptToUpdatedData:!0,outlineWidth:0,handles:{backgroundColor:"#FFFFFF",borderColor:"#D1D1D1"},xAxis:{gridLineWidth:0,labels:{enabled:!1}},yAxis:{plotBands:[{color:"rgba(115, 113, 115, 0.2)",from:0,to:1}]}},series:[]}}catch(i){a(i,"init")}}),initSeries:()=>{try{if(w.value)return;y.lineChart.mainSeries.forEach(e=>S(e)),w.value=!0}catch(e){a(e,"initSeries")}},initCategories:()=>{try{if(C.value)return;L.value.xAxis[0].setCategories(y.lineChart.categories),C.value=!0}catch(e){a(e,"initCategories")}},getSettings:d.computed(()=>O.value),getIsInit:f.value}},ms={class:"chart"},xs=d.defineComponent({name:"TechAnLineChart"}),As=d.defineComponent(ct(at({},xs),{setup(y){const a=tt(),{_catch:L}=gt("TechAnLineChart"),u=vs(),f=d.ref(!1),w=()=>U(this,null,function*(){try{if(f.value)return;At(K),Ct(K),kt(K),_t(K),Pt(K),xt(K),yield u.init(K),f.value=!0}catch(C){L(C,"init")}});return d.onMounted(()=>U(this,null,function*(){yield w()})),d.watch(()=>a.selectedChartMode,()=>{a.selectedChartMode==="line"&&(u.initSeries(),u.initCategories())}),(C,O)=>{const S=d.resolveComponent("highcharts");return d.openBlock(),d.createElementBlock("div",ms,[f.value?(d.openBlock(),d.createBlock(S,{key:0,class:"chart__hc","constructor-type":"stockChart",options:d.unref(u).getSettings.value},null,8,["options"])):d.createCommentVNode("",!0)])}}}));const Cs=J(As,[["__scopeId","data-v-9197ddc9"]]),ks=d.defineComponent({name:"TechnicalAnalysisPageChart",components:{TechAnLineChart:Cs,TechAnCandleChart:ys,Loader:ht,TechnicalAnalysisPageChartBottomUtils:ps,TechnicalAnalysisPageChartTopUtils:ns,TechnicalAnalysisPageChartLeftUtils:zn},setup(){const y=d.ref(""),a=d.ref(!1),L=d.ref(!1),u=hs(),f=tt(),w=()=>U(this,null,function*(){try{if(a.value)return;At(K),Ct(K),kt(K),_t(K),Pt(K),xt(K),Gi(K),yield u.setup(K),a.value=!0}catch(S){console.error("init tech chart"),console.error(S)}}),C=()=>U(this,null,function*(){yield w()}),O=()=>{u.updateMainYAxis(),u.updateIndicators(),u.updateChartHeight(),u.load(),f.$patch({isNeedUpdateChart:!1,isDisablePage:!1})};return d.onMounted(()=>U(this,null,function*(){yield C()})),d.watch(()=>[f.isNeedUpdateChart,f.basicAsset.ID],()=>{f.isNeedUpdateChart&&O(),f.basicAsset.ID!==y.value&&(y.value=f.basicAsset.ID)}),d.watch(()=>f.isNeedUpdateBasicAsset,()=>{u.updateBasicAsset()}),{isInit:a,isLoad:L,getChartSettings:u.getSettings,getAnnotationStrokeColor:d.computed(()=>f.selectedAnnotationsColors.stroke),getAnnotationFillColor:d.computed(()=>f.selectedAnnotationsColors.fill),getChartMainYAxis:d.computed(()=>f.chartMainYAxis),getSelectedAssets:d.computed(()=>f.selectedAssets),getIsDisablePage:d.computed(()=>f.isDisablePage),getIsNeedUpdateChart:d.computed(()=>f.isNeedUpdateChart),getCurrentChartHeight:d.computed(()=>f.getCurrentChartHeight),getDarkModeStatus:d.computed(()=>f.isDarkMode),getSelectedChartMode:d.computed(()=>f.selectedChartMode)}}});const _s=y=>(d.pushScopeId("data-v-e6fa06e8"),y=y(),d.popScopeId(),y),Ps=_s(()=>d.createElementVNode("div",{id:"labelTextForm"},[d.createElementVNode("input",{id:"labelTextInput"}),d.createElementVNode("button",{id:"labelTextButton"},"\u0414\u043E\u0431\u0430\u0432\u0438\u0442\u044C")],-1));function Ss(y,a,L,u,f,w){const C=d.resolveComponent("Loader"),O=d.resolveComponent("TechnicalAnalysisPageChartTopUtils"),S=d.resolveComponent("TechnicalAnalysisPageChartLeftUtils"),h=d.resolveComponent("TechnicalAnalysisPageChartBottomUtils"),s=d.resolveComponent("highcharts"),o=d.resolveComponent("TechAnCandleChart"),t=d.resolveComponent("TechAnLineChart");return d.openBlock(),d.createElementBlock(d.Fragment,null,[Ps,d.createElementVNode("div",{class:d.normalizeClass(["overflow-disable",{"overflow-disable--active":y.getIsDisablePage}])},[d.createVNode(C)],2),d.createElementVNode("div",{class:d.normalizeClass(["technicalAnalysisChart",[{"technicalAnalysisChart--dark-mode":y.getDarkModeStatus}]])},[y.isInit?(d.openBlock(),d.createElementBlock("div",{key:0,class:d.normalizeClass(["technicalAnalysisChart__container",{"technicalAnalysisChart__container--disable":y.getSelectedAssets.length===0||y.getIsNeedUpdateChart}])},[d.createVNode(O),d.createVNode(S),d.createVNode(h),d.withDirectives(d.createVNode(s,{class:"technicalAnalysisChart__graph","constructor-type":"stockChart",options:y.getChartSettings,style:d.normalizeStyle({height:y.getCurrentChartHeight+200+"px"})},null,8,["options","style"]),[[d.vShow,y.getSelectedChartMode==="ohlc"]]),d.withDirectives(d.createVNode(o,null,null,512),[[d.vShow,y.getSelectedChartMode==="candle"]]),d.withDirectives(d.createVNode(t,null,null,512),[[d.vShow,y.getSelectedChartMode==="line"]])],2)):(d.openBlock(),d.createBlock(C,{key:1}))],2)],64)}const ws=J(ks,[["render",Ss],["__scopeId","data-v-e6fa06e8"]]),Os=d.defineComponent({name:"TechnicalAnalysisPageCompany",components:{TechnicalAnalysisPageCompanyStat:te},props:{asset:{type:Object,required:!0}},setup(y){const a=d.ref(""),L=d.ref([]),u=d.ref([]),f=d.ref([]),w=tt(),C=()=>U(this,null,function*(){w.deleteSelectedAsset(y.asset),yield w.savePreset()}),O=()=>{try{if(y.asset.REGION==="USA"?a.value="$":a.value="\u20BD",!y.asset.PROPS)return;L.value=[{title:"\u041F\u043E\u0441\u043B\u0435\u0434\u043D\u044F\u044F",value:y.asset.PROPS.LEGALCLOSE.VALUE},{title:"\u0412\u0447\u0435\u0440\u0430",value:y.asset.PROPS.QUOTATIONS_DAY.VALUE},{title:"\u041C\u0435\u0441\u044F\u0446 \u043D\u0430\u0437\u0430\u0434",value:y.asset.PROPS.QUOTATIONS_MONTH.VALUE}],u.value=[{title:"\u041F\u0440\u043E\u0441\u0430\u0434",value:y.asset.PROPS.PROP_PROSAD.VALUE},{title:"\u0414\u0430\u0442\u0430",value:y.asset.PROPS.PROP_DATA_PROSADA.VALUE,notNum:!0}],f.value=[{title:"\u0411\u0435\u0442\u0442\u0430",value:y.asset.PROPS.BETTA.VALUE},{title:"\u041A\u043E\u0434 \u0431\u0443\u043C\u0430\u0433\u0438",value:y.asset.PROPS.SECID.VALUE,notNum:!0}]}catch(S){console.error("techAn company component"),console.error(S)}};return d.onMounted(()=>{O()}),{onClickDelete:C,currency:a,itemsPrice:L,itemsDrawdown:u,itemsMixed:f}}});const Bt=y=>(d.pushScopeId("data-v-5f27ed3e"),y=y(),d.popScopeId(),y),bs={class:"company"},Es={class:"company__header"},Ms={class:"company__title"},Ds={class:"company__subtitle"},Ts={class:"company__body"},Ls={class:"company__footer"},Bs=Bt(()=>d.createElementVNode("div",{class:"company__price"},[d.createTextVNode("\u0426\u0435\u043D\u0430 \u043A\u043E\u043C\u043F\u0430\u043D\u0438\u0438: "),d.createElementVNode("span",null,"6 694 233 \u0420.")],-1)),Is=Bt(()=>d.createElementVNode("svg",{fill:"none",height:"24",viewBox:"0 0 24 24",width:"24",xmlns:"http://www.w3.org/2000/svg"},[d.createElementVNode("path",{d:"M5.07317 5.66667L6.03877 21.0626C6.07182 21.5895 6.50883 22 7.03681 22H17.451C17.979 22 18.416 21.5895 18.449 21.0626L19.4146 5.66667H16.3415M2 5.66667H8.14634M23 5.66667H19.6707H16.3415M16.3415 5.66667V2C16.3415 1.44771 15.8937 1 15.3415 1H9.14634C8.59406 1 8.14634 1.44772 8.14634 2V5.66667M16.3415 5.66667H8.14634M8.65854 8L9.17073 18.7333M12.2439 18.7333V8M15.3171 18.7333L15.8293 8",stroke:"white"})],-1)),Ns=Bt(()=>d.createElementVNode("span",null,"\u0423\u0434\u0430\u043B\u0438\u0442\u044C \u0438\u0437 \u0441\u0440\u0430\u0432\u043D\u0435\u043D\u0438\u044F",-1)),Vs=[Is,Ns];function js(y,a,L,u,f,w){const C=d.resolveComponent("TechnicalAnalysisPageCompanyStat");return d.openBlock(),d.createElementBlock("div",bs,[d.createElementVNode("div",Es,[d.createElementVNode("div",Ms,d.toDisplayString(y.asset.NAME),1),d.createElementVNode("div",Ds,d.toDisplayString(y.asset.CODE),1)]),d.createElementVNode("div",Ts,[d.createVNode(C,{currency:y.currency,items:y.itemsPrice,title:"\u0426\u0435\u043D\u0430"},null,8,["currency","items"]),d.createVNode(C,{currency:y.currency,items:y.itemsMixed,title:"\u0414\u0440\u0443\u0433\u043E\u0435"},null,8,["currency","items"]),d.createVNode(C,{currency:y.currency,items:y.itemsDrawdown,title:"\u041F\u0440\u043E\u0441\u0430\u0434"},null,8,["currency","items"])]),d.createElementVNode("div",Ls,[Bs,d.createElementVNode("div",{class:"company__delete",onClick:a[0]||(a[0]=(...O)=>y.onClickDelete&&y.onClickDelete(...O))},Vs)])])}const Fs=J(Os,[["render",js],["__scopeId","data-v-5f27ed3e"]]),$s=d.defineComponent({name:"TechnicalAnalysisPageCompanies",components:{Loader:ht,TechnicalAnalysisPageCompany:Fs},setup(){const y=tt();return{getSelectedAssetsDetails:d.computed(()=>y.selectedAssetsDetails),getIsRequestSelectedAssetsDetails:d.computed(()=>y.isRequestSelectedAssetsDetails)}}});const Rs={class:"companies"},Ys={key:0,class:"companies__container"},Us=d.createStaticVNode('<div class="companies__utils" data-v-efce650e><div class="companies__util" data-v-efce650e><svg fill="none" height="15" viewBox="0 0 15 15" width="15" xmlns="http://www.w3.org/2000/svg" data-v-efce650e><rect height="2" stroke="black" width="14" x="0.5" y="0.5" data-v-efce650e></rect><rect height="2" stroke="black" width="14" x="0.5" y="6.5" data-v-efce650e></rect><rect height="2" stroke="black" width="14" x="0.5" y="12.5" data-v-efce650e></rect></svg></div><div class="companies__util" data-v-efce650e><svg fill="none" height="15" viewBox="0 0 15 15" width="15" xmlns="http://www.w3.org/2000/svg" data-v-efce650e><rect fill="#2A8634" height="6" width="15" data-v-efce650e></rect><rect fill="#2A8634" height="6" width="15" y="9" data-v-efce650e></rect></svg></div></div>',1),Hs={class:"companies__list"};function zs(y,a,L,u,f,w){const C=d.resolveComponent("TechnicalAnalysisPageCompany"),O=d.resolveComponent("Loader");return d.openBlock(),d.createElementBlock("div",Rs,[y.getSelectedAssetsDetails.length>0?(d.openBlock(),d.createElementBlock("div",Ys,[Us,d.createElementVNode("div",Hs,[(d.openBlock(!0),d.createElementBlock(d.Fragment,null,d.renderList(y.getSelectedAssetsDetails,S=>(d.openBlock(),d.createBlock(C,{key:S.ID,asset:S},null,8,["asset"]))),128)),y.getIsRequestSelectedAssetsDetails?(d.openBlock(),d.createBlock(O,{key:0})):d.createCommentVNode("",!0)])])):d.createCommentVNode("",!0)])}const Xs=J($s,[["render",zs],["__scopeId","data-v-efce650e"]]),Ws=d.defineComponent({name:"TechnicalAnalysisPageBody",components:{TechnicalAnalysisPageCompanies:Xs,TechnicalAnalysisPageChart:ws,TechnicalAnalysisPageSettings:Wi}});const Gs={class:"technicalAnalysisBody"};function Ks(y,a,L,u,f,w){const C=d.resolveComponent("TechnicalAnalysisPageSettings"),O=d.resolveComponent("TechnicalAnalysisPageChart"),S=d.resolveComponent("TechnicalAnalysisPageCompanies");return d.openBlock(),d.createElementBlock("div",Gs,[d.createVNode(C),d.createVNode(O),d.createVNode(S)])}const Zs=J(Ws,[["render",Ks],["__scopeId","data-v-6b78f7f2"]]),qs=d.defineComponent({name:"TechnicalAnalysisPage",components:{Loader:ht,TechnicalAnalysisPageBody:Zs,TechnicalAnalysisPageHeader:ye},setup(){const y=d.ref(!1),a=$t(),L=tt(),u=()=>U(this,null,function*(){yield a.setCurrentUser(!0),yield L.setSaveList(),y.value=!0});return ee(()=>U(this,null,function*(){yield u()})),{isInit:y}}}),Js={class:"technicalAnalysis"};function Qs(y,a,L,u,f,w){const C=d.resolveComponent("TechnicalAnalysisPageHeader"),O=d.resolveComponent("TechnicalAnalysisPageBody"),S=d.resolveComponent("Loader");return d.openBlock(),d.createElementBlock("div",Js,[y.isInit?(d.openBlock(),d.createElementBlock(d.Fragment,{key:0},[d.createVNode(C),d.createVNode(O)],64)):(d.openBlock(),d.createBlock(S,{key:1}))])}const pr=J(qs,[["render",Qs]]);export{pr as default};
//# sourceMappingURL=index.200599e5.js.map
