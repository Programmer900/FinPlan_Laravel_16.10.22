{"version":3,"mappings":"ooBAIO,MAAMA,EAA6B,CACxC,CACE,MAAO,yDACP,UAAWC,uBAAqB,CAC9B,OAAQ,IAAMC,aAAO,q2BACrB,iBAAkBC,EACnB,EACD,MAAO,EACP,KAAM,OACR,EACA,CACE,MAAO,8CACP,UAAWF,uBAAqB,CAC9B,OAAQ,IAAMC,aAAO,q2BACrB,iBAAkBC,EACnB,EACD,MAAO,EACP,KAAM,QACR,EACA,CACE,MAAO,oDACP,UAAWF,uBAAqB,CAC9B,OAAQ,IAAMC,aAAO,q2BACrB,iBAAkBC,EACnB,EACD,MAAO,EACP,KAAM,YACR,EACA,CACE,MAAO,MACP,UAAWF,uBAAqB,CAC9B,OAAQ,UAAM,OAAO,q2BACrB,iBAAkBE,EACnB,EACD,MAAO,EACP,KAAM,KACR,EACA,CACE,MAAO,gEACP,UAAWF,uBAAqB,CAC9B,OAAQ,UAAM,OAAO,q2BACrB,iBAAkBE,EACnB,EACD,MAAO,EACP,KAAM,YACR,CACF,ECrBAC,EAAeC,kBAAgB,CAC7B,KAAM,YACN,WAAY,CACV,iBACA,uBACA,SACA,2BACA,iBACF,EACA,OAAQ,CACN,MAAMC,EAAQC,IAERC,EAAe,IAAM,CACzBF,EAAM,aAAa,GAGrBG,mBAAU,IAAYC,wBACpB,MAAMJ,EAAM,OACZA,EAAM,qBAAqB,EAC3B,MAAMA,EAAM,eAAc,EAI3B,EAEDK,mBAAiB,IAAYD,wBAC3B,QAAQ,IAAI,gBAAgB,EAC5B,MAAMJ,EAAM,MAAK,EAClB,EAEM,CACL,OACA,OAAQM,WAAS,IAAMN,EAAM,MAAM,EACnC,gBAAiBM,WAAS,IAAMN,EAAM,UAAU,aAAa,EAC7D,eAEJ,CACF,CAAC,8BArDiCO,EAAM,8OAZtCC,mBAeU,iBAZQC,YAAM,oCAUXC,mBATT,sBACwBC,uDACtBC,EAAgC,CAC/B,aAAM,YACN,cAAO,iHAEV,2JACwB,iCACbC,CAAe,EAA6BH,sGAEzD,GAAiB","names":["tabs","defineAsyncComponent","__vitePreload","Loader","_sfc_main","defineComponent","radar","radarStore","onClickReset","onMounted","__async","onServerPrefetch","computed","_hoisted_2","_resolveComponent","_openBlock","_createVNode","_createElementBlock","_component_TabsPresetRadarPortfolio","_component_PageRadarChart"],"sources":["../../../resources/js/views/Radar/data/tabs.ts","../../../resources/js/views/Radar/index.vue"],"sourcesContent":["import { defineAsyncComponent } from 'vue';\nimport Loader from '@/components/Loader/index.vue';\nimport { ITabPanelAsyncItem } from '@/interfaces/finplan/TabPanelAsyncItem';\n\nexport const tabs: ITabPanelAsyncItem[] = [\n  {\n    label: 'Облигации',\n    component: defineAsyncComponent({\n      loader: () => import('@/views/Radar/modules/TabPanels/Bonds/index.vue'),\n      loadingComponent: Loader,\n    }),\n    value: 0,\n    type: 'bonds',\n  },\n  {\n    label: 'Акции РФ',\n    component: defineAsyncComponent({\n      loader: () => import('@/views/Radar/modules/TabPanels/StockRu/index.vue'),\n      loadingComponent: Loader,\n    }),\n    value: 1,\n    type: 'shares',\n  },\n  {\n    label: 'Акции США',\n    component: defineAsyncComponent({\n      loader: () => import('@/views/Radar/modules/TabPanels/StockUsa/index.vue'),\n      loadingComponent: Loader,\n    }),\n    value: 2,\n    type: 'shares_usa',\n  },\n  {\n    label: 'ETF',\n    component: defineAsyncComponent({\n      loader: () => import('@/views/Radar/modules/TabPanels/ETF/index.vue'),\n      loadingComponent: Loader,\n    }),\n    value: 3,\n    type: 'etf',\n  },\n  {\n    label: 'Карта рынка',\n    component: defineAsyncComponent({\n      loader: () => import('@/views/Radar/modules/TabPanels/MarketMap/index.vue'),\n      loadingComponent: Loader,\n    }),\n    value: 4,\n    type: 'market-map',\n  },\n];\n","<template>\n  <section class=\"pageRadar\">\n    <HeaderPortfolio />\n    <!--    <button style=\"padding: 20px\" @click=\"onClickReset\">CБРОСИТЬ ФИЛЬТРЫ</button>-->\n    <template v-if=\"isInit\">\n      <TabsPresetRadarPortfolio\n        go-to-link=\"Portfolio\"\n        go-to-title=\"Перейти к портфелю\"\n        :tabs=\"tabs\"\n        :title=\"'Подбор активов для портфеля'\"\n      />\n      <PageRadarChart />\n      <PageRadarActivesList />\n      <div v-if=\"getUpdateActive\" class=\"pageRadar__block\" />\n    </template>\n    <Loader v-else />\n  </section>\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent } from 'vue';\nimport HeaderPortfolio from '@/components/Common/Header/Components/Portfolio/index.vue';\nimport { tabs } from '@/views/Radar/data/tabs';\nimport TabsPresetRadarPortfolio from '@/components/Tabs/modules/Presets/RadarPortfolio/index.vue';\nimport { radarStore } from '@/store/pinia/radar';\nimport Loader from '@/components/Loader/index.vue';\nimport PageRadarActivesList from '@/views/Radar/modules/ActivesList/index.vue';\nimport PageRadarChart from '@/views/Radar/modules/Chart/index.vue';\n\nexport default defineComponent({\n  name: 'PageRadar',\n  components: {\n    PageRadarChart,\n    PageRadarActivesList,\n    Loader,\n    TabsPresetRadarPortfolio,\n    HeaderPortfolio,\n  },\n  setup() {\n    const radar = radarStore();\n\n    const onClickReset = () => {\n      radar.resetFilters();\n    };\n\n    onMounted(async () => {\n      await radar.init();\n      radar.loadStateFromStorage();\n      await radar.updateActives();\n      // radar.logState();\n      //console.log(radar.filters.bonds);\n      //console.log(radar.actives);\n    });\n\n    onServerPrefetch(async () => {\n      console.log('Prefetching...')\n      await radar.init();\n    });\n\n    return {\n      tabs,\n      isInit: computed(() => radar.isInit),\n      getUpdateActive: computed(() => radar.processes.updateActives),\n      onClickReset,\n    };\n  },\n});\n</script>\n\n<style scoped lang=\"scss\">\n.pageRadar {\n  position: relative;\n\n  &__block {\n    position: fixed;\n    top: 0;\n    left: 0;\n    z-index: 999;\n    width: 100vw;\n    height: 100vh;\n    background: rgb(203 203 203 / 53%);\n    cursor: not-allowed;\n  }\n}\n</style>\n"],"file":"assets/index.2a9eb385.js"}