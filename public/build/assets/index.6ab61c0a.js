var p=(t,a,r)=>new Promise((s,c)=>{var m=n=>{try{l(r.next(n))}catch(d){c(d)}},i=n=>{try{l(r.throw(n))}catch(d){c(d)}},l=n=>n.done?s(n.value):Promise.resolve(n.value).then(m,i);l((r=r.apply(t,a)).next())});import{v as e,n as C,_ as h,u as I,l as b}from"./main.50abc935.js";import{D,a as _,b as f,c as v,d as w}from"./index.18d4bb87.js";import"./alert-circle.4df9b043.js";import"./useEmitter.cb46a42f.js";import"./check-svgrepo-com.3d930d88.js";import"./arrow-right.c9e4ddf7.js";import"./index.de0fdd57.js";import"./useVModel.13ad703e.js";import"./popper.esm.d8371509.js";const y=e.defineComponent({name:"DocumentIndicatorsTable",emits:["onChangeParam","onChangeChartDataView"],components:{DocumentIndicatorsTableHeader:D,DocumentIndicatorsTableRow:_,DocumentIndicatorsTableUtils:f,DocumentIndicatorsTableProps:v,DocumentIndicatorsTableAlert:w},props:{namespace:{type:String,default:""},isInit:{type:Boolean,required:!0},data:{type:Object,required:!0},categories:{type:Object,required:!0},quarters:{type:Array,default:[]},isReportPage:{type:Boolean,default:!1},isUtils:{type:Boolean,default:!1}},setup(t,{emit:a}){const r=e.ref(!1),s=e.ref(t.namespace),c=e.ref(t.isUtils),m=e.ref("year"),i=o=>{a("onChangeParam",o)},l=o=>{m.value=o},n=o=>{a("onChangeChartDataView",o)},d=e.computed(o=>o),u=e.computed(()=>Object.keys(t.data));return{onChangeParam:i,onChangeDocumentTableReport:l,type:m,onChangeChartDataView:n,getDataKeys:u,hold:r,showMiddleProfit:d,isShowUtils:c,namespace:s,i18n:C}}});const T={key:0,class:"tableIndicators __custom"},V={class:"greyBg"},B={class:"flexWrapperColumn wrapperUtils"},P=e.createElementVNode("h2",null,"\u0411\u0430\u043B\u0430\u043D\u0441",-1),S={class:"table"},N={class:"tableProps flexRowBetween"},k={class:"greyBg"},O={class:"flexWrapperColumn"};function R(t,a,r,s,c,m){const i=e.resolveComponent("DocumentIndicatorsTableAlert"),l=e.resolveComponent("DocumentIndicatorsTableProps"),n=e.resolveComponent("DocumentIndicatorsTableUtils"),d=e.resolveComponent("DocumentIndicatorsTableHeader"),u=e.resolveComponent("DocumentIndicatorsTableRow");return t.isInit?(e.openBlock(),e.createElementBlock("div",T,[e.createElementVNode("div",V,[e.createElementVNode("div",B,[P,e.createElementVNode("div",S,[e.createVNode(i),e.createElementVNode("div",N,[e.createVNode(l,{onOnChangeParam:t.onChangeParam,onOnChangeDocumentTableReport:t.onChangeDocumentTableReport},null,8,["onOnChangeParam","onOnChangeDocumentTableReport"]),e.createVNode(n,{onChangeSwitch:t.showMiddleProfit,isUtils:t.isShowUtils},null,8,["onChangeSwitch","isUtils"])])])])]),e.createElementVNode("div",{class:"tableIndicatorsScroller",onMousedown:a[0]||(a[0]=o=>t.hold=!0),onMouseup:a[1]||(a[1]=o=>t.hold=!1)},[e.createElementVNode("div",k,[e.createElementVNode("div",O,[e.createVNode(d,{categories:t.categories,data:t.data,quarters:t.quarters,namespaceWrapper:t.namespace,type:t.type},null,8,["categories","data","quarters","namespaceWrapper","type"]),(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(t.getDataKeys,o=>(e.openBlock(),e.createElementBlock(e.Fragment,{key:o},[t.data[o].hideInTable?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(u,{key:0,id:o,"is-report-page":t.isReportPage,item:t.data[o],annotation:t.i18n.global.messages[t.i18n.global.locale].companyIndicators.indicatorsDescription[o],onOnChangeChartDataView:t.onChangeChartDataView},null,8,["id","is-report-page","item","annotation","onOnChangeChartDataView"]))],64))),128))])])],32)])):e.createCommentVNode("",!0)}const E=h(y,[["render",R]]),$=e.defineComponent({name:"DocumentReportBalance",components:{DocumentIndicatorsTable:E},setup(){const t=I(),a=b(),r=e.ref(!1),s=e.ref(!1),c=()=>p(this,null,function*(){r.value=yield a.dispatch("documentStore/initIndicatorsChart")}),m=e.computed(()=>a.getters["documentStore/getIndicatorsChartCategoriesReport"].reverse()),i=e.computed(()=>a.getters["documentStore/getIndicatorsReportBalanceChart"]),l=g=>p(this,null,function*(){s.value=!1,a.commit("documentStore/resetIndicatorsChart"),yield c()}),n=g=>{s.value=!0,a.getters["documentStore/getIndicatorsChart"][g].visible=!a.getters["documentStore/getIndicatorsChart"][g].visible},d=e.computed(()=>Object.keys(a.getters["documentStore/getIndicatorsChart"])),u=e.computed(()=>a.getters["documentStore/getIndicatorsQuarter"]),o=()=>{r.value=!1,s.value=!1,a.commit("documentStore/resetIndicatorsChart"),a.commit("documentStore/resetTableProp")};return e.onMounted(()=>p(this,null,function*(){a.commit("documentStore/resetIndicatorsChart"),yield c()})),e.onUnmounted(()=>{o()}),e.watch(()=>t.params.name,()=>{o()}),{isInit:r,getChartCategories:m,getIndicators:i,getChartDataKeys:d,getQuarters:u,onChangeParam:l,onChangeChartDataView:n,hasBeenChanged:s}}});const U={class:"__balance"};function q(t,a,r,s,c,m){const i=e.resolveComponent("DocumentIndicatorsTable");return e.openBlock(),e.createElementBlock("div",U,[e.createVNode(i,{isInit:t.isInit,data:t.getIndicators,categories:t.getChartCategories,namespace:"balance",onOnChangeParam:t.onChangeParam,onOnChangeChartDataView:t.onChangeChartDataView},null,8,["isInit","data","categories","onOnChangeParam","onOnChangeChartDataView"])])}const J=h($,[["render",q],["__scopeId","data-v-377c99c7"]]);export{J as default};
//# sourceMappingURL=index.6ab61c0a.js.map
