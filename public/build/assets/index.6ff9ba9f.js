var m=(o,t,a)=>new Promise((s,u)=>{var i=n=>{try{c(a.next(n))}catch(r){u(r)}},d=n=>{try{c(a.throw(n))}catch(r){u(r)}},c=n=>n.done?s(n.value):Promise.resolve(n.value).then(i,d);c((a=a.apply(o,t)).next())});import{v as e,u as D,l as I,_ as v}from"./main.50abc935.js";import{D as k,C as _}from"./index.ef1b22c0.js";import{D as f}from"./index.fcf4c38d.js";import"./alert-circle.4df9b043.js";import"./useEmitter.cb46a42f.js";import"./check-svgrepo-com.3d930d88.js";import"./arrow-right.c9e4ddf7.js";import"./index.de0fdd57.js";import"./useVModel.13ad703e.js";import"./popper.esm.d8371509.js";const y=e.defineComponent({name:"DocumentCompanyIndicatorsPage",components:{DocumentIndicatorsChartCheckboxes:k,DocumentIndicatorsTable:f,ChartDynamic:_},setup(){const o=D(),t=I(),a=e.ref(!1),s=e.ref(!1),u=()=>m(this,null,function*(){a.value=yield t.dispatch("documentStore/initIndicatorsChart")}),i=()=>{a.value=!1,s.value=!1,t.commit("documentStore/resetIndicatorsChart"),t.commit("documentStore/resetTableProp")},d=()=>m(this,null,function*(){a.value=!1,a.value=yield t.dispatch("documentStore/resetIndicatorsChartToDefault"),s.value=!1}),c=l=>{s.value=!0,t.getters["documentStore/getIndicatorsChart"][l].visible=!t.getters["documentStore/getIndicatorsChart"][l].visible},n=l=>m(this,null,function*(){s.value=!1,t.commit("documentStore/resetIndicatorsChart"),yield u()}),r=e.computed(()=>Object.values(t.getters["documentStore/getIndicatorsChart"])),C=e.computed(()=>t.getters["documentStore/getIndicatorsChartCategoriesCustom"].reverse()),h=e.computed(()=>Object.keys(t.getters["documentStore/getIndicatorsChart"])),g=e.computed(()=>t.getters["documentStore/getIndicatorsChart"]),p=e.computed(()=>t.getters["documentStore/getIndicatorsQuarter"]);return e.onMounted(()=>m(this,null,function*(){yield u()})),e.onUnmounted(()=>{i()}),e.watch(()=>o.params.name,()=>{i()}),{isInit:a,onChangeChartDataView:c,onChangeParam:n,onCLickResetBtn:d,getChartDataKeys:h,getIndicators:g,getChartCategories:C,getChartDataValues:r,getQuarters:p,hasBeenChanged:s}}});const B={class:"indicatorsPage"},b={class:"greyBg"},E={class:"flexWrapperColumn"},S={class:"checkboxes flexRowCenter"},V={key:1};function w(o,t,a,s,u,i){const d=e.resolveComponent("DocumentIndicatorsChartCheckboxes"),c=e.resolveComponent("ChartDynamic"),n=e.resolveComponent("DocumentIndicatorsTable");return e.openBlock(),e.createElementBlock("div",B,[e.createElementVNode("div",b,[e.createElementVNode("div",E,[e.createElementVNode("button",{class:"resetBtn",onClick:t[0]||(t[0]=r=>o.onCLickResetBtn())},"\u0421\u0431\u0440\u043E\u0441\u0438\u0442\u044C \u0433\u0440\u0430\u0444\u0438\u043A"),e.createElementVNode("div",S,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(o.getChartDataKeys,r=>(e.openBlock(),e.createBlock(d,{key:r,id:r,item:o.getIndicators[r],onOnClick:o.onChangeChartDataView},null,8,["id","item","onOnClick"]))),128))]),o.isInit?(e.openBlock(),e.createBlock(c,{key:0,data:o.getChartDataValues,categories:o.getChartCategories},null,8,["data","categories"])):(e.openBlock(),e.createElementBlock("h1",V,"\u0418\u043D\u0444\u043E\u0440\u043C\u0430\u0446\u0438\u044F \u043E \u043F\u043E\u043A\u0430\u0437\u0430\u0442\u0435\u043B\u044F\u0445 \u043A\u043E\u043C\u043F\u0430\u043D\u0438\u0438 \u043D\u0435 \u043D\u0430\u0439\u0434\u0435\u043D\u0430"))])]),e.createVNode(n,{isInit:o.isInit,data:o.getIndicators,categories:o.getChartCategories,onOnChangeParam:o.onChangeParam,onOnChangeChartDataView:o.onChangeChartDataView},null,8,["isInit","data","categories","onOnChangeParam","onOnChangeChartDataView"])])}const Q=v(y,[["render",w],["__scopeId","data-v-48e79281"]]);export{Q as default};
//# sourceMappingURL=index.6ff9ba9f.js.map
