{"version":3,"file":"index.96171117.js","sources":["../../../resources/js/components/ClientOnly/index.vue","../../../resources/js/components/Inputs/DatePicker/index.vue"],"sourcesContent":["<script setup lang=\"ts\">\nconst isShow = ref<boolean>(false);\n\nonMounted(() => {\n  isShow.value = true;\n});\n</script>\n\n<template lang=\"pug\">\n.client-only(v-if='isShow')\n  slot\n</template>\n","<script lang=\"ts\">\nimport ClientOnly from '@/components/ClientOnly/index.vue';\n\nexport default defineComponent({\n  name: 'InputDatePicker',\n  components: {\n    ClientOnly,\n  },\n});\n</script>\n\n<script setup lang=\"ts\">\nimport { useVModel } from '@/use/useVModel';\n\nenum VIEW_MODE {\n  DEFAULT = 'default',\n  RANGE_INPUTS = 'range-input',\n}\n\nconst props = defineProps({\n  isRange: {\n    type: Boolean,\n    default: false,\n  },\n  start: {\n    type: String,\n    default: '01.03.2022',\n  },\n  end: {\n    type: String,\n    default: '05.03.2022',\n  },\n  viewMode: {\n    type: String,\n    default: 'default',\n  },\n  idStart: {\n    type: [Number, String],\n    default: '',\n  },\n  idEnd: {\n    type: [Number, String],\n    default: '',\n  },\n});\n\nconst emit = defineEmits([\n  'onChange',\n  'update:start',\n  'update:end',\n  'onChangeStart',\n  'onChangeEnd',\n]);\n\nconst masks = ref({\n  input: 'DD.MM.YYYY',\n  data: 'DD.MM.YYYY',\n  iso: 'DD.MM.YYYY',\n});\n\nconst formatDate = (date) => {\n  let dd: string | number = date.getDate();\n  if (dd < 10) dd = `0${dd}`;\n\n  let mm: string | number = date.getMonth() + 1;\n  if (mm < 10) mm = `0${mm}`;\n\n  let yy: string | number = date.getFullYear() % 100;\n  if (yy < 10) yy = `0${yy}`;\n\n  return `${dd}.${mm}.${yy}`;\n};\n\nconst dateRange = ref({\n  start: useVModel(props, 'start'),\n  end: useVModel(props, 'end'),\n});\n\nwatch(\n  () => dateRange.value,\n  () => {\n    emit('onChangeStart', props.idStart, formatDate(dateRange.value.start), {\n      silentUpdate: true,\n    });\n    emit('onChangeStart', props.idEnd, formatDate(dateRange.value.end));\n  },\n);\n</script>\n\n<template lang=\"pug\">\nClientOnly\n  DatePicker(\n    v-if='viewMode === VIEW_MODE.DEFAULT',\n    :is-range='isRange',\n    mode='date',\n    v-model='dateRange',\n    :masks='masks'\n  )\n  DatePicker(\n    v-if='viewMode === VIEW_MODE.RANGE_INPUTS',\n    v-model='dateRange',\n    :is-range='isRange',\n    :masks='masks',\n    mode='date'\n  )\n    template(v-slot='{ inputValue, inputEvents }')\n      .date-picker.date-picker--range-input\n        input(:value='inputValue.start', v-on='inputEvents.start', placeholder='Введите дату')\n        span →\n        input(:value='inputValue.end', v-on='inputEvents.end', placeholder='Введите дату')\n</template>\n\n<style scoped lang=\"scss\">\n.date-picker {\n  &--range-input {\n    display: flex;\n    flex-direction: column;\n    margin-top: 30px;\n\n    span {\n      display: inline-block;\n      margin: auto;\n      font-size: 30px;\n      transform: rotate(90deg);\n    }\n\n    input {\n      padding: 6px 10px;\n      font-size: 14px;\n      font-family: $ff-default;\n      border: 1px solid #b4b4b4;\n      border-radius: 4px;\n\n      &:first-child {\n        margin-bottom: 10px;\n      }\n\n      &:last-child {\n        margin-top: 10px;\n      }\n    }\n\n    @include respond-to(1000) {\n      flex-direction: row;\n\n      span {\n        margin: 0 10px 2px;\n        transform: rotate(0deg);\n        color: #383838;\n      }\n\n      input {\n        font-size: 16px;\n\n        &:first-child {\n          margin: 0;\n        }\n\n        &:last-child {\n          margin-top: 0;\n        }\n      }\n    }\n  }\n}\n</style>\n"],"names":["isShow","ref","onMounted","__default__","defineComponent","ClientOnly","masks","formatDate","date","dd","mm","yy","dateRange","useVModel","props","watch","emit"],"mappings":"wlBACM,MAAAA,EAASC,MAAa,EAAK,EAEjCC,OAAAA,EAAAA,UAAU,IAAM,CACdF,EAAO,MAAQ,EAAA,CAChB,gUCFDG,EAAeC,EAAAA,gBAAgB,CAC7B,KAAM,kBACN,WAAY,CAAA,WACVC,CACF,CACF,CAAC,+XA8CKC,EAAQL,EAAAA,IAAI,CAChB,MAAO,aACP,KAAM,aACN,IAAK,YAAA,CACN,EAEKM,EAAcC,GAAS,CACvB,IAAAC,EAAsBD,EAAK,UAC3BC,EAAK,KAAIA,EAAK,IAAIA,KAElB,IAAAC,EAAsBF,EAAK,SAAA,EAAa,EACxCE,EAAK,KAAIA,EAAK,IAAIA,KAElB,IAAAC,EAAsBH,EAAK,YAAA,EAAgB,IAC/C,OAAIG,EAAK,KAAIA,EAAK,IAAIA,KAEf,GAAGF,KAAMC,KAAMC,GAAA,EAGlBC,EAAYX,EAAAA,IAAI,CACpB,MAAOY,EAAUC,EAAO,OAAO,EAC/B,IAAKD,EAAUC,EAAO,KAAK,CAAA,CAC5B,EAEDC,OAAAA,EAAA,MACE,IAAMH,EAAU,MAChB,IAAM,CACJI,EAAK,gBAAiBF,EAAM,QAASP,EAAWK,EAAU,MAAM,KAAK,EAAG,CACtE,aAAc,EAAA,CACf,EACDI,EAAK,gBAAiBF,EAAM,MAAOP,EAAWK,EAAU,MAAM,GAAG,CAAC,CACpE,CAAA"}