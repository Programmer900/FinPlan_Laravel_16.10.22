import{v as e,_ as f,L as v,n as y}from"./main.50abc935.js";import{u as w}from"./useVModel.13ad703e.js";const k="/109.68.213.103/build/assets/dropdown.a475531c.svg",g=e.defineComponent({name:"LoaderSmall"});const E=o=>(e.pushScopeId("data-v-d72c7733"),o=o(),e.popScopeId(),o),B={class:"loader"},V=E(()=>e.createElementVNode("svg",{class:"loader__circular",viewBox:"25 25 50 50"},[e.createElementVNode("circle",{class:"loader__path",cx:"50",cy:"50",r:"20",fill:"none","stroke-width":"9","stroke-miterlimit":"10"})],-1)),C=[V];function L(o,t,a,i,d,s){return e.openBlock(),e.createElementBlock("div",B,C)}const D=f(g,[["render",L],["__scopeId","data-v-d72c7733"]]),z=e.defineComponent({name:"InputDropdown",emits:["update:selected","downloadList","changeElement","reset"],props:{title:{type:String,default:""},icon:{type:String,default:""},placeholder:{type:String,default:"\u0412\u044B\u0431\u0440\u0430\u0442\u044C"},placeholderSearch:{type:String,default:"",required:!1},items:{type:Object,required:!0,default:()=>{}},isColumn:{type:Boolean,default:!1},selected:{type:[Number,String],required:!0,default:""},fontSize:{type:String,required:!1,default:"20"},minWidth:{type:String,required:!1,default:"250"},resetS:{type:Boolean,required:!1,default:!1},loading:{type:Boolean,required:!1,default:!1}},components:{Loader:v,LoaderSmall:D},setup(o,{emit:t}){const a=w(o,"selected"),i=e.ref(!1),d=e.ref(!1),s=e.ref(""),r=e.ref(0),c=l=>{s.value=l.data},n=l=>{t("update:selected",l),a.value=l.label,s.value="",t("changeElement",l)},p=l=>{l.target.classList[0]!=="search__input"&&(t("downloadList"),i.value=!i.value)},m=l=>o.selected?l.label===a.value:!1,_=()=>{a.value="",s.value="",t("reset")},S=()=>{s.value.length>0&&(r.value=0)},h=l=>{switch(l.code){case"ArrowUp":u.value.length!==r.value&&r.value--;break;case"ArrowDown":u.value.length!==r.value&&r.value++;break}},u=e.computed(()=>o.items.filter(l=>l.label.toLowerCase().includes(s.value.toLowerCase())||l.code.toLowerCase().includes(s.value.toLowerCase())));return e.watch(()=>s.value,()=>{s.value.length}),{onSelect:n,onToggle:p,isCurrentItem:m,iconDropdown:k,isVisible:i,valueModel:a,reset:_,resetS:d,searchValue:s,onSearch:S,onSearchForList:h,i18n:y,searchingStock:u,compositionUpdate:c,getSelectedLabel:e.computed(()=>o.items.find(l=>l.label===a.value).label),getS:e.computed(()=>o.items)}}});const b={key:0,class:"inputDropdown__title"},N={class:"inputDropdown__field"},$={class:"inputDropdown__label"},I={key:0,class:"inputDropdown__icon"},q=["src"],F=["src"],U={key:0,class:"no-scrolling"},K={class:"search"},M={class:"search__field"},T=["placeholder"],W=["onClick"],A={key:1};function j(o,t,a,i,d,s){const r=e.resolveComponent("LoaderSmall"),c=e.resolveComponent("Loader");return e.openBlock(),e.createElementBlock("div",{class:e.normalizeClass(["inputDropdown",{"inputDropdown--column":o.isColumn}])},[o.title?(e.openBlock(),e.createElementBlock("div",b,e.toDisplayString(o.title),1)):e.createCommentVNode("",!0),e.createElementVNode("div",N,[e.createElementVNode("div",{class:"inputDropdown__selector",onClick:t[6]||(t[6]=n=>o.onToggle(n)),style:e.normalizeStyle({minWidth:o.minWidth+"px"})},[e.createElementVNode("div",$,[o.icon?(e.openBlock(),e.createElementBlock("span",I,[e.createElementVNode("img",{alt:"icon",src:o.icon},null,8,q)])):e.createCommentVNode("",!0),o.selected?(e.openBlock(),e.createElementBlock("span",{key:1,style:e.normalizeStyle({fontSize:o.fontSize+"px"})},e.toDisplayString(o.getSelectedLabel),5)):(e.openBlock(),e.createElementBlock("span",{key:2,style:e.normalizeStyle({fontSize:o.fontSize+"px"})},e.toDisplayString(o.placeholder),5))]),e.createElementVNode("img",{alt:"icon",class:e.normalizeClass(["inputDropdown__arrow",{"inputDropdown__arrow--expanded":o.isVisible}]),src:o.iconDropdown},null,10,F),o.loading?(e.openBlock(),e.createBlock(r,{key:0})):e.createCommentVNode("",!0),e.createElementVNode("div",{class:e.normalizeClass([{"inputDropdown__wrapList--hidden":!o.isVisible},"inputDropdown__wrapList--visible"])},[o.items.length?(e.openBlock(),e.createElementBlock("ul",U,[e.createElementVNode("li",{style:e.normalizeStyle({fontSize:o.fontSize+"px"}),class:"inputDropdown__item--search"},[e.createElementVNode("div",K,[e.createElementVNode("div",M,[e.withDirectives(e.createElementVNode("input",{"onUpdate:modelValue":t[0]||(t[0]=n=>o.searchValue=n),ref:"searchField",type:"text",class:"search__input",placeholder:o.placeholderSearch,autocomplete:"off",onInput:t[1]||(t[1]=(...n)=>o.onSearch&&o.onSearch(...n)),onKeyup:[t[2]||(t[2]=e.withKeys((...n)=>o.onSearchForList&&o.onSearchForList(...n),["down"])),t[3]||(t[3]=e.withKeys((...n)=>o.onSearchForList&&o.onSearchForList(...n),["up"]))],onCompositionupdate:t[4]||(t[4]=n=>o.compositionUpdate(n))},null,40,T),[[e.vModelText,o.searchValue]])])])],4),e.createElementVNode("li",{style:e.normalizeStyle({fontSize:o.fontSize+"px"}),onClick:t[5]||(t[5]=(...n)=>o.reset&&o.reset(...n)),class:"inputDropdown__item--reset"},"\u0421\u0431\u0440\u043E\u0441\u0438\u0442\u044C",4),e.createElementVNode("ul",null,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(o.searchingStock,(n,p)=>(e.openBlock(),e.createElementBlock("li",{key:n.code,class:e.normalizeClass({"inputDropdown__item--current":o.isCurrentItem(n)}),style:e.normalizeStyle({fontSize:o.fontSize+"px"}),onClick:m=>o.onSelect(n)},e.toDisplayString(n.label),15,W))),128))])])):(e.openBlock(),e.createElementBlock("ul",A,[e.createElementVNode("li",null,[e.createVNode(c)])]))],2)],4)])],2)}const H=f(z,[["render",j],["__scopeId","data-v-221a1eb4"]]);export{H as I};
//# sourceMappingURL=index.de0fdd57.js.map
