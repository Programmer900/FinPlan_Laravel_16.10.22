{"version":3,"file":"index.de0fdd57.js","sources":["../../../resources/js/components/Inputs/Dropdown/icons/dropdown.svg","../../../resources/js/components/LoaderSmall/index.vue","../../../resources/js/components/Inputs/Dropdown/index.vue"],"sourcesContent":["export default \"__VITE_ASSET__a475531c__\"","<template>\n  <div class=\"loader\">\n    <svg class=\"loader__circular\" viewBox=\"25 25 50 50\">\n      <circle\n        class=\"loader__path\"\n        cx=\"50\"\n        cy=\"50\"\n        r=\"20\"\n        fill=\"none\"\n        stroke-width=\"9\"\n        stroke-miterlimit=\"10\"\n      />\n    </svg>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent } from 'vue';\n\nexport default defineComponent({\n  name: 'LoaderSmall',\n});\n</script>\n\n<style scoped lang=\"scss\">\n.loader {\n  position: absolute;\n  width: 15px;\n  right: 15%;\n  margin: 0 auto 0 auto;\n  top: 27%;\n\n  &::before {\n    display: block;\n    padding-top: 100%;\n    content: '';\n  }\n\n  &__circular {\n    position: absolute;\n    top: 0;\n    right: 0;\n    bottom: 0;\n    left: 0;\n    width: 100%;\n    height: 100%;\n    margin: auto;\n    transform-origin: center center;\n    animation: rotate 2s linear infinite;\n  }\n\n  &__path {\n    stroke-dasharray: 1, 200;\n    stroke-dashoffset: 0;\n    animation: dash 1.5s ease-in-out infinite, color 6s ease-in-out infinite;\n    stroke-linecap: round;\n  }\n\n  @keyframes rotate {\n    100% {\n      transform: rotate(360deg);\n    }\n  }\n\n  @keyframes dash {\n    0% {\n      stroke-dasharray: 1, 200;\n      stroke-dashoffset: 0;\n    }\n    50% {\n      stroke-dasharray: 89, 200;\n      stroke-dashoffset: -35px;\n    }\n    100% {\n      stroke-dasharray: 89, 200;\n      stroke-dashoffset: -124px;\n    }\n  }\n\n  @keyframes color {\n    100%,\n    0% {\n      stroke: #1d7e4f;\n    }\n    40% {\n      stroke: #e0961e;\n    }\n    66% {\n      stroke: #008744;\n    }\n    80%,\n    90% {\n      stroke: #ffa700;\n    }\n  }\n}\n</style>\n","<template>\n  <div :class=\"['inputDropdown', { 'inputDropdown--column': isColumn }]\">\n    <div v-if=\"title\" class=\"inputDropdown__title\">{{ title }}</div>\n    <div class=\"inputDropdown__field\">\n      <div class=\"inputDropdown__selector\" @click=\"onToggle($event)\" :style=\"{ minWidth: minWidth + 'px' }\">\n        <div class=\"inputDropdown__label\">\n          <span v-if=\"icon\" class=\"inputDropdown__icon\">\n            <img alt=\"icon\" :src=\"icon\" />\n          </span>\n\n          <span v-if=\"selected\" :style=\"{ fontSize: fontSize + 'px' }\">{{ getSelectedLabel }}</span>\n          <span v-else :style=\"{ fontSize: fontSize + 'px' }\">{{ placeholder }}</span>\n        </div>\n        <img\n          alt=\"icon\"\n          class=\"inputDropdown__arrow\"\n          :class=\"{ 'inputDropdown__arrow--expanded': isVisible }\"\n          :src=\"iconDropdown\"\n        />\n        <LoaderSmall v-if=\"loading\"></LoaderSmall>\n\n        <div\n          :class=\"[\n            { 'inputDropdown__wrapList--hidden': !isVisible },\n            'inputDropdown__wrapList--visible',\n          ]\"\n        >\n          <ul v-if=\"items.length\" class=\"no-scrolling\">\n            <li :style=\"{ fontSize: fontSize + 'px' }\" class=\"inputDropdown__item--search\">\n              <div class=\"search\">\n                <div class=\"search__field\">\n                  <input\n                    v-model=\"searchValue\"\n                    ref=\"searchField\"\n                    type=\"text\"\n                    class=\"search__input\"\n                    :placeholder=\"placeholderSearch\"\n                    autocomplete=\"off\"\n                    @input=\"onSearch\"\n                    @keyup.down=\"onSearchForList\"\n                    @keyup.up=\"onSearchForList\"\n                    @compositionupdate=\"compositionUpdate($event)\"\n                  >\n                </div>\n              </div>\n            </li>\n            <li :style=\"{ fontSize: fontSize + 'px' }\" @click=\"reset\" class=\"inputDropdown__item--reset\">Сбросить</li>\n            <ul>\n              <li\n                v-for=\"(item, index) in searchingStock\"\n                :key=\"item.code\"\n                :class=\"{ 'inputDropdown__item--current': isCurrentItem(item) }\"\n                :style=\"{ fontSize: fontSize + 'px' }\"\n                @click=\"onSelect(item)\"\n              >\n                {{ item.label }}\n              </li>\n\n            </ul>\n          </ul>\n          <ul v-else>\n            <li>\n              <Loader />\n            </li>\n          </ul>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport iconDropdown from './icons/dropdown.svg';\nimport { useVModel } from '@/use/useVModel';\nimport Loader from '@/components/Loader/index.vue';\nimport LoaderSmall from '@/components/LoaderSmall/index.vue';\nimport placeholder from \"lodash/fp/placeholder\";\nimport { ref } from \"vue\";\nimport i18n from '@/plugins/i18n/vue-i18n';\n\ninterface IItem {\n  id: string | number;\n  label: string;\n\n  [key: string]: any;\n}\n\nexport default defineComponent({\n  name: 'InputDropdown',\n  emits: ['update:selected', 'downloadList', 'changeElement', 'reset'],\n  props: {\n    title: {\n      type: String,\n      default: '',\n    },\n    icon: {\n      type: String,\n      default: '',\n    },\n    placeholder: {\n      type: String,\n      default: 'Выбрать',\n    },\n    placeholderSearch: {\n      type: String,\n      default: '',\n      required: false\n    },\n    items: {\n      type: Object,\n      required: true,\n      default: () => {},\n    },\n    isColumn: {\n      type: Boolean,\n      default: false,\n    },\n    selected: {\n      type: [Number, String],\n      required: true,\n      default: '',\n    },\n    fontSize: {\n      type: String,\n      required: false,\n      default: '20'\n    },\n    minWidth: {\n      type: String,\n      required: false,\n      default: '250'\n    },\n\n    resetS: {\n      type: Boolean,\n      required: false,\n      default: false\n    },\n    loading: {\n      type: Boolean,\n      required: false,\n      default: false\n    }\n  },\n  components: {\n    Loader, LoaderSmall\n  },\n\n  setup(props, { emit }) {\n    const valueModel = useVModel(props, 'selected');\n    const isVisible = ref<boolean>(false);\n    const resetS = ref(false);\n    const searchValue = ref<string>('');\n\n    const iter = ref<number>(0);\n\n    const compositionUpdate = (e) => {\n      searchValue.value = e.data;\n    }\n\n    const onSelect = (selected) => {\n      emit('update:selected', selected);\n      //@ts-ignore\n      valueModel.value = selected.label;\n      searchValue.value = ''\n      emit('changeElement', selected);\n    };\n    const onToggle = (e) => {\n      if(e.target.classList[0] !== 'search__input') {\n        emit('downloadList');\n        isVisible.value = !isVisible.value;\n      }\n\n    };\n    const isCurrentItem = (item: IItem): boolean => {\n      if (props.selected) {\n        return item.label === valueModel.value;\n      }\n      return false;\n    };\n    const reset = () => {\n      valueModel.value = ''\n      searchValue.value = ''\n      emit('reset');\n    }\n    const onSearch = () => {\n      if (searchValue.value.length > 0) {\n        iter.value = 0\n      }\n    };\n\n    const onSearchForList = (direction) => {\n      //console.log('direction', direction)\n      //console.log('type', direction.type)\n\n      switch (direction.code) {\n        case 'ArrowUp':\n          if(searchingStock.value.length !== iter.value) {\n            iter.value--\n            /*console.log('Down', iter.value)\n            console.log(searchingStock.value[iter.value].label)*/\n            //searchValue.value = searchingStock.value[iter.value].label\n          }\n          break\n        case 'ArrowDown':\n          if(searchingStock.value.length !== iter.value) {\n            iter.value++\n            //console.log('Down', iter.value)\n            //console.log(searchingStock.value[iter.value].label)\n            //searchValue.value = searchingStock.value[iter.value].label\n          }\n          break\n      }\n    }\n\n    const searchingStock = computed(() => props.items.filter(stock => stock.label.toLowerCase().includes(searchValue.value.toLowerCase()) || stock.code.toLowerCase().includes(searchValue.value.toLowerCase())))\n    //const searchingStockList = computed(() => props.items.filter(stock => stock.label.toLowerCase().includes(searchValue.value.toLowerCase()) || stock.code.toLowerCase().includes(searchValue.value.toLowerCase())))\n\n    watch(\n      () => searchValue.value,\n      () => {\n        if(searchValue.value.length) {\n\n        }\n      },\n    );\n\n    return {\n      onSelect,\n      onToggle,\n      isCurrentItem,\n      iconDropdown,\n      isVisible,\n      valueModel,\n      reset,\n      resetS,\n\n      searchValue,\n      onSearch,\n      onSearchForList,\n\n      i18n,\n\n      searchingStock,\n      compositionUpdate,\n\n      getSelectedLabel: computed(() => props.items.find(item => item.label === valueModel.value).label),\n      getS: computed(() => props.items)\n    };\n  },\n});\n</script>\n\n<style scoped lang=\"scss\">\n.inputDropdown {\n  $blockname: &;\n\n  display: flex;\n  align-items: center;\n\n  &__field {\n    cursor: pointer;\n  }\n\n  &__title {\n    font-weight: 600;\n    font-size: 12px;\n  }\n\n  &__selector {\n    position: relative;\n    min-width: 200px;\n  }\n\n  &__arrow {\n    position: absolute;\n    top: 40%;\n    right: 10px;\n    transform: rotateZ(0deg) translateY(0);\n    transition-timing-function: cubic-bezier(0.59, 1.39, 0.37, 1.01);\n    transition-duration: 0.3s;\n\n    &--expanded {\n      transform: rotateZ(180deg) translateY(2px);\n    }\n  }\n\n  &__label {\n    display: flex;\n    align-items: center;\n    padding: 12px 15px;\n    color: #2a8634;\n    font-weight: 500;\n    font-size: 12px;\n\n    span {\n      display: inline-block;\n      margin-right: 20px;\n    }\n  }\n\n  &__item {\n    &--current {\n      background: #eaeaea;\n    }\n    /*&--search {\n      background: #fec006 !important;\n    }*/\n    &--reset:hover {\n      background: #d95050 !important;\n    }\n  }\n\n  &__wrapList {\n    &--visible {\n      visibility: visible;\n    }\n\n    &--hidden {\n      visibility: hidden;\n    }\n  }\n\n  ul {\n    z-index: 99999999;\n    position: absolute;\n    //z-index: 1;\n    width: 100%;\n    margin: 0;\n    padding: 0;\n    font-size: 12px;\n    list-style-type: none;\n    background: #fff;\n    border: 1px solid gainsboro;\n    max-height: 220px;\n    overflow-y: auto;\n  }\n\n  li {\n    padding: 12px;\n    color: #666;\n\n    &:hover {\n      color: white;\n      background: #2a8634;\n    }\n  }\n\n  &__icon {\n    margin-right: 5px;\n\n    img {\n      width: 100%;\n      height: 100%;\n      object-fit: cover;\n    }\n  }\n\n  &:hover {\n    #{$blockname} {\n      &__label {\n        color: #fec006;\n        span {\n          color: #fec006;\n        }\n      }\n    }\n  }\n\n  &--column {\n    flex-direction: column;\n    align-items: flex-start;\n\n    #{$blockname} {\n      &__title {\n        margin-bottom: 18px;\n      }\n    }\n  }\n\n  @include respond-to($container-media--tablet) {\n    &__title {\n      font-size: 15px;\n    }\n\n    &__label {\n      font-size: 15px;\n    }\n\n    ul {\n      font-size: 15px;\n    }\n  }\n\n  @include respond-to(1200) {\n    &__title {\n      font-size: 20px;\n    }\n\n    &__label {\n      font-size: 20px;\n    }\n\n    ul {\n      font-size: 20px;\n\n      li {\n        padding: 14px;\n      }\n    }\n\n    &__selector {\n      min-width: 250px;\n    }\n  }\n}\n\n.search {\n  &__form {\n    display: flex;\n    align-items: center;\n    justify-content: space-between;\n  }\n\n  &__input {\n    width: 100%;\n    height: auto;\n    padding: 10px 16px;\n    color: #656464;\n    font-weight: 400;\n    font-size: 16px;\n    font-family: $ff-montserrat;\n    background: #F1F1F1;\n    border: none;\n    border-radius: 10px;\n  }\n\n  &__btn {\n    margin-left: 8px;\n    padding: 0;\n    background: none;\n    border: none;\n    cursor: pointer;\n  }\n}\n</style>\n"],"names":["iconDropdown","_sfc_main$1","defineComponent","_withScopeId","n","_pushScopeId","_popScopeId","_hoisted_1","_hoisted_2","_createElementVNode","_sfc_main","Loader","LoaderSmall","props","emit","valueModel","useVModel","isVisible","ref","resetS","searchValue","iter","compositionUpdate","e","onSelect","selected","onToggle","isCurrentItem","item","reset","onSearch","onSearchForList","direction","searchingStock","computed","stock","watch","i18n","_hoisted_4","_hoisted_7","_resolveComponent","_normalizeClass","_ctx","_openBlock","_createElementBlock","_createCommentVNode","_cache","$event","_normalizeStyle","_hoisted_3","_toDisplayString","_hoisted_6","_createBlock","_component_LoaderSmall","_hoisted_8","_hoisted_9","args","_withKeys","_hoisted_10","_Fragment","_renderList","index","_hoisted_12"],"mappings":"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"}